{"version":3,"sources":["index.browser.min.js","index.browser.js","bursts/getLevelEntryForBurst.js","buffs/getEffectId.js","buffs/constants.js","buffs/effect-metadata.js","buffs/getMetadataForProc.js","buffs/isAttackingProcId.js","datamine-types.js","bursts/getEffectsForBurst.js","bursts/getExtraAttackDamageFramesEntry.js","buffs/getMetadataForPassive.js","buffs/getNameForProc.js","buffs/getNameForPassive.js","buffs/isProcEffect.js","buffs/isPassiveEffect.js","buffs/parsers/buff-types.js","buffs/parsers/_helpers.js","buffs/parsers/proc-effect-mapping.js","buffs/parsers/passive-effect-mapping.js","buffs/parsers/buff-metadata.js","buffs/parsers/convertProcEffectToBuffs.js","buffs/parsers/convertPassiveEffectToBuffs.js","buffs/parsers/getMetadataForBuff.js","buffs/combineEffectsAndDamageFrames.js","buffs/getEffectName.js","extra-skills/getEffectsForExtraSkill.js","items/getEffectsForItem.js","items/getItemImageUrl.js","leader-skills/getEffectsForLeaderSkill.js","units/getUnitImageFileNames.js","units/getUnitImageUrl.js","sp-enhancements/_constants.js","sp-enhancements/getSpEntryId.js","sp-enhancements/getEffectsForSpEnhancement.js","sp-enhancements/getSpCategoryName.js","sp-enhancements/spIndexToCode.js","sp-enhancements/spCodeToIndex.js","sp-enhancements/getSpEntryWithId.js","sp-enhancements/getAllDependenciesForSpEntry.js","sp-enhancements/getAllEntriesThatDependOnSpEntry.js","version.js"],"names":["bfmtUtilities","exports","getLevelEntryForBurst","burst","level","burstEffectsByLevel","Array","isArray","levels","levelIndex","isNaN","length","getEffectId","effect","resultId","KNOWN_PROC_ID","KNOWN_PASSIVE_ID","ProcBuffType","constants","Object","freeze","__proto__","PASSIVE_METADATA","1","ID","Name","2","3","4","5","6","8","9","10","11","12","13","14","15","16","17","19","20","21","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","52","53","55","58","59","61","62","63","64","65","66","69","70","71","72","73","74","75","77","78","79","80","81","82","84","85","86","88","89","90","91","92","93","96","97","99","100","101","102","103","104","105","106","107","109","110","111","112","113","114","127","128","143","10008","11004","11005","11006","11009","66,1","PROC_METADATA","0","Type","7","18","22","51","54","56","57","60","67","68","76","83","87","94","95","119","123","126","130","131","132","901","902","903","905","906","907","908","10000","10001","10002","10003","10004","10005","10006","10007","10009","10012","10015","10016","10017","10018","10019","10020","10021","10022","10023","10025","10026","11000","11001","11002","11003","70001","70002","2-5","getMetadataForProc","id","metadata","hasOwnProperty","call","isAttackingProcId","metadataEntry","Attack","Ailment","ArenaCondition","MoveType","TargetArea","TargetAreaShorthand","TargetType","SpPassiveType","SphereTypeName","SphereTypeId","SpCategoryName","SpCategoryId","UnitAnimationKey","UnitElement","UnitGender","UnitGettingType","UnitKind","UnitType","ItemType","MimicUnitIds","index","getEffectsForBurst","levelEntry","effects","getExtraAttackDamageFramesEntry","damageFrames","effectDelay","unifiedFrames","filter","frame","procId","BurstHeal","reduce","acc","frameEntry","keepFirstFrame","numFrames","damageDistribution","frameTimes","frameIndex","push","damage","time","resultDamageFramesEntry","effect delay time(ms)/frame","frame times","hit dmg% distribution","hit dmg% distribution (total)","hits","sort","a","b","forEach","getMetadataForPassive","getNameForProc","getNameForPassive","isProcEffect","isPassiveEffect","MimicMonsterGroupMapping","1000","Mimic","1100","BatMimic","1101","1200","DragonMimic","1300","MetalMimic","BuffStackType","BuffSource","BuffConditionElement","UnitStat","IconId","BuffId","datamineTypes","createSourcesFromContext","context","resultArray","previousSources","slice","unshift","source","sourceId","createSourceEntryFromContext","processExtraSkillConditions","conditions","aggregate","units","Set","items","sphereTypes","unknowns","condition","add","item","unit","type_id","condition_id","entries","entry","size","from","getPassiveTargetData","isPartyEffect","LeaderSkill","sp_type","EnhancePassive","Party","targetType","Self","targetArea","Aoe","Single","getProcTargetData","parseNumberOrDefault","value","defaultValue","createUnknownParamsValue","params","startIndex","hasValue","result","buffSourceIsBurstType","BraveBurst","SuperBraveBurst","UltimateBraveBurst","BondedBraveBurst","BondedSuperBraveBurst","DualBraveBurst","includes","mapping","getProcEffectToBuffMapping","reload","Map","map","ELEMENT_MAPPING","All","Fire","Water","Earth","Thunder","Light","Dark","AILMENT_MAPPING","Poison","Weak","Sick","Injury","Curse","Paralysis","AttackReduction","DefenseReduction","RecoveryReduction","retrieveCommonInfoForEffects","injectionContext","targetData","sources","splitEffectParams","split","createUnknownParamsEntry","unknownParams","originalId","assign","UNKNOWN_PROC_BUFF_PARAMS","createTurnDurationEntry","buffs","duration","TURN_DURATION_MODIFICATION","createUnknownParamsEntryFromExtraParams","extraParams","isTurnDurationBuff","turnDuration","getAttackInformationFromContext","distribution","parseProcWithSingleNumericalParameterAndTurnDuration","effectValueKey","effectTurnDurationKey","parseParamValue","rawValue","buffId","rawTurnDuration","results","set","atk%","flatAtk","crit%","bc%","hc%","dmg%","filteredValue","key","healLow","healHigh","healerRec%","recX","recY","keys","targetRec%","rec","flatFill","percentFill","rawFlatFill","rawPercentFill","element","atk","def","crit","coreStatProperties","rawElement","Unknown","effectElement","statType","effectKey","find","k","startsWith","concat","prop","hasAnyStats","some","statKey","buffEntry","targetElements","bc","hc","dropRateProperties","hasAnyRates","recoveredHpPercent","rawRecoveredHp","flatHpBoost","percentHpBoost","rawFlatBoost","rawPercentBoost","STAT_TYPE_MAPPING","statReductionEntries","statType1","value1","procChance1","statType2","value2","procChance2","rawStatType","rawProcChance","chance","stat","buffKey","hasAnyValues","curedAilments","splitParams","knownParams","p","param","values","ailment","inflictedAilments","numParams","ailmentValue","ailmentType","reviveToHp","rawReviveToHp","rawHits","Random","drainLow%","drainHigh%","mitigation","rawMitigation","mitigationKey","e","AILMENTS_ORDER","resistances","poison","weak","sick","injury","curse","paralysis","rawDuration","ailmentKeysInEffect","correspondingKey","fillLow","fillHigh","rawFillLow","rawFillHigh","rawChance","whenAttacked","coreStatPropertyMapping","effectToCoreStatMapping","attack","defense","recovery","hp","stats","convertedStat","rawConvertedStat","hitIncreasePerHit","extraHitDamage","hpDamageLow%","hpDamageHigh%","hpDamageChance%","setMapping","getPassiveEffectToBuffMapping","X","OmniParadigm","TYPE_MAPPING","Lord","Anima","Breaker","Guardian","Oracle","Rex","STATS_ORDER","conditionInfo","UNKNOWN_PASSIVE_BUFF_PARAMS","parsePassiveWithSingleNumericalParameter","typedEffect","parsePassiveWithNumericalValueRangeAndChance","effectKeyLow","effectKeyHigh","effectKeyChance","buffKeyLow","buffKeyHigh","defaultEffectChance","generateBaseConditions","valueLow","valueHigh","rawLowValue","rawHighValue","[object Object]","elements","element1","element2","elementValue","createBaseStatObject","unitType","targetUnitType","elem","requireHpAbove","hpThreshold","rawRequireHpAboveFlag","rawHpThreshold","hpGreaterThanOrEqualTo","hpLessThanOrEqualTo","DROP_TYPES_ORDER","dropRates","zel","karma","dropType","onEnemyDefeat","damageReduction","rawReduction","rawHealLow","rawHealHigh","onBattleWin","BUFF_METADATA","UNKNOWN_PASSIVE_EFFECT_ID","name","stackType","icons","UNKNOWN","turnDurationModification","Passive","buff","TURN_DURATION_DOWN","TURN_DURATION_UP","passive:1:hp","BUFF_HPDOWN","BUFF_HPUP","passive:1:atk","BUFF_ATKDOWN","BUFF_ATKUP","passive:1:def","BUFF_DEFDOWN","BUFF_DEFUP","passive:1:rec","BUFF_RECDOWN","BUFF_RECUP","passive:1:crit","BUFF_CRTRATEDOWN","BUFF_CRTRATEUP","createIconGetterForStat","polarity","iconKey","toUpperCase","passive:2:hp","passive:2:atk","passive:2:def","passive:2:rec","passive:2:crit","passive:3:hp","passive:3:atk","passive:3:def","passive:3:rec","passive:3:crit","passive:4:poison","poisonResist","BUFF_POISONBLK","passive:4:weak","weakResist","BUFF_WEAKBLK","passive:4:sick","sickResist","BUFF_SICKBLK","passive:4:injury","injuryResist","BUFF_INJURYBLK","passive:4:curse","curseResist","BUFF_CURSEBLK","passive:4:paralysis","BUFF_PARALYSISBLK","passive:5:fire","fireMitigation","BUFF_FIREDMGDOWN","passive:5:water","waterMitigation","BUFF_WATERDMGDOWN","passive:5:earth","earthMitigation","BUFF_EARTHDMGDOWN","passive:5:thunder","thunderMitigation","BUFF_THUNDERDMGDOWN","passive:5:light","lightMitigation","BUFF_LIGHTDMGDOWN","passive:5:dark","darkMitigation","BUFF_DARKDMGDOWN","passive:5:unknown","BUFF_ELEMENTDMGDOWN","passive:8","BUFF_DAMAGECUT","passive:9","bbGauge","BUFF_BBREC","passive:10","hcEfficacy","BUFF_HCREC","passive:11:atk","BUFF_HPTHRESHATKDOWN","BUFF_HPTHRESHATKUP","passive:11:def","BUFF_HPTHRESHDEFDOWN","BUFF_HPTHRESHDEFUP","passive:11:rec","BUFF_HPTHRESHRECDOWN","BUFF_HPTHRESHRECUP","passive:11:crit","BUFF_HPTHRESHCRTRATEDOWN","BUFF_HPTHRESHCRTRATEUP","passive:12:bc","bcDropRate","BUFF_BCDOWN","BUFF_BCDROP","passive:12:hc","hcDropRate","BUFF_HCDOWN","BUFF_HCDROP","passive:12:item","itemDropRate","BUFF_ITEMDOWN","BUFF_ITEMDROP","passive:12:zel","zelDropRate","BUFF_ZELDOWN","BUFF_ZELDROP","passive:12:karma","karmaDropRate","BUFF_KARMADOWN","BUFF_KARMADROP","passive:13","passive:14","passive:15","hpRecovery","BUFF_HPREC","passive:16","passive:17","BUFF_HPABS","passive:19:bc","passive:19:hc","passive:19:item","passive:19:zel","passive:19:karma","passive:20:poison","poisonInflict","BUFF_ADDPOISON","passive:20:weak","weakInflict","BUFF_ADDWEAK","passive:20:sick","sickInflict","BUFF_ADDSICK","passive:20:injury","injuryInflict","BUFF_ADDINJURY","passive:20:curse","curseInflict","BUFF_ADDCURSE","passive:20:paralysis","BUFF_ADDPARA","passive:20:atk down","atkDownInflict","BUFF_ADDATKDOWN","passive:20:def down","defDownInflict","BUFF_ADDDEFDOWN","passive:20:rec down","recDownInflict","BUFF_ADDRECDOWN","passive:20:unknown","BUFF_ADDAILMENT","passive:21:atk","ConditionalTimed","passive:21:def","passive:21:rec","passive:21:crit","passive:23","passive:24","BUFF_BEENATK_HPREC","passive:25","BUFF_DAMAGEBB","passive:26","damageReflect","BUFF_COUNTERDAMAGE","passive:27","targetingModification","BUFF_REPENEATT","BUFF_GETENEATT","UNKNOWN_PROC_EFFECT_ID","proc:1","ATK_ST","ATK_AOE","proc:2","Burst","proc:3","Active","proc:4:flat","proc:4:percent","hasElement","proc:5:atk","proc:5:def","proc:5:rec","proc:5:crit","proc:6:bc","proc:6:hc","proc:6:item","proc:7","koResistance","Singleton","BUFF_KOBLK","proc:8:flat","proc:8:percent","proc:9:atk","proc:9:def","proc:9:rec","proc:9:unknown","proc:10:poison","proc:10:weak","proc:10:sick","proc:10:injury","proc:10:curse","proc:10:paralysis","proc:10:atk down","atkDownResist","BUFF_ATKDOWNBLK","proc:10:def down","defDownResist","BUFF_DEFDOWNBLK","proc:10:rec down","recDownResist","BUFF_RECDOWNBLK","proc:10:unknown","BUFF_AILMENTBLK","proc:11:poison","DEBUFF_POISON","proc:11:weak","DEBUFF_WEAK","proc:11:sick","DEBUFF_SICK","proc:11:injury","DEBUFF_INJURY","proc:11:curse","DEBUFF_CURSE","proc:11:paralysis","DEBUFF_PARALYSIS","proc:11:atk down","proc:11:def down","proc:11:rec down","proc:11:unknown","DEBUFF_AILMENT","proc:12","proc:13","ATK_RT","proc:14","ATK_ST_HPREC","ATK_AOE_HPREC","proc:16:fire","proc:16:water","proc:16:earth","proc:16:thunder","proc:16:light","proc:16:dark","proc:16:all","proc:16:unknown","proc:17:poison","proc:17:weak","proc:17:sick","proc:17:injury","proc:17:curse","proc:17:paralysis","proc:18","proc:19","proc:20","proc:22","defenseIgnore","BUFF_IGNOREDEF","proc:23","sparkDamage","BUFF_SPARKUP","proc:24:atk","BUFF_CONVERTATKDOWN","BUFF_CONVERTATKUP","proc:24:def","BUFF_CONVERTDEFDOWN","BUFF_CONVERTDEFUP","proc:24:rec","BUFF_CONVERTRECDOWN","BUFF_CONVERTRECUP","proc:26","hitCountModification","BUFF_HITUP","proc:27","ATK_ST_PROPORTIONAL","ATK_AOE_PROPORTIONAL","index$1","convertProcEffectToBuffs","TypeError","conversionFunction","reloadMapping","get","defaultConversionFunction","convertPassiveEffectToBuffs","getMetadataForBuff","index$2","parsers","combineEffectsAndDamageFrames","combinedEntries","i","correspondingFrameEntry","delay","frames","getEffectName","resultName","effectId","passive","proc","index$3","getEffectsForExtraSkill","skill","index$4","getEffectsForItem","target_area","target_type","fullProcEffect","getItemImageUrl","baseContentUrl","fileName","index$5","getEffectsForLeaderSkill","index$6","getUnitImageFileNames","suffix","fileNameSuffix","spritesheet","battleAvatar","guideAvatar","fullIllustration","getUnitImageUrl","CHARACTER_CODE_FOR_UPPERCASE_A","charCodeAt","CHARACTER_CODE_FOR_LOWERCASE_A","CHARACTER_CODE_FOR_NUMBER_0","getSpEntryId","index$7","getEffectsForSpEnhancement","effectWrapper","spType","originalEffect","unwrappedEffect","getSpCategoryName","categoryId","Spark","Drops","Special","spIndexToCode","correspondingCharacterCode","Number","isInteger","String","fromCharCode","spCodeToIndex","code","characterCodeOffset","getSpEntryWithId","spId","getAllDependenciesForSpEntry","allEntries","addedEntries","dependencies","dependency","dependencyId","dependencyEntry","s","has","subDependencies","getAllEntriesThatDependOnSpEntry","dependents","entryId","dependent","subDependents","bursts","extraSkills","leaderSkills","spEnhancements","version"],"mappings":"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","file":"index.browser.min.js","sourcesContent":["\"use strict\";var bfmtUtilities=function(e){function a(e,a){const t=e&&Array.isArray(e.levels)?e.levels:[];let s;return s=null===a||isNaN(a)?t.length-1:+a-1,t[s]}function t(e){let a=\"\";return e&&(a=e[\"proc id\"]||e[\"unknown proc id\"]||e[\"passive id\"]||e[\"unknown passive id\"]||\"\"),a}var s,i;!function(e){e.BurstHeal=\"2\",e.Unknown=\"UNKNOWN_PROC_EFFECT_ID\"}(s||(s={})),function(e){e.TriggeredEffect=\"66\",e.Unknown=\"UNKNOWN_PASSIVE_EFFECT_ID\"}(i||(i={}));var n,o=Object.freeze({__proto__:null,get KNOWN_PROC_ID(){return s},get KNOWN_PASSIVE_ID(){return i}});!function(e){e.Attack=\"Attack\"}(n||(n={}));const r=Object.freeze({1:{ID:\"1\",Name:\"Parameter Boost\"},2:{ID:\"2\",Name:\"Elemental Parameter Boost\"},3:{ID:\"3\",Name:\"Type-Based Parameter Boost\"},4:{ID:\"4\",Name:\"Status Negation\"},5:{ID:\"5\",Name:\"Elemental Damage Reduction\"},6:{ID:\"6\",Name:\"\"},8:{ID:\"8\",Name:\"Damage Reduction\"},9:{ID:\"9\",Name:\"Gradual BB Gauge Boost\"},10:{ID:\"10\",Name:\"HC Efficacy\"},11:{ID:\"11\",Name:\"HP-Conditional Parameter Boost\"},12:{ID:\"12\",Name:\"HP-Conditional Drop Rate Boost\"},13:{ID:\"13\",Name:\"BC Fill on Enemy Defeat\"},14:{ID:\"14\",Name:\"Damage Reduction (Chance)\"},15:{ID:\"15\",Name:\"Heal on Enemy Defeat\"},16:{ID:\"16\",Name:\"Heal on Battle Victory\"},17:{ID:\"17\",Name:\"HP Absorption\"},19:{ID:\"19\",Name:\"Drop Rate Boost\"},20:{ID:\"20\",Name:\"Status Infliction\"},21:{ID:\"21\",Name:\"Parameter Boost for First X Turns\"},23:{ID:\"23\",Name:\"BC Fill on Battle Victory\"},24:{ID:\"24\",Name:\"Heal when Attacked (Chance)\"},25:{ID:\"25\",Name:\"BC Fill when Hit (Chance)\"},26:{ID:\"26\",Name:\"Damage Counter (Chance)\"},27:{ID:\"27\",Name:\"Increased Target Chance\"},28:{ID:\"28\",Name:\"Decreased Target Chance\"},29:{ID:\"29\",Name:\"Defense Ignore (Chance)\"},30:{ID:\"30\",Name:\"BB Conditional Parameter Boost\"},31:{ID:\"31\",Name:\"Spark Damage Boost, Boost Drop Rate on Spark\"},32:{ID:\"32\",Name:\"BC Efficacy\"},33:{ID:\"33\",Name:\"Heal over Time\"},34:{ID:\"34\",Name:\"Critical Damage Boost\"},35:{ID:\"35\",Name:\"BC Fill when Normal Attacking\"},36:{ID:\"36\",Name:\"Extra Action\"},37:{ID:\"37\",Name:\"Hit Count Boost\"},38:{ID:\"38\",Name:\"\"},39:{ID:\"39\",Name:\"\"},40:{ID:\"40\",Name:\"Parameter Conversion\"},41:{ID:\"41\",Name:\"Unique Element Count Conditional Parameter Boost\"},42:{ID:\"42\",Name:\"Gender Parameter Boost\"},43:{ID:\"43\",Name:\"Damage Reduction to 1\"},44:{ID:\"44\",Name:\"Flat Parameter Boost\"},45:{ID:\"45\",Name:\"Critical Damage Negation\"},46:{ID:\"46\",Name:\"Parameter Boost Relative to HP Remainaing\"},47:{ID:\"47\",Name:\"BC Fill on Spark\"},48:{ID:\"48\",Name:\"BC Cost Reduction\"},49:{ID:\"49\",Name:\"BB Gauge Consumption Reduction\"},50:{ID:\"50\",Name:\"Elemental Damage Boost\"},52:{ID:\"52\",Name:\"\"},53:{ID:\"53\",Name:\"Critical/Elemental Weakness Damage Negation\"},55:{ID:\"55\",Name:\"Conditional Effect based on HP Threshold\"},58:{ID:\"58\",Name:\"Damage Reduction when Guarding\"},59:{ID:\"59\",Name:\"BC Fill when Attacked when Guarding\"},61:{ID:\"61\",Name:\"BC Fill on Guard\"},62:{ID:\"62\",Name:\"Elemental Damage Reduction\"},63:{ID:\"63\",Name:\"Elemental Damage Reduction for first X Turns\"},64:{ID:\"64\",Name:\"BB Atk Boost\"},65:{ID:\"65\",Name:\"BC Fill on Critical\"},66:{ID:\"66\",Name:\"Add buff to Brave Burst\"},69:{ID:\"69\",Name:\"Chance KO Resistance (Angel Idol)\"},70:{ID:\"70\",Name:\"OD Gauge Fill Rate Boost\"},71:{ID:\"71\",Name:\"Status Counter\"},72:{ID:\"72\",Name:\"Turn End Effects Activate at Turn Start\"},73:{ID:\"73\",Name:\"Parameter Reduction Negation\"},74:{ID:\"74\",Name:\"Attack Boost on Status Afflicted Foes\"},75:{ID:\"75\",Name:\"Spark Vulnerability\"},77:{ID:\"77\",Name:\"Spark Damage Reduction\"},78:{ID:\"78\",Name:\"Conditional Effect after Damage Received Threshold\"},79:{ID:\"79\",Name:\"BC Fill after Damage Received Threshold\"},80:{ID:\"80\",Name:\"Conditional Effect after Damage Dealt Threshold\"},81:{ID:\"81\",Name:\"BC Fill after Damage Dealt Threshold\"},82:{ID:\"82\",Name:\"Conditional Effect after BC Received Threshold\"},84:{ID:\"84\",Name:\"Conditional Effect after HC Received Threshold\"},85:{ID:\"85\",Name:\"BC Fill after HC Received Threshold\"},86:{ID:\"86\",Name:\"Conditional Effect after Spark Threshold\"},88:{ID:\"88\",Name:\"Conditional Effect on Guard\"},89:{ID:\"89\",Name:\"Conditional Effect on Critical\"},90:{ID:\"90\",Name:\"Status Infliction on Critical\"},91:{ID:\"91\",Name:\"\"},92:{ID:\"92\",Name:\"Negate Defense Ignore\"},93:{ID:\"93\",Name:\"Added Elements\"},96:{ID:\"96\",Name:\"Normal Attacks Hit All Foes\"},97:{ID:\"97\",Name:\"Player EXP Boost\"},99:{ID:\"99\",Name:\"\"},100:{ID:\"100\",Name:\"Spark Critical\"},101:{ID:\"101\",Name:\"Heal on Spark\"},102:{ID:\"102\",Name:\"Added Elements\"},103:{ID:\"103\",Name:\"BB Atk Boost when HP Passes Threshold\"},104:{ID:\"104\",Name:\"Spark Boost when HP Passes Threshold\"},105:{ID:\"105\",Name:\"Turn-Based Parameter Boost\"},106:{ID:\"106\",Name:\"Conditional Effect after Activating Overdrive\"},107:{ID:\"107\",Name:\"Add Effect to Leader Skill\"},109:{ID:\"109\",Name:\"BB Gauge Reduction (Chance)\"},110:{ID:\"110\",Name:\"BC Efficacy Reduction (Chance)\"},111:{ID:\"111\",Name:\"Increase Brave Burst Activation Rate\"},112:{ID:\"112\",Name:\"ABP/CBP Boost\"},113:{ID:\"113\",Name:\"Conditional Effect after HP Threshold\"},114:{ID:\"114\",Name:\"Inflict Buff when Attacked\"},127:{ID:\"127\",Name:\"Additional Damage (Damage over Time) Reduction\"},128:{ID:\"128\",Name:\"Damage Reduction from Normal Attacks\"},143:{ID:\"143\",Name:\"Break Atk Parameter Limit\"},10008:{ID:\"10008\",Name:\"Damage Reduction from Specific Sources\"},11004:{ID:\"11004\",Name:\"Elemental Spark Damage Boost\"},11005:{ID:\"11005\",Name:\"Elemental Critical Damage Boost\"},11006:{ID:\"11006\",Name:\"Summoner EXP Boost\"},11009:{ID:\"11009\",Name:\"Effect Duration Boost\"},\"66,1\":{ID:\"66,1\",Name:\"\"}}),c=Object.freeze({0:{ID:\"0\",Name:\"\",Type:\"\"},1:{ID:\"1\",Name:\"Regular Damage\",Type:\"Attack\"},2:{ID:\"2\",Name:\"Burst Heal\",Type:\"\"},3:{ID:\"3\",Name:\"Heal over Time\",Type:\"\"},4:{ID:\"4\",Name:\"BB Gauge Refill\",Type:\"\"},5:{ID:\"5\",Name:\"Parameter Boost\",Type:\"\"},6:{ID:\"6\",Name:\"Drop Rate\",Type:\"\"},7:{ID:\"7\",Name:\"Guaranteed KO Resistance (Angel Idol)\",Type:\"\"},8:{ID:\"8\",Name:\"Max HP Boost\",Type:\"\"},9:{ID:\"9\",Name:\"Parameter Reduction\",Type:\"\"},10:{ID:\"10\",Name:\"Status Cleanse\",Type:\"\"},11:{ID:\"11\",Name:\"Status Infliction\",Type:\"\"},12:{ID:\"12\",Name:\"Revive (Guaranteed)\",Type:\"\"},13:{ID:\"13\",Name:\"Random Target Damage\",Type:\"Attack\"},14:{ID:\"14\",Name:\"Lifesteal Damage\",Type:\"Attack\"},16:{ID:\"16\",Name:\"Elemental Damage Reduction\",Type:\"\"},17:{ID:\"17\",Name:\"Status Negation\",Type:\"\"},18:{ID:\"18\",Name:\"Damage Reduction\",Type:\"\"},19:{ID:\"19\",Name:\"Gradual BB Gauge Boost\",Type:\"\"},20:{ID:\"20\",Name:\"BC Fill on Hit\",Type:\"\"},22:{ID:\"22\",Name:\"Defense Ignore\",Type:\"\"},23:{ID:\"23\",Name:\"Spark Boost\",Type:\"\"},24:{ID:\"24\",Name:\"Parameter Conversion\",Type:\"\"},26:{ID:\"26\",Name:\"Hit Count Boost\",Type:\"\"},27:{ID:\"27\",Name:\"Proportional Damage\",Type:\"Attack\"},28:{ID:\"28\",Name:\"Fixed Damage\",Type:\"Attack\"},29:{ID:\"29\",Name:\"Multi-Element Damage\",Type:\"Attack\"},30:{ID:\"30\",Name:\"Add Elements\",Type:\"\"},31:{ID:\"31\",Name:\"Instant BB Gauge Fill\",Type:\"\"},32:{ID:\"32\",Name:\"Element Shift\",Type:\"\"},33:{ID:\"33\",Name:\"Buff Removal (Chance)\",Type:\"\"},34:{ID:\"34\",Name:\"BB Gauge Reduction (Chance)\",Type:\"\"},36:{ID:\"36\",Name:\"Leader Skill Lock (Chance)\",Type:\"\"},37:{ID:\"37\",Name:\"Summon Unit\",Type:\"\"},38:{ID:\"38\",Name:\"Status Cure\",Type:\"\"},39:{ID:\"39\",Name:\"Elemental Damage Reduction\",Type:\"\"},40:{ID:\"40\",Name:\"Status Infliction Added to Attack\",Type:\"\"},42:{ID:\"42\",Name:\"\",Type:\"\"},43:{ID:\"43\",Name:\"Instant OD Fill\",Type:\"\"},44:{ID:\"44\",Name:\"Damage over Time (Additional Damage)\",Type:\"\"},45:{ID:\"45\",Name:\"BB Atk Boost\",Type:\"\"},46:{ID:\"46\",Name:\"Non-Lethal Proportional Damage\",Type:\"Attack\"},47:{ID:\"47\",Name:\"HP Scaled Damage\",Type:\"Attack\"},48:{ID:\"48\",Name:\"Piercing Proportional Damage\",Type:\"Attack\"},49:{ID:\"49\",Name:\"Retire\",Type:\"\"},50:{ID:\"50\",Name:\"Damage Counter\",Type:\"\"},51:{ID:\"51\",Name:\"Parameter Reduction Added to Attack\",Type:\"\"},52:{ID:\"52\",Name:\"BC Efficacy\",Type:\"\"},53:{ID:\"53\",Name:\"Status Counter\",Type:\"\"},54:{ID:\"54\",Name:\"Critical Damage Boost\",Type:\"\"},55:{ID:\"55\",Name:\"Elemental Damage Boost\",Type:\"\"},56:{ID:\"56\",Name:\"Chance KO Resistance (Angel Idol)\",Type:\"\"},57:{ID:\"57\",Name:\"BC Efficacy Reduction\",Type:\"\"},58:{ID:\"58\",Name:\"Spark Vulnerability\",Type:\"\"},59:{ID:\"59\",Name:\"BB Atk Reduction\",Type:\"\"},60:{ID:\"60\",Name:\"\",Type:\"\"},61:{ID:\"61\",Name:\"BB-Scaled Damage\",Type:\"Attack\"},62:{ID:\"62\",Name:\"Barrier\",Type:\"\"},63:{ID:\"63\",Name:\"Selective Buff Wipe\",Type:\"\"},64:{ID:\"64\",Name:\"Consecutive Damage\",Type:\"Attack\"},65:{ID:\"65\",Name:\"Attack Boost on Status Afflicted Foes\",Type:\"\"},66:{ID:\"66\",Name:\"Revive (Chance)\",Type:\"\"},67:{ID:\"67\",Name:\"BC Fill on Spark\",Type:\"\"},68:{ID:\"68\",Name:\"Damage Reduction when Guarding\",Type:\"\"},69:{ID:\"69\",Name:\"BC Fill on Guard\",Type:\"\"},70:{ID:\"70\",Name:\"\",Type:\"\"},71:{ID:\"71\",Name:\"BB Gauge Fill Rate Debuff\",Type:\"\"},73:{ID:\"73\",Name:\"Parameter Reduction Negation\",Type:\"\"},75:{ID:\"75\",Name:\"Element Squad-Scaled Damage\",Type:\"Attack\"},76:{ID:\"76\",Name:\"Extra Action\",Type:\"\"},78:{ID:\"78\",Name:\"Self Parameter Boost\",Type:\"\"},79:{ID:\"79\",Name:\"Player EXP Boost\",Type:\"\"},82:{ID:\"82\",Name:\"\",Type:\"\"},83:{ID:\"83\",Name:\"Spark Critical\",Type:\"\"},84:{ID:\"84\",Name:\"OD Gauge Fill Rate\",Type:\"\"},85:{ID:\"85\",Name:\"Heal when Attacked\",Type:\"\"},86:{ID:\"86\",Name:\"HP Absorption\",Type:\"\"},87:{ID:\"87\",Name:\"Heal on Spark\",Type:\"\"},88:{ID:\"88\",Name:\"Self Spark Boost\",Type:\"\"},89:{ID:\"89\",Name:\"Self Parameter Conversion\",Type:\"\"},92:{ID:\"92\",Name:\"Self Max HP Boost\",Type:\"\"},93:{ID:\"93\",Name:\"Spark/Critical/Elemental Weakness Damage Reduction\",Type:\"\"},94:{ID:\"94\",Name:\"Normal Attacks Hit All Foes\",Type:\"\"},95:{ID:\"95\",Name:\"Nullify Sphere Effects (Sphere Lock)\",Type:\"\"},96:{ID:\"96\",Name:\"Nullify Extra Skill Effects (ES Lock)\",Type:\"\"},97:{ID:\"97\",Name:\"Element Target Damage\",Type:\"Attack\"},113:{ID:\"113\",Name:\"Gradual OD Fill\",Type:\"\"},119:{ID:\"119\",Name:\"Gradual BC Drain\",Type:\"\"},123:{ID:\"123\",Name:\"OD Gauge Reduction\",Type:\"\"},126:{ID:\"126\",Name:\"Damage over Time (Additional Damage) Mitigation\",Type:\"\"},127:{ID:\"127\",Name:\"Lock On\",Type:\"\"},130:{ID:\"130\",Name:\"Parameter Reduction Counter\",Type:\"\"},131:{ID:\"131\",Name:\"\",Type:\"\"},132:{ID:\"132\",Name:\"Critical/Elemental Weakness Vulnerability\",Type:\"\"},901:{ID:\"901\",Name:\"Raid Heal (on Map)\",Type:\"\"},902:{ID:\"902\",Name:\"Raid Parameter Boost\",Type:\"\"},903:{ID:\"903\",Name:\"Raid Boss Reveal\",Type:\"\"},905:{ID:\"905\",Name:\"Raid Teleport\",Type:\"\"},906:{ID:\"906\",Name:\"Raid Flee\",Type:\"\"},907:{ID:\"907\",Name:\"Raid Damage Reduction\",Type:\"\"},908:{ID:\"908\",Name:\"Raid Item Drop Rate Boost\",Type:\"\"},1e4:{ID:\"10000\",Name:\"Taunt\",Type:\"\"},10001:{ID:\"10001\",Name:\"Stealth\",Type:\"\"},10002:{ID:\"10002\",Name:\"Shield (old)\",Type:\"\"},10003:{ID:\"10003\",Name:\"Nullify Sphere Effects (Sphere Lock)\",Type:\"\"},10004:{ID:\"10004\",Name:\"Damage Immunity\",Type:\"\"},10005:{ID:\"10005\",Name:\"Turn Skip (short duration)\",Type:\"\"},10006:{ID:\"10006\",Name:\"Turn Skip (long duration)\",Type:\"\"},10007:{ID:\"10007\",Name:\"Evasion\",Type:\"\"},10009:{ID:\"10009\",Name:\"\",Type:\"\"},10012:{ID:\"10012\",Name:\"OD Drain\",Type:\"\"},10015:{ID:\"10015\",Name:\"Elemental Spark Boost\",Type:\"\"},10016:{ID:\"10016\",Name:\"Element Critical Damage Boost\",Type:\"\"},10017:{ID:\"10017\",Name:\"Elemental Shield\",Type:\"\"},10018:{ID:\"10018\",Name:\"Max HP Reduction\",Type:\"\"},10019:{ID:\"10019\",Name:\"Effect Purge\",Type:\"\"},10020:{ID:\"10020\",Name:\"Piercing Damage\",Type:\"Attack\"},10021:{ID:\"10021\",Name:\"Active Healing Reduction\",Type:\"\"},10022:{ID:\"10022\",Name:\"Passive Healing Reduction\",Type:\"\"},10023:{ID:\"10023\",Name:\"HC Efficacy Reduction\",Type:\"\"},10025:{ID:\"10025\",Name:\"KO Resistance Negation\",Type:\"\"},10026:{ID:\"10026\",Name:\"Doom\",Type:\"\"},11e3:{ID:\"11000\",Name:\"Negative HP-Scaled Damage\",Type:\"Attack\"},11001:{ID:\"11001\",Name:\"Max HP% DoT of Weaker Element Enemies\",Type:\"\"},11002:{ID:\"11002\",Name:\"HP Limit Break, Convert to HP\",Type:\"\"},11003:{ID:\"11003\",Name:\"Effect Negation\",Type:\"\"},70001:{ID:\"70001\",Name:\"Mana Bubble Shield\",Type:\"\"},70002:{ID:\"70002\",Name:\"Recast\",Type:\"\"},\"2-5\":{ID:\"2-5\",Name:\"Burst Heal and DEF/REC Boost\",Type:\"\"}});function p(e,a=c){return a&&\"object\"==typeof a&&Object.hasOwnProperty.call(a,e)?a[e]:void 0}function F(e,a){const t=p(e,a);return!!t&&t.Type===n.Attack}var l,u,D,f,d,U,B,m,R,E,T,N,g,A,_,v,I,P,y,k=Object.freeze({__proto__:null,getLevelEntryForBurst:a,getEffectsForBurst:function(e,t){const s=a(e,t);return s&&Array.isArray(s.effects)?s.effects:[]},getExtraAttackDamageFramesEntry:function(e,a=\"0.0/0\",i){const n=(Array.isArray(e)?e:[]).filter(e=>{const a=t(e);return a===s.BurstHeal||F(a,i)}).reduce((e,a,t)=>{const s=0===t,i=a[\"frame times\"].length,n=a[\"hit dmg% distribution\"],o=a[\"frame times\"];for(let a=s?0:1;a<i;++a)e.push({damage:n[a],time:o[a]});return e},[]),o={\"effect delay time(ms)/frame\":a,\"frame times\":[],\"hit dmg% distribution\":[],\"hit dmg% distribution (total)\":0,hits:0};return n.sort((e,a)=>e.time-a.time).forEach(({time:e,damage:a})=>{o[\"frame times\"].push(e),o[\"hit dmg% distribution\"].push(a),o[\"hit dmg% distribution (total)\"]+=a}),o.hits=o[\"frame times\"].length,o}});function h(e,a=r){return a&&\"object\"==typeof a&&Object.hasOwnProperty.call(a,e)?a[e]:void 0}function O(e,a){const t=p(e,a);return!!t&&t.Name||\"\"}function C(e,a){const t=h(e,a);return!!t&&t.Name||\"\"}function b(e){return!!e&&\"object\"==typeof e&&(Object.hasOwnProperty.call(e,\"proc id\")||Object.hasOwnProperty.call(e,\"unknown proc id\"))}function H(e){return!!e&&\"object\"==typeof e&&(Object.hasOwnProperty.call(e,\"passive id\")||Object.hasOwnProperty.call(e,\"unknown passive id\"))}!function(e){e.Poison=\"poison\",e.Weak=\"weak\",e.Sick=\"sick\",e.Injury=\"injury\",e.Curse=\"curse\",e.Paralysis=\"paralysis\",e.AttackReduction=\"atk down\",e.DefenseReduction=\"def down\",e.RecoveryReduction=\"rec down\",e.Unknown=\"unknown\"}(l||(l={})),function(e){e.hp_50pr_under=\"hp_50pr_under\",e.hp_50pr_over=\"hp_50pr_over\",e.hp_75pr_under=\"hp_75pr_under\",e.hp_25pr_under=\"hp_25pr_under\",e.hp_min=\"hp_min\",e.hp_max=\"hp_max\",e.atk_max=\"atk_max\",e.random=\"random\"}(u||(u={})),function(e){e.Moving=\"1\",e.Teleporting=\"2\",e.NonMoving=\"3\"}(D||(D={})),function(e){e.Aoe=\"aoe\",e.Single=\"single\",e.Random=\"random\"}(f||(f={})),function(e){e.Aoe=\"AOE\",e.Single=\"ST\",e.Random=\"RT\"}(d||(d={})),function(e){e.Self=\"self\",e.Party=\"party\",e.Enemy=\"enemy\"}(U||(U={})),function(e){e.AddPassive=\"passive\",e.EnhanceBb=\"add to bb\",e.EnhanceSbb=\"add to sbb\",e.EnhanceUbb=\"add to ubb\",e.EnhancePassive=\"add to passive\"}(B||(B={})),function(e){e.None=\"None\",e[\"Status Enhancing\"]=\"Status Enhancing\",e.Critical=\"Critical\",e.Drop=\"Drop\",e[\"Ailment Inducing\"]=\"Ailment Inducing\",e[\"Element Fusion\"]=\"Element Fusion\",e[\"BB Gauge\"]=\"BB Gauge\",e[\"HP Recovery\"]=\"HP Recovery\",e[\"Target Setting\"]=\"Target Setting\",e[\"Damage Deflecting\"]=\"Damage Deflecting\",e[\"Damage Reducing\"]=\"Damage Reducing\",e.Spark=\"Spark\",e[\"Defense Piercing\"]=\"Defense Piercing\",e[\"Attack Boosting\"]=\"Attack Boosting\",e.Special=\"Special\"}(m||(m={})),function(e){e[e.None=0]=\"None\",e[e[\"Status Enhancing\"]=1]=\"Status Enhancing\",e[e.Critical=2]=\"Critical\",e[e.Drop=3]=\"Drop\",e[e[\"Ailment Inducing\"]=4]=\"Ailment Inducing\",e[e[\"Element Fusion\"]=5]=\"Element Fusion\",e[e[\"BB Gauge\"]=6]=\"BB Gauge\",e[e[\"HP Recovery\"]=7]=\"HP Recovery\",e[e[\"Target Setting\"]=8]=\"Target Setting\",e[e[\"Damage Deflecting\"]=9]=\"Damage Deflecting\",e[e[\"Damage Reducing\"]=10]=\"Damage Reducing\",e[e.Spark=11]=\"Spark\",e[e[\"Defense Piercing\"]=12]=\"Defense Piercing\",e[e[\"Attack Boosting\"]=13]=\"Attack Boosting\",e[e.Special=14]=\"Special\"}(R||(R={})),function(e){e[\"Parameter Boost\"]=\"Parameter Boost\",e.Spark=\"Spark\",e[\"Critical Hits\"]=\"Critical Hits\",e[\"Attack Boost\"]=\"Attack Boost\",e[\"BB Gauge\"]=\"BB Gauge\",e[\"HP Recovery\"]=\"HP Recovery\",e.Drops=\"Drops\",e[\"Ailment Resistance\"]=\"Ailment Resistance\",e[\"Ailment Infliction\"]=\"Ailment Infliction\",e[\"Damage Reduction\"]=\"Damage Reduction\",e.Special=\"Special\",e.Unknown=\"Unknown\"}(E||(E={})),function(e){e[\"Parameter Boost\"]=\"1\",e.Spark=\"2\",e[\"Critical Hits\"]=\"3\",e[\"Attack Boost\"]=\"4\",e[\"BB Gauge\"]=\"5\",e[\"HP Recovery\"]=\"6\",e.Drops=\"7\",e[\"Ailment Resistance\"]=\"8\",e[\"Ailment Infliction\"]=\"9\",e[\"Damage Reduction\"]=\"10\",e.Special=\"11\"}(T||(T={})),function(e){e.Attack=\"attack\",e.Idle=\"idle\",e.Move=\"move\"}(N||(N={})),function(e){e.Fire=\"fire\",e.Water=\"water\",e.Earth=\"earth\",e.Thunder=\"thunder\",e.Light=\"light\",e.Dark=\"dark\"}(g||(g={})),function(e){e.Male=\"male\",e.Female=\"female\",e.Other=\"other\"}(A||(A={})),function(e){e.Ineligible=\"not eligible for achievement\",e.Farmable=\"farmable\",e.RareSummon=\"rare summon\",e.ExtraSkillElgif=\"extra skill elgif\"}(_||(_={})),function(e){e.Normal=\"normal\",e.Evolution=\"evo\",e.Enhancing=\"enhancing\",e.Sale=\"sale\"}(v||(v={})),function(e){e.Lord=\"lord\",e.Anima=\"anima\",e.Breaker=\"breaker\",e.Guardian=\"guardian\",e.Oracle=\"oracle\",e.Rex=\"rex\"}(I||(I={})),function(e){e.Consumable=\"consumable\",e.Material=\"material\",e.Sphere=\"sphere\",e.EvolutionMaterial=\"evomat\",e.SummonerConsumable=\"summoner_consumable\",e.LeaderSkillSphere=\"ls_sphere\"}(P||(P={})),function(e){e.Mimic=\"60142\",e.BatMimic=\"60143\",e.DragonMimic=\"60144\",e.MetalMimic=\"60224\"}(y||(y={}));const W={1e3:y.Mimic,1100:y.BatMimic,1101:y.BatMimic,1200:y.DragonMimic,1300:y.MetalMimic};var K,w,S,L,M,j,G=Object.freeze({__proto__:null,get Ailment(){return l},get ArenaCondition(){return u},get MoveType(){return D},get TargetArea(){return f},get TargetAreaShorthand(){return d},get TargetType(){return U},get SpPassiveType(){return B},get SphereTypeName(){return m},get SphereTypeId(){return R},get SpCategoryName(){return E},get SpCategoryId(){return T},get UnitAnimationKey(){return N},get UnitElement(){return g},get UnitGender(){return A},get UnitGettingType(){return _},get UnitKind(){return v},get UnitType(){return I},get ItemType(){return P},get MimicUnitIds(){return y},MimicMonsterGroupMapping:W});function x(e){const a=Array.isArray(e.previousSources)?e.previousSources.slice():[];return a.unshift(function(e){return`${e.source}-${e.sourceId}`}(e)),a}function V(e){const a=e&&Array.isArray(e.conditions)&&e.conditions||[],t={units:new Set,items:new Set,sphereTypes:new Set,unknowns:new Set};a.forEach((e,a)=>{\"sphere category required (raw)\"in e?t.sphereTypes.add(e[\"sphere category required (raw)\"]):\"item required\"in e?e[\"item required\"].forEach(e=>{t.items.add(e)}):\"unit required\"in e?e[\"unit required\"].forEach(e=>{t.units.add(\"\"+e.id)}):t.unknowns.add(`type:${e.type_id||a},condition:${e.condition_id||a}`)});return Object.entries(t).filter(e=>e[1].size>0).reduce((e,a)=>(e[a[0]]=Array.from(a[1]),e),{})}function Y(e,a){const t=a.source===w.LeaderSkill||e.sp_type===B.EnhancePassive||e[\"passive target\"]===U.Party;return{targetType:t?U.Party:U.Self,targetArea:t?f.Aoe:f.Single}}function z(e){return{targetArea:e[\"target area\"],targetType:e[\"target type\"]}}function $(e,a=0){return null===e||isNaN(e)?a:+e}function X(e=[],a=0){let t=!1;const s=e.reduce((e,s,i)=>(s&&\"0\"!==s&&(e[\"param_\"+(a+i)]=s,t=!0),e),{});return t?s:void 0}function q(e){return!!e&&[w.BraveBurst,w.SuperBraveBurst,w.UltimateBraveBurst,w.BondedBraveBurst,w.BondedSuperBraveBurst,w.DualBraveBurst].includes(e)}let J,Z;function Q(e){return J&&!e||(J=new Map,function(e){const a={0:S.All,1:g.Fire,2:g.Water,3:g.Earth,4:g.Thunder,5:g.Light,6:g.Dark},t={1:l.Poison,2:l.Weak,3:l.Sick,4:l.Injury,5:l.Curse,6:l.Paralysis,7:l.AttackReduction,8:l.DefenseReduction,9:l.RecoveryReduction},s=(e,a,t)=>({targetData:(t&&t.getProcTargetData||z)(e),sources:(t&&t.createSourcesFromContext||x)(a),effectDelay:e[\"effect delay time(ms)/frame\"]}),i=e=>e.params.split(\",\"),n=(e,{originalId:a,sources:t,targetData:s,effectDelay:i})=>Object.assign({id:j.UNKNOWN_PROC_BUFF_PARAMS,originalId:a,effectDelay:i,sources:t,value:e},s),o=({originalId:e,sources:a,buffs:t,duration:s,targetData:i})=>Object.assign({id:j.TURN_DURATION_MODIFICATION,originalId:e,sources:a,value:{buffs:t,duration:s}},i),r=(e,a,t)=>{let s;return e&&e.length>0&&(s=(t&&t.createUnknownParamsValue||X)(e,a)),s},c=(e,a,t)=>{let s=0!==a;return s&&(s=!(t&&t.buffSourceIsBurstType||q)(e.source)),s},p=({effect:e,context:a,injectionContext:t,effectValueKey:p,effectTurnDurationKey:F,parseParamValue:l=(e=>$(e)),buffId:u,originalId:D})=>{const{targetData:f,sources:d,effectDelay:U}=s(e,a,t);let B,m=0,R=0;if(e.params){const[a,s,...n]=i(e);m=l(a),R=$(s),B=r(n,2,t)}else m=$(e[p]),R=$(e[F]);const E=[];return 0!==m?E.push(Object.assign({id:u,originalId:D,sources:d,effectDelay:U,duration:R,value:m},f)):c(a,R,t)&&E.push(o({originalId:D,sources:d,buffs:[u],duration:R,targetData:f})),B&&E.push(n(B,{originalId:D,sources:d,targetData:f,effectDelay:U})),E};e.set(\"1\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t),F=+(a.damageFrames&&a.damageFrames.hits||0),l=+(a.damageFrames&&a.damageFrames[\"hit dmg% distribution (total)\"]||0),u={\"atk%\":\"0\",flatAtk:\"0\",\"crit%\":\"0\",\"bc%\":\"0\",\"hc%\":\"0\",\"dmg%\":\"0\"};let D;if(e.params){let a;[u[\"atk%\"],u.flatAtk,u[\"crit%\"],u[\"bc%\"],u[\"hc%\"],u[\"dmg%\"],...a]=i(e),D=r(a,6,t)}else u[\"atk%\"]=e[\"bb atk%\"],u.flatAtk=e[\"bb flat atk\"],u[\"crit%\"]=e[\"bb crit%\"],u[\"bc%\"]=e[\"bb bc%\"],u[\"hc%\"]=e[\"bb hc%\"],u[\"dmg%\"]=e[\"bb dmg%\"];const f=Object.entries(u).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=$(t),e),{}),d=[Object.assign({id:\"proc:1\",originalId:\"1\",sources:c,effectDelay:p,value:Object.assign(Object.assign({},f),{hits:F,distribution:l})},o)];return D&&d.push(n(D,{originalId:\"1\",sources:c,targetData:o,effectDelay:p})),d}),e.set(\"2\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t),F={healLow:\"0\",healHigh:\"0\",\"healerRec%\":0};let l;if(e.params){let a,s,n;[F.healLow,F.healHigh,a,s,...n]=i(e),F[\"healerRec%\"]=(100+$(a))*(1+$(s)/100)/10,l=r(n,4,t)}else F.healLow=e[\"heal low\"],F.healHigh=e[\"heal high\"],F[\"healerRec%\"]=e[\"rec added% (from healer)\"];Object.keys(F).forEach(e=>{F[e]=$(F[e])});const u=[Object.assign({id:\"proc:2\",originalId:\"2\",sources:c,effectDelay:p,value:F},o)];return l&&u.push(n(l,{originalId:\"2\",sources:c,targetData:o,effectDelay:p})),u}),e.set(\"3\",(e,a,t)=>{const{targetData:p,sources:F,effectDelay:l}=s(e,a,t),u={healLow:\"0\",healHigh:\"0\",\"targetRec%\":0,turnDuration:\"0\"};let D;if(e.params){let a,s;[u.healLow,u.healHigh,a,u.turnDuration,...s]=i(e),u[\"targetRec%\"]=10*(1+$(a)/100),D=r(s,4,t)}else u.healLow=e[\"gradual heal low\"],u.healHigh=e[\"gradual heal high\"],u[\"targetRec%\"]=e[\"rec added% (from target)\"],u.turnDuration=e[\"gradual heal turns (8)\"];Object.keys(u).forEach(e=>{u[e]=$(u[e])});const f=[];return 0!==u.healLow||0!==u.healHigh?f.push(Object.assign({id:\"proc:3\",originalId:\"3\",sources:F,effectDelay:l,duration:u.turnDuration,value:{healLow:u.healLow,healHigh:u.healHigh,\"targetRec%\":u[\"targetRec%\"]}},p)):c(a,u.turnDuration,t)&&f.push(o({originalId:\"3\",sources:F,buffs:[\"proc:3\"],duration:u.turnDuration,targetData:p})),D&&f.push(n(D,{originalId:\"3\",sources:F,targetData:p,effectDelay:l})),f}),e.set(\"4\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t);let F,l=0,u=0;if(e.params){const[a,s,...n]=i(e);l=$(a),u=$(s),F=r(n,2,t)}else\"bb bc fill\"in e&&(l=$(e[\"bb bc fill\"])),\"bb bc fill%\"in e&&(u=$(e[\"bb bc fill%\"]));const D=[];return 0!==l&&D.push(Object.assign({id:\"proc:4:flat\",originalId:\"4\",sources:c,effectDelay:p,value:l},o)),0!==u&&D.push(Object.assign({id:\"proc:4:percent\",originalId:\"4\",sources:c,effectDelay:p,value:u},o)),F&&D.push(n(F,{originalId:\"4\",sources:c,targetData:o,effectDelay:p})),D}),e.set(\"5\",(e,t,p)=>{const{targetData:F,sources:l,effectDelay:u}=s(e,t,p),D={element:S.All,atk:\"0\",def:\"0\",rec:\"0\",crit:\"0\",turnDuration:\"0\"},f=[\"atk\",\"def\",\"rec\",\"crit\"];let d;if(e.params){let t,s;[s,D.atk,D.def,D.rec,D.crit,D.turnDuration,...t]=i(e),D.element=a[s]||S.Unknown,d=r(t,6,p)}else{const a=e[\"element buffed\"];D.element=\"all\"===a?S.All:a||S.Unknown;const t=Object.keys(e);f.forEach(a=>{const s=t.find(e=>e.startsWith(a+\"% buff\"));s&&(D[a]=$(e[s]))}),D.turnDuration=$(e[\"buff turns\"])}f.concat([\"turnDuration\"]).forEach(e=>{D[e]=$(D[e])});const U=f.some(e=>0!==D[e]),B=[];return U?f.forEach(e=>{const a=D[e];if(0!==a){const t=Object.assign({id:\"proc:5:\"+e,originalId:\"5\",sources:l,effectDelay:u,duration:D.turnDuration,value:a},F);D.element!==S.All&&(t.conditions={targetElements:[D.element]}),B.push(t)}}):c(t,D.turnDuration,p)&&B.push(o({originalId:\"5\",sources:l,buffs:f.map(e=>\"proc:5:\"+e),duration:D.turnDuration,targetData:F})),d&&B.push(n(d,{originalId:\"5\",sources:l,targetData:F,effectDelay:u})),B}),e.set(\"6\",(e,a,t)=>{const{targetData:p,sources:F,effectDelay:l}=s(e,a,t),u={bc:\"0\",hc:\"0\",item:\"0\",turnDuration:\"0\"},D=[\"bc\",\"hc\",\"item\"];let f;if(e.params){let a;[u.bc,u.hc,u.item,u.turnDuration,...a]=i(e),f=r(a,4,t)}else u.bc=e[\"bc drop rate% buff (10)\"],u.hc=e[\"hc drop rate% buff (9)\"],u.item=e[\"item drop rate% buff (11)\"],u.turnDuration=e[\"drop buff rate turns\"];D.concat([\"turnDuration\"]).forEach(e=>{u[e]=$(u[e])});const d=D.some(e=>0!==u[e]),U=[];return d?D.forEach(e=>{const a=u[e];0!==a&&U.push(Object.assign({id:\"proc:6:\"+e,originalId:\"6\",sources:F,effectDelay:l,duration:u.turnDuration,value:a},p))}):c(a,u.turnDuration,t)&&U.push(o({originalId:\"6\",sources:F,buffs:D.map(e=>\"proc:6:\"+e),duration:u.turnDuration,targetData:p})),f&&U.push(n(f,{originalId:\"6\",sources:F,targetData:p,effectDelay:l})),U}),e.set(\"7\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t);let F,l=0;if(e.params){const[a,...s]=i(e);l=$(a),F=r(s,1,t)}else l=$(e[\"angel idol recover hp%\"]);const u=[Object.assign({id:\"proc:7\",originalId:\"7\",sources:c,effectDelay:p,value:l},o)];return F&&u.push(n(F,{originalId:\"7\",sources:c,targetData:o,effectDelay:p})),u}),e.set(\"8\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t);let F,l=0,u=0;if(e.params){const[a,s,...n]=i(e);l=$(a),u=$(s),F=r(n,2,t)}else\"max hp increase\"in e&&(l=$(e[\"max hp increase\"])),\"max hp% increase\"in e&&(u=$(e[\"max hp% increase\"]));const D=[];return 0!==l&&D.push(Object.assign({id:\"proc:8:flat\",originalId:\"8\",sources:c,effectDelay:p,value:l},o)),0!==u&&D.push(Object.assign({id:\"proc:8:percent\",originalId:\"8\",sources:c,effectDelay:p,value:u},o)),F&&D.push(n(F,{originalId:\"8\",sources:c,targetData:o,effectDelay:p})),D}),e.set(\"9\",(e,t,p)=>{const{targetData:F,sources:l,effectDelay:u}=s(e,t,p),D={0:\"atk\",1:\"def\",2:\"rec\"},f=[\"atk\",\"def\",\"rec\"],d={element:S.All,statReductionEntries:[],turnDuration:0};let U;if(e.params){const[t,s,n,o,c,F,l,u,...B]=i(e);d.element=a[t]||S.Unknown,d.turnDuration=$(u),[[s,n,o],[c,F,l]].forEach(([e,a,t])=>{const s=$(e)-1,i=$(a),n=$(t);3===s?d.statReductionEntries.push(...f.map(e=>({stat:e,value:i,chance:n}))):d.statReductionEntries.push({stat:D[s]||\"unknown\",value:i,chance:n})}),U=r(B,8,p)}else{const a=e[\"element buffed\"];d.element=\"all\"===a?S.All:a||S.Unknown,[\"buff #1\",\"buff #2\"].forEach(a=>{const t=e[a];if(t){const e=$(t[\"proc chance%\"]),a=Object.keys(t);f.forEach(s=>{const i=a.find(e=>e.startsWith(s+\"% buff\"));i&&d.statReductionEntries.push({stat:s,value:$(t[i]),chance:e})})}}),d.turnDuration=$(e[\"buff turns\"])}const B=[];let m=!1;return d.statReductionEntries.forEach(({stat:e,value:a,chance:t})=>{if(0!==a||0!==t){m=!0;const s=Object.assign({id:\"proc:9:\"+e,originalId:\"9\",sources:l,effectDelay:u,duration:d.turnDuration,value:{value:a,chance:t}},F);d.element!==S.All&&(s.conditions={targetElements:[d.element]}),B.push(s)}}),!m&&c(t,d.turnDuration,p)&&B.push(o({originalId:\"9\",sources:l,buffs:f.map(e=>\"proc:9:\"+e),duration:d.turnDuration,targetData:F})),U&&B.push(n(U,{originalId:\"9\",sources:l,targetData:F,effectDelay:u})),B}),e.set(\"10\",(e,a,o)=>{const{targetData:c,sources:p,effectDelay:F}=s(e,a,o),u=[];let D;if(e.params){const a=i(e),s=a.slice(0,8),n=a.slice(8);s.filter(e=>\"0\"!==e).forEach(e=>{u.push(t[e]||l.Unknown)}),D=r(n,8,o)}else Object.values(t).forEach(a=>{\"remove \"+a in e&&u.push(a)}),\"remove all status ailments\"in e&&u.push(l.Unknown);const f=u.map(e=>Object.assign({id:\"proc:10:\"+e,originalId:\"10\",sources:p,effectDelay:F,value:!0},c));return D&&f.push(n(D,{originalId:\"10\",sources:p,targetData:c,effectDelay:F})),f}),e.set(\"11\",(e,a,o)=>{const{targetData:c,sources:p,effectDelay:F}=s(e,a,o),u=[];let D;if(e.params){let a=i(e);a.length%2!=0&&\"0\"!==a[a.length-1]&&(D=r(a.slice(-1),a.length-1,o),a=a.slice(0,a.length-1));const s=a.length;for(let e=0;e<s;e+=2){const s=a[e],i=$(a[e+1]);if(\"0\"!==s||0!==i){const e=t[s]||l.Unknown;u.push({ailment:e,chance:i})}}}else Object.values(t).forEach(a=>{let t;t=a===l.Weak?\"weaken%\":a===l.AttackReduction||a===l.DefenseReduction||a===l.RecoveryReduction?a:a+\"%\",t in e&&u.push({ailment:a,chance:$(e[t])})});const f=u.map(({ailment:e,chance:a})=>Object.assign({id:\"proc:11:\"+e,originalId:\"11\",sources:p,effectDelay:F,value:a},c));return D&&f.push(n(D,{originalId:\"11\",sources:p,targetData:c,effectDelay:F})),f}),e.set(\"12\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t);let F,l=0;if(e.params){const[a,...s]=i(e);l=$(a),F=r(s,1,t)}else l=$(e[\"revive to hp%\"]);const u=[Object.assign({id:\"proc:12\",originalId:\"12\",sources:c,effectDelay:p,value:l},o)];return F&&u.push(n(F,{originalId:\"12\",sources:c,targetData:o,effectDelay:p})),u}),e.set(\"13\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t);let F=0;const l=+(a.damageFrames&&a.damageFrames[\"hit dmg% distribution (total)\"]||0),u={\"atk%\":\"0\",flatAtk:\"0\",\"crit%\":\"0\",\"bc%\":\"0\",\"hc%\":\"0\"};let D;if(e.params){let a,s;[u[\"atk%\"],u.flatAtk,u[\"crit%\"],u[\"bc%\"],u[\"hc%\"],s,...a]=i(e),F=$(s),D=r(a,6,t)}else u[\"atk%\"]=e[\"bb atk%\"],u.flatAtk=e[\"bb flat atk\"],u[\"crit%\"]=e[\"bb crit%\"],u[\"bc%\"]=e[\"bb bc%\"],u[\"hc%\"]=e[\"bb hc%\"],F=$(e.hits);const d=Object.entries(u).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=$(t),e),{}),U=[{id:\"proc:13\",originalId:\"13\",sources:c,effectDelay:p,value:Object.assign(Object.assign({},d),{hits:F,distribution:l}),targetType:o.targetType,targetArea:f.Random}];return D&&U.push(n(D,{originalId:\"13\",sources:c,targetData:o,effectDelay:p})),U}),e.set(\"14\",(e,a,t)=>{const{targetData:o,sources:c,effectDelay:p}=s(e,a,t),F=+(a.damageFrames&&a.damageFrames.hits||0),l=+(a.damageFrames&&a.damageFrames[\"hit dmg% distribution (total)\"]||0),u={\"atk%\":\"0\",flatAtk:\"0\",\"crit%\":\"0\",\"bc%\":\"0\",\"hc%\":\"0\",\"dmg%\":\"0\",\"drainLow%\":\"0\",\"drainHigh%\":\"0\"};let D;if(e.params){let a;[u[\"atk%\"],u.flatAtk,u[\"crit%\"],u[\"bc%\"],u[\"hc%\"],u[\"dmg%\"],u[\"drainLow%\"],u[\"drainHigh%\"],...a]=i(e),D=r(a,8,t)}else u[\"atk%\"]=e[\"bb atk%\"],u.flatAtk=e[\"bb flat atk\"],u[\"crit%\"]=e[\"bb crit%\"],u[\"bc%\"]=e[\"bb bc%\"],u[\"hc%\"]=e[\"bb hc%\"],u[\"dmg%\"]=e[\"bb dmg%\"],u[\"drainLow%\"]=e[\"hp drain% low\"],u[\"drainHigh%\"]=e[\"hp drain% high\"];const f=Object.entries(u).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=$(t),e),{}),d=[Object.assign({id:\"proc:14\",originalId:\"14\",sources:c,effectDelay:p,value:Object.assign(Object.assign({},f),{hits:F,distribution:l})},o)];return D&&d.push(n(D,{originalId:\"14\",sources:c,targetData:o,effectDelay:p})),d}),e.set(\"16\",(e,t,p)=>{const{targetData:F,sources:l,effectDelay:u}=s(e,t,p);let D,f,d=0,U=0;if(e.params){const[t,s,n,...o]=i(e);D=a[t]||S.Unknown,d=$(s),U=$(n),f=r(o,3,p)}else{const t=Object.keys(e).find(e=>e.startsWith(\"mitigate\"));D=t&&Object.values(a).find(e=>t.includes(e))||S.Unknown,t&&(d=$(e[t])),U=$(e[\"buff turns\"])}const B=[];return 0!==d?B.push(Object.assign({id:\"proc:16:\"+D,originalId:\"16\",sources:l,effectDelay:u,duration:U,value:d},F)):c(t,U,p)&&B.push(o({originalId:\"16\",sources:l,buffs:Object.values(a).concat([S.Unknown]).map(e=>\"proc:16:\"+e),duration:U,targetData:F})),f&&B.push(n(f,{originalId:\"16\",sources:l,targetData:F,effectDelay:u})),B}),e.set(\"17\",(e,a,t)=>{const{targetData:p,sources:F,effectDelay:u}=s(e,a,t),D=[l.Poison,l.Weak,l.Sick,l.Injury,l.Curse,l.Paralysis],f={poison:\"0\",weak:\"0\",sick:\"0\",injury:\"0\",curse:\"0\",paralysis:\"0\"};let d,U=0;if(e.params){let a,s;[f.poison,f.weak,f.sick,f.injury,f.curse,f.paralysis,a,...s]=i(e),U=$(a),d=r(s,7,t)}else{const a=Object.keys(e).filter(e=>e.startsWith(\"resist\"));D.forEach(t=>{const s=a.find(e=>e.includes(t));s&&(f[t]=e[s])}),U=$(e[\"resist status ails turns\"])}const B=[];return D.forEach(e=>{const a=$(f[e]);0!==a&&B.push(Object.assign({id:\"proc:17:\"+e,originalId:\"17\",sources:F,effectDelay:u,value:a,duration:U},p))}),0===B.length&&c(a,U,t)&&B.push(o({originalId:\"17\",sources:F,buffs:D.map(e=>\"proc:17:\"+e),duration:U,targetData:p})),d&&B.push(n(d,{originalId:\"17\",sources:F,targetData:p,effectDelay:u})),B}),e.set(\"18\",(e,a,t)=>p({effect:e,context:a,injectionContext:t,effectValueKey:\"dmg% reduction\",effectTurnDurationKey:\"dmg% reduction turns (36)\",buffId:\"proc:18\",originalId:\"18\"})),e.set(\"19\",(e,a,t)=>p({effect:e,context:a,injectionContext:t,effectValueKey:\"increase bb gauge gradual\",effectTurnDurationKey:\"increase bb gauge gradual turns (37)\",parseParamValue:e=>$(e)/100,buffId:\"proc:19\",originalId:\"19\"})),e.set(\"20\",(e,a,t)=>{const{targetData:p,sources:F,effectDelay:l}=s(e,a,t);let u,D=0,f=0,d=0,U=0;if(e.params){const[a,s,n,o,...c]=i(e);D=$(a)/100,f=$(s)/100,d=$(n),U=$(o),u=r(c,4,t)}else D=$(e[\"bc fill when attacked low\"]),f=$(e[\"bc fill when attacked high\"]),d=$(e[\"bc fill when attacked%\"]),U=$(e[\"bc fill when attacked turns (38)\"]);const B=[];return 0!==D||0!==f?B.push(Object.assign({id:\"proc:20\",originalId:\"20\",sources:F,effectDelay:l,duration:U,conditions:{whenAttacked:!0},value:{fillLow:D,fillHigh:f,chance:d}},p)):c(a,U,t)&&B.push(o({originalId:\"20\",sources:F,buffs:[\"proc:20\"],duration:U,targetData:p})),u&&B.push(n(u,{originalId:\"20\",sources:F,targetData:p,effectDelay:l})),B}),e.set(\"22\",(e,a,t)=>p({effect:e,context:a,injectionContext:t,effectValueKey:\"defense% ignore\",effectTurnDurationKey:\"defense% ignore turns (39)\",buffId:\"proc:22\",originalId:\"22\"})),e.set(\"23\",(e,a,t)=>{const{targetData:p,sources:F,effectDelay:l}=s(e,a,t);let u,D=0,f=0;if(e.params){const a=i(e);D=$(a[0]),f=$(a[6]);const s=[\"0\",...a.slice(1,6),\"0\",...a.slice(7)];u=r(s,0,t)}else D=$(e[\"spark dmg% buff (40)\"]),f=$(e[\"buff turns\"]);const d=[];return 0!==D?d.push(Object.assign({id:\"proc:23\",originalId:\"23\",sources:F,effectDelay:l,duration:f,value:D},p)):c(a,f,t)&&d.push(o({originalId:\"23\",sources:F,buffs:[\"proc:23\"],duration:f,targetData:p})),u&&d.push(n(u,{originalId:\"23\",sources:F,targetData:p,effectDelay:l})),d}),e.set(\"24\",(e,a,t)=>{const{targetData:p,sources:F,effectDelay:l}=s(e,a,t),u=[\"atk\",\"def\",\"rec\"],D={1:\"atk\",2:\"def\",3:\"rec\",4:\"hp\"},f={attack:\"atk\",defense:\"def\",recovery:\"rec\",hp:\"hp\"},d={atk:\"0\",def:\"0\",rec:\"0\"};let U,B=0,m=\"unknown\";if(e.params){let a,s,n;[s,d.atk,d.def,d.rec,n,...a]=i(e),m=D[s]||\"unknown\",B=$(n),U=r(a,5,t)}else{const a=e[\"converted attribute\"];m=a in f?f[a]:\"unknown\";const t=Object.keys(e);u.forEach(a=>{const s=t.find(e=>e.startsWith(a+\"% buff\"));s&&(d[a]=$(e[s]))}),B=$(e[\"% converted turns\"])}const R=[];return u.forEach(e=>{const a=$(d[e]);0!==a&&R.push(Object.assign({id:\"proc:24:\"+e,originalId:\"24\",sources:F,effectDelay:l,duration:B,value:{convertedStat:m,value:a}},p))}),0===R.length&&c(a,B,t)&&R.push(o({originalId:\"24\",sources:F,buffs:u.map(e=>\"proc:24:\"+e),duration:B,targetData:p})),U&&R.push(n(U,{originalId:\"24\",sources:F,targetData:p,effectDelay:l})),R}),e.set(\"26\",(e,a,t)=>{const{targetData:p,sources:F,effectDelay:l}=s(e,a,t);let u,D=0,f=0,d=0;if(e.params){const a=i(e);D=$(a[0]),f=$(a[2]),d=$(a[7]);const s=[\"0\",a[1],\"0\",...a.slice(3,7),\"0\",...a.slice(8)];u=r(s,0,t)}else D=$(e[\"hit increase/hit\"]),f=$(e[\"extra hits dmg%\"]),d=$(e[\"hit increase buff turns (50)\"]);const U=[];return 0!==D||0!==f?U.push(Object.assign({id:\"proc:26\",originalId:\"26\",sources:F,effectDelay:l,duration:d,value:{hitIncreasePerHit:D,extraHitDamage:f}},p)):c(a,d,t)&&U.push(o({originalId:\"26\",sources:F,buffs:[\"proc:26\"],duration:d,targetData:p})),u&&U.push(n(u,{originalId:\"26\",sources:F,targetData:p,effectDelay:l})),U})}(J)),J}function ee(e){return Z&&!e||(Z=new Map,function(e){const a={1:g.Fire,2:g.Water,3:g.Earth,4:g.Thunder,5:g.Light,6:g.Dark,X:S.OmniParadigm},t={1:I.Lord,2:I.Anima,3:I.Breaker,4:I.Guardian,5:I.Oracle,6:I.Rex},s={1:l.Poison,2:l.Weak,3:l.Sick,4:l.Injury,5:l.Curse,6:l.Paralysis,7:l.AttackReduction,8:l.DefenseReduction,9:l.RecoveryReduction},i=[\"atk\",\"def\",\"rec\",\"crit\",\"hp\"],n=[\"poison\",\"weak\",\"sick\",\"injury\",\"curse\",\"paralysis\"],o=(e,a,t)=>({conditionInfo:(t&&t.processExtraSkillConditions||V)(e),targetData:(t&&t.getPassiveTargetData||Y)(e,a),sources:(t&&t.createSourcesFromContext||x)(a)}),r=e=>e.params.split(\",\"),c=(e,{originalId:a,sources:t,targetData:s,conditionInfo:i})=>Object.assign({id:j.UNKNOWN_PASSIVE_BUFF_PARAMS,originalId:a,sources:t,value:e,conditions:Object.assign({},i)},s),p=(e,a,t)=>{let s;return e&&e.length>0&&(s=(t&&t.createUnknownParamsValue||X)(e,a)),s},F=({effect:e,context:a,injectionContext:t,originalId:s,effectKey:i,buffId:n})=>{const{conditionInfo:F,targetData:l,sources:u}=o(e,a,t),D=e,f=[];let d,U=0;if(D.params){const[e,...a]=r(D);U=$(e),d=p(a,1,t)}else U=$(D[i]);return 0!==U&&f.push(Object.assign({id:n,originalId:s,sources:u,value:U,conditions:Object.assign({},F)},l)),d&&f.push(c(d,{originalId:s,sources:u,targetData:l,conditionInfo:F})),f},u=({effect:e,context:a,injectionContext:t,originalId:s,effectKeyLow:i,effectKeyHigh:n,effectKeyChance:F,buffKeyLow:l,buffKeyHigh:u,defaultEffectChance:D=0,parseParamValue:f=(e=>$(e)),generateBaseConditions:d=(()=>({})),buffId:U})=>{const{conditionInfo:B,targetData:m,sources:R}=o(e,a,t),E=e;let T,N,g,A;if(E.params){const[e,a,s,...i]=r(E);T=f(e),N=f(a),g=$(s),A=p(i,3,t)}else T=$(E[i]),N=$(E[n]),g=$(E[F],D);const _=[Object.assign({id:U,originalId:s,sources:R,value:{[l]:T,[u]:N,chance:g},conditions:Object.assign(Object.assign({},B),d())},m)];return A&&_.push(c(A,{originalId:s,sources:R,targetData:m,conditionInfo:B})),_};e.set(\"1\",(e,a,t)=>{const{conditionInfo:s,targetData:n,sources:F}=o(e,a,t),l=e,u=[],D={atk:\"0\",def:\"0\",rec:\"0\",crit:\"0\",hp:\"0\"};let f;if(l.params){let e;[D.atk,D.def,D.rec,D.crit,D.hp,...e]=r(l),f=p(e,5,t)}else D.hp=l[\"hp% buff\"],D.atk=l[\"atk% buff\"],D.def=l[\"def% buff\"],D.rec=l[\"rec% buff\"],D.crit=l[\"crit% buff\"];return i.forEach(e=>{const a=$(D[e]);0!==a&&u.push(Object.assign({id:\"passive:1:\"+e,originalId:\"1\",sources:F,value:a,conditions:Object.assign({},s)},n))}),f&&u.push(c(f,{originalId:\"1\",sources:F,targetData:n,conditionInfo:s})),u}),e.set(\"2\",(e,t,s)=>{const{conditionInfo:n,targetData:F,sources:l}=o(e,t,s),u=e,D=[],f={elements:[],atk:\"0\",def:\"0\",rec:\"0\",crit:\"0\",hp:\"0\"};let d;if(u.params){let e,t,i;[t,i,f.atk,f.def,f.rec,f.crit,f.hp,...e]=r(u),[t,i].forEach(e=>{e&&\"0\"!==e&&f.elements.push(a[e]||S.Unknown)}),d=p(e,7,s)}else f.elements=u[\"elements buffed\"],f.hp=u[\"hp% buff\"],f.atk=u[\"atk% buff\"],f.def=u[\"def% buff\"],f.rec=u[\"rec% buff\"],f.crit=u[\"crit% buff\"];const U=e=>Object.assign({id:\"passive:2:\"+e,originalId:\"2\",sources:l,value:$(f[e])},F);return f.elements.length>0?f.elements.forEach(e=>{i.forEach(a=>{0!==$(f[a])&&D.push(Object.assign(Object.assign({},U(a)),{conditions:Object.assign(Object.assign({},n),{targetElements:[e]})}))})}):i.forEach(e=>{0!==$(f[e])&&D.push(Object.assign(Object.assign({},U(e)),{conditions:Object.assign(Object.assign({},n),{targetElements:[S.Unknown]})}))}),d&&D.push(c(d,{originalId:\"2\",sources:l,targetData:F,conditionInfo:n})),D}),e.set(\"3\",(e,a,s)=>{const{conditionInfo:n,targetData:F,sources:l}=o(e,a,s),u=e,D=[],f={unitType:\"\",atk:\"0\",def:\"0\",rec:\"0\",crit:\"0\",hp:\"0\"};let d;if(u.params){let e,a;[a,f.atk,f.def,f.rec,f.crit,f.hp,...e]=r(u),a&&\"0\"!==a&&(f.unitType=t[a]||\"unknown\"),d=p(e,6,s)}else f.unitType=u[\"unit type buffed\"],f.hp=u[\"hp% buff\"],f.atk=u[\"atk% buff\"],f.def=u[\"def% buff\"],f.rec=u[\"rec% buff\"],f.crit=u[\"crit% buff\"];const U=f.unitType||\"unknown\";return i.forEach(e=>{const a=$(f[e]);0!==a&&D.push(Object.assign({id:\"passive:3:\"+e,originalId:\"3\",sources:l,value:+a,conditions:Object.assign(Object.assign({},n),{targetUnitType:U})},F))}),d&&D.push(c(d,{originalId:\"3\",sources:l,targetData:F,conditionInfo:n})),D}),e.set(\"4\",(e,a,t)=>{const{conditionInfo:s,targetData:i,sources:F}=o(e,a,t),l=e,u=[],D={poison:\"0\",weak:\"0\",sick:\"0\",injury:\"0\",curse:\"0\",paralysis:\"0\"};let f;if(l.params){let e;[D.poison,D.weak,D.sick,D.injury,D.curse,D.paralysis,...e]=r(l),f=p(e,6,t)}else n.forEach(e=>{const a=\"weak\"!==e?e:\"weaken\";D[e]=l[a+\" resist%\"]});return n.forEach(e=>{const a=$(D[e]);0!==a&&u.push(Object.assign({id:\"passive:4:\"+e,originalId:\"4\",sources:F,value:a,conditions:Object.assign({},s)},i))}),f&&u.push(c(f,{originalId:\"4\",sources:F,targetData:i,conditionInfo:s})),u}),e.set(\"5\",(e,t,s)=>{const{conditionInfo:i,targetData:n,sources:F}=o(e,t,s),l=e,u=[];let D,f,d=\"0\";if(l.params){let e,t;[t,d,...e]=r(l),D=a[t]||S.Unknown,f=p(e,2,s)}else D=Object.values(a).find(a=>a+\" resist%\"in e)||S.Unknown,D!==S.Unknown&&(d=l[D+\" resist%\"]);const U=$(d);return 0!==U&&u.push(Object.assign({id:\"passive:5:\"+D,originalId:\"5\",sources:F,value:U,conditions:Object.assign({},i)},n)),f&&u.push(c(f,{originalId:\"5\",sources:F,targetData:n,conditionInfo:i})),u}),e.set(\"8\",(e,a,t)=>F({effect:e,context:a,injectionContext:t,effectKey:\"dmg% mitigation\",buffId:\"passive:8\",originalId:\"8\"})),e.set(\"9\",(e,a,t)=>F({effect:e,context:a,injectionContext:t,effectKey:\"bc fill per turn\",buffId:\"passive:9\",originalId:\"9\"})),e.set(\"10\",(e,a,t)=>F({effect:e,context:a,injectionContext:t,effectKey:\"hc effectiveness%\",buffId:\"passive:10\",originalId:\"10\"})),e.set(\"11\",(e,a,t)=>{const{conditionInfo:s,targetData:n,sources:F}=o(e,a,t),l=e,u=[],D={atk:\"0\",def:\"0\",rec:\"0\",crit:\"0\"};let f,d=!1,U=0;if(l.params){let e,a,s;[D.atk,D.def,D.rec,D.crit,s,a,...e]=r(l),d=\"1\"===a,U=$(s),f=p(e,6,t)}else D.atk=l[\"atk% buff\"],D.def=l[\"def% buff\"],D.rec=l[\"rec% buff\"],D.crit=l[\"crit% buff\"],\"hp above % buff requirement\"in l?(U=$(l[\"hp above % buff requirement\"]),d=!0):(U=$(l[\"hp below % buff requirement\"]),d=!1);return i.forEach(e=>{const a=$(D[e]);if(\"hp\"!==e&&0!==a){const t=Object.assign({id:\"passive:11:\"+e,originalId:\"11\",sources:F,value:a,conditions:Object.assign({},s)},n);d?t.conditions.hpGreaterThanOrEqualTo=U:t.conditions.hpLessThanOrEqualTo=U,u.push(t)}}),f&&u.push(c(f,{originalId:\"11\",sources:F,targetData:n,conditionInfo:s})),u}),e.set(\"12\",(e,a,t)=>{const{conditionInfo:s,targetData:i,sources:n}=o(e,a,t),F=[\"bc\",\"hc\",\"item\",\"zel\",\"karma\"],l=e,u=[],D={bc:\"0\",hc:\"0\",item:\"0\",zel:\"0\",karma:\"0\"};let f,d=!1,U=0;if(l.params){let e,a,s;[D.bc,D.hc,D.item,D.zel,D.karma,s,a,...e]=r(l),d=\"1\"===a,U=$(s),f=p(e,7,t)}else F.forEach(e=>{D[e]=l[e+\" drop rate% buff\"]}),\"hp above % buff requirement\"in l?(U=$(l[\"hp above % buff requirement\"]),d=!0):(U=$(l[\"hp below % buff requirement\"]),d=!1);return F.forEach(e=>{const a=$(D[e]);if(0!==a){const t=Object.assign({id:\"passive:12:\"+e,originalId:\"12\",sources:n,value:a,conditions:Object.assign({},s)},i);d?t.conditions.hpGreaterThanOrEqualTo=U:t.conditions.hpLessThanOrEqualTo=U,u.push(t)}}),f&&u.push(c(f,{originalId:\"12\",sources:n,targetData:i,conditionInfo:s})),u}),e.set(\"13\",(e,a,t)=>u({effect:e,context:a,injectionContext:t,originalId:\"13\",effectKeyLow:\"bc fill on enemy defeat low\",effectKeyHigh:\"bc fill on enemy defeat high\",effectKeyChance:\"bc fill on enemy defeat%\",buffKeyLow:\"fillLow\",buffKeyHigh:\"fillHigh\",parseParamValue:e=>$(e)/100,generateBaseConditions:()=>({onEnemyDefeat:!0}),buffId:\"passive:13\"})),e.set(\"14\",(e,a,t)=>{const{conditionInfo:s,targetData:i,sources:n}=o(e,a,t),F=e;let l,u,D;if(F.params){const[e,a,...s]=r(F);l=$(e),u=$(a),D=p(s,2,t)}else l=$(F[\"dmg reduction%\"]),u=$(F[\"dmg reduction chance%\"]);const f=[Object.assign({id:\"passive:14\",originalId:\"14\",sources:n,value:{value:l,chance:u},conditions:Object.assign({},s)},i)];return D&&f.push(c(D,{originalId:\"14\",sources:n,targetData:i,conditionInfo:s})),f}),e.set(\"15\",(e,a,t)=>u({effect:e,context:a,injectionContext:t,originalId:\"15\",effectKeyLow:\"hp% recover on enemy defeat low\",effectKeyHigh:\"hp% recover on enemy defeat high\",effectKeyChance:\"hp% recover on enemy defeat chance%\",buffKeyLow:\"healLow\",buffKeyHigh:\"healHigh\",generateBaseConditions:()=>({onEnemyDefeat:!0}),defaultEffectChance:100,buffId:\"passive:15\"})),e.set(\"16\",(e,a,t)=>{const{conditionInfo:s,targetData:i,sources:n}=o(e,a,t),F=e;let l,u,D;if(F.params){const[e,a,...s]=r(F);l=$(e),u=$(a),D=p(s,2,t)}else l=$(F[\"hp% recover on battle win low\"]),u=$(F[\"hp% recover on battle win high\"]);const f=[Object.assign({id:\"passive:16\",originalId:\"16\",sources:n,value:{healLow:l,healHigh:u},conditions:Object.assign(Object.assign({},s),{onBattleWin:!0})},i)];return D&&f.push(c(D,{originalId:\"16\",sources:n,targetData:i,conditionInfo:s})),f}),e.set(\"17\",(e,a,t)=>u({effect:e,context:a,injectionContext:t,originalId:\"17\",effectKeyLow:\"hp drain% low\",effectKeyHigh:\"hp drain% high\",effectKeyChance:\"hp drain chance%\",buffKeyLow:\"drainHealLow\",buffKeyHigh:\"drainHealHigh\",buffId:\"passive:17\"})),e.set(\"19\",(e,a,t)=>{const{conditionInfo:s,targetData:i,sources:n}=o(e,a,t),F=[\"bc\",\"hc\",\"item\",\"zel\",\"karma\"],l=e,u=[],D={bc:\"0\",hc:\"0\",item:\"0\",zel:\"0\",karma:\"0\"};let f;if(l.params){let e;[D.bc,D.hc,D.item,D.zel,D.karma,...e]=r(l),f=p(e,5,t)}else F.forEach(e=>{D[e]=l[e+\" drop rate% buff\"]});return F.forEach(e=>{const a=$(D[e]);0!==a&&u.push(Object.assign({id:\"passive:19:\"+e,originalId:\"19\",sources:n,value:a,conditions:Object.assign({},s)},i))}),f&&u.push(c(f,{originalId:\"19\",sources:n,targetData:i,conditionInfo:s})),u}),e.set(\"20\",(e,a,t)=>{const{conditionInfo:i,targetData:n,sources:F}=o(e,a,t),u=[],D=e;let f;if(D.params){let e=r(D);e.length%2!=0&&\"0\"!==e[e.length-1]&&(f=p(e.slice(-1),e.length-1,t),e=e.slice(0,e.length-1));const a=e.length;for(let t=0;t<a;t+=2){const a=e[t],i=$(e[t+1]);if(\"0\"!==a||0!==i){const e=s[a]||l.Unknown;u.push({ailment:e,chance:i})}}}else Object.values(s).forEach(a=>{let t;t=a===l.Weak?\"weaken%\":a===l.AttackReduction||a===l.DefenseReduction||a===l.RecoveryReduction?a:a+\"%\",t in e&&u.push({ailment:a,chance:$(D[t])})});const d=u.map(({ailment:e,chance:a})=>Object.assign({id:\"passive:20:\"+e,originalId:\"20\",sources:F,value:a,conditions:Object.assign({},i)},n));return f&&d.push(c(f,{originalId:\"20\",sources:F,targetData:n,conditionInfo:i})),d}),e.set(\"21\",(e,a,t)=>{const{conditionInfo:s,targetData:n,sources:F}=o(e,a,t),l=e,u=[],D={atk:\"0\",def:\"0\",rec:\"0\",crit:\"0\"};let f,d=0;if(l.params){let e,a;[D.atk,D.def,D.rec,D.crit,e,...a]=r(l),d=$(e),f=p(a,5,t)}else D.atk=l[\"first x turns atk% (1)\"],D.def=l[\"first x turns def% (3)\"],D.rec=l[\"first x turns rec% (5)\"],D.crit=l[\"first x turns crit% (7)\"],d=$(l[\"first x turns\"]);return i.forEach(e=>{const a=$(D[e]);if(\"hp\"!==e&&0!==a){const t=Object.assign({id:\"passive:21:\"+e,originalId:\"21\",sources:F,value:a,duration:d,conditions:Object.assign({},s)},n);u.push(t)}}),f&&u.push(c(f,{originalId:\"21\",sources:F,targetData:n,conditionInfo:s})),u}),e.set(\"23\",(e,a,t)=>{const{conditionInfo:s,targetData:i,sources:n}=o(e,a,t),F=e;let l,u,D;if(F.params){const[e,a,...s]=r(F);l=$(e)/100,u=$(a)/100,D=p(s,2,t)}else l=$(F[\"battle end bc fill low\"]),u=$(F[\"battle end bc fill high\"]);const f=[Object.assign({id:\"passive:23\",originalId:\"23\",sources:n,value:{fillLow:l,fillHigh:u},conditions:Object.assign(Object.assign({},s),{onBattleWin:!0})},i)];return D&&f.push(c(D,{originalId:\"23\",sources:n,targetData:i,conditionInfo:s})),f}),e.set(\"24\",(e,a,t)=>u({effect:e,context:a,injectionContext:t,originalId:\"24\",effectKeyLow:\"dmg% to hp when attacked low\",effectKeyHigh:\"dmg% to hp when attacked high\",effectKeyChance:\"dmg% to hp when attacked chance%\",buffKeyLow:\"healLow\",buffKeyHigh:\"healHigh\",generateBaseConditions:()=>({whenAttacked:!0}),buffId:\"passive:24\"})),e.set(\"25\",(e,a,t)=>u({effect:e,context:a,injectionContext:t,originalId:\"25\",effectKeyLow:\"bc fill when attacked low\",effectKeyHigh:\"bc fill when attacked high\",effectKeyChance:\"bc fill when attacked%\",buffKeyLow:\"fillLow\",buffKeyHigh:\"fillHigh\",parseParamValue:e=>$(e)/100,generateBaseConditions:()=>({whenAttacked:!0}),buffId:\"passive:25\"}))}(Z)),Z}!function(e){e.Active=\"active\",e.Passive=\"passive\",e.ConditionalTimed=\"conditionalTimed\",e.Singleton=\"singleton\",e.Burst=\"burst\",e.Attack=\"attack\",e.Unknown=\"unknown\"}(K||(K={})),function(e){e.BraveBurst=\"bb\",e.SuperBraveBurst=\"sbb\",e.UltimateBraveBurst=\"ubb\",e.DualBraveBurst=\"dbb\",e.BondedBraveBurst=\"bbb\",e.BondedSuperBraveBurst=\"dsbb\",e.SpEnhancement=\"sp\",e.Item=\"item\",e.LeaderSkill=\"ls\",e.ExtraSkill=\"es\",e.OmniParadigm=\"omniParadigm\",e.UnitTypeBonus=\"unitTypeBonus\",e.Quest=\"quest\"}(w||(w={})),function(e){e.Unknown=\"unknown\",e.OmniParadigm=\"omniParadigm\",e.All=\"all\"}(S||(S={})),function(e){e.hp=\"hp\",e.atk=\"atk\",e.def=\"def\",e.rec=\"rec\",e.crit=\"crit\",e.hpRecovery=\"hpRecovery\",e.bbGauge=\"bbGauge\",e.bcDropRate=\"bcDropRate\",e.hcDropRate=\"hcDropRate\",e.itemDropRate=\"itemDropRate\",e.zelDropRate=\"zelDropRate\",e.karmaDropRate=\"karmaDropRate\",e.hcEfficacy=\"hcEfficacy\",e.poisonResist=\"poisonResist\",e.weakResist=\"weakResist\",e.sickResist=\"sickResist\",e.injuryResist=\"injuryResist\",e.curseResist=\"curseResist\",e.paralysisResist=\"paralysisResist\",e.poisonInflict=\"poisonInflict\",e.weakInflict=\"weakInflict\",e.sickInflict=\"sickInflict\",e.injuryInflict=\"injuryInflict\",e.curseInflict=\"curseInflict\",e.paralysisInflict=\"paralysisInflict\",e.atkDownResist=\"atkDownResist\",e.defDownResist=\"defDownResist\",e.recDownResist=\"recDownResist\",e.atkDownInflict=\"atkDownInflict\",e.defDownInflict=\"defDownInflict\",e.recDownInflict=\"recDownInflict\",e.mitigation=\"mitigation\",e.fireMitigation=\"fireMitigation\",e.waterMitigation=\"waterMitigation\",e.earthMitigation=\"earthMitigation\",e.thunderMitigation=\"thunderMitigation\",e.lightMitigation=\"lightMitigation\",e.darkMitigation=\"darkMitigation\",e.turnDurationModification=\"turnDurationModification\",e.koResistance=\"koResistance\",e.revive=\"revive\",e.defenseIgnore=\"defenseIgnore\",e.sparkDamage=\"sparkDamage\",e.hitCountModification=\"hitCountModification\"}(L||(L={})),function(e){e.UNKNOWN=\"UNKNOWN\",e.TURN_DURATION_UP=\"TURN_DURATION_UP\",e.TURN_DURATION_DOWN=\"TURN_DURATION_DOWN\",e.BUFF_HPUP=\"BUFF_HPUP\",e.BUFF_HPDOWN=\"BUFF_HPDOWN\",e.BUFF_ATKUP=\"BUFF_ATKUP\",e.BUFF_ATKDOWN=\"BUFF_ATKDOWN\",e.BUFF_DEFUP=\"BUFF_DEFUP\",e.BUFF_DEFDOWN=\"BUFF_DEFDOWN\",e.BUFF_RECUP=\"BUFF_RECUP\",e.BUFF_RECDOWN=\"BUFF_RECDOWN\",e.BUFF_CRTRATEUP=\"BUFF_CRTRATEUP\",e.BUFF_CRTRATEDOWN=\"BUFF_CRTRATEDOWN\",e.BUFF_HPTHRESHATKUP=\"BUFF_HPTHRESHATKUP\",e.BUFF_HPTHRESHATKDOWN=\"BUFF_HPTHRESHATKDOWN\",e.BUFF_HPTHRESHDEFUP=\"BUFF_HPTHRESHDEFUP\",e.BUFF_HPTHRESHDEFDOWN=\"BUFF_HPTHRESHDEFDOWN\",e.BUFF_HPTHRESHRECUP=\"BUFF_HPTHRESHRECUP\",e.BUFF_HPTHRESHRECDOWN=\"BUFF_HPTHRESHRECDOWN\",e.BUFF_HPTHRESHCRTRATEUP=\"BUFF_HPTHRESHCRTRATEUP\",e.BUFF_HPTHRESHCRTRATEDOWN=\"BUFF_HPTHRESHCRTRATEDOWN\",e.BUFF_HPREC=\"BUFF_HPREC\",e.BUFF_BBREC=\"BUFF_BBREC\",e.BUFF_DAMAGEBB=\"BUFF_DAMAGEBB\",e.BUFF_BEENATK_HPREC=\"BUFF_BEENATK_HPREC\",e.BUFF_FIREHPUP=\"BUFF_FIREHPUP\",e.BUFF_FIREHPDOWN=\"BUFF_FIREHPDOWN\",e.BUFF_FIREATKUP=\"BUFF_FIREATKUP\",e.BUFF_FIREATKDOWN=\"BUFF_FIREATKDOWN\",e.BUFF_FIREDEFUP=\"BUFF_FIREDEFUP\",e.BUFF_FIREDEFDOWN=\"BUFF_FIREDEFDOWN\",e.BUFF_FIRERECUP=\"BUFF_FIRERECUP\",e.BUFF_FIRERECDOWN=\"BUFF_FIRERECDOWN\",e.BUFF_FIRECRTRATEUP=\"BUFF_FIRECRTRATEUP\",e.BUFF_FIRECRTRATEDOWN=\"BUFF_FIRECRTRATEDOWN\",e.BUFF_WATERHPUP=\"BUFF_WATERHPUP\",e.BUFF_WATERHPDOWN=\"BUFF_WATERHPDOWN\",e.BUFF_WATERATKUP=\"BUFF_WATERATKUP\",e.BUFF_WATERATKDOWN=\"BUFF_WATERATKDOWN\",e.BUFF_WATERDEFUP=\"BUFF_WATERDEFUP\",e.BUFF_WATERDEFDOWN=\"BUFF_WATERDEFDOWN\",e.BUFF_WATERRECUP=\"BUFF_WATERRECUP\",e.BUFF_WATERRECDOWN=\"BUFF_WATERRECDOWN\",e.BUFF_WATERCRTRATEUP=\"BUFF_WATERCRTRATEUP\",e.BUFF_WATERCRTRATEDOWN=\"BUFF_WATERCRTRATEDOWN\",e.BUFF_EARTHHPUP=\"BUFF_EARTHHPUP\",e.BUFF_EARTHHPDOWN=\"BUFF_EARTHHPDOWN\",e.BUFF_EARTHATKUP=\"BUFF_EARTHATKUP\",e.BUFF_EARTHATKDOWN=\"BUFF_EARTHATKDOWN\",e.BUFF_EARTHDEFUP=\"BUFF_EARTHDEFUP\",e.BUFF_EARTHDEFDOWN=\"BUFF_EARTHDEFDOWN\",e.BUFF_EARTHRECUP=\"BUFF_EARTHRECUP\",e.BUFF_EARTHRECDOWN=\"BUFF_EARTHRECDOWN\",e.BUFF_EARTHCRTRATEUP=\"BUFF_EARTHCRTRATEUP\",e.BUFF_EARTHCRTRATEDOWN=\"BUFF_EARTHCRTRATEDOWN\",e.BUFF_THUNDERHPUP=\"BUFF_THUNDERHPUP\",e.BUFF_THUNDERHPDOWN=\"BUFF_THUNDERHPDOWN\",e.BUFF_THUNDERATKUP=\"BUFF_THUNDERATKUP\",e.BUFF_THUNDERATKDOWN=\"BUFF_THUNDERATKDOWN\",e.BUFF_THUNDERDEFUP=\"BUFF_THUNDERDEFUP\",e.BUFF_THUNDERDEFDOWN=\"BUFF_THUNDERDEFDOWN\",e.BUFF_THUNDERRECUP=\"BUFF_THUNDERRECUP\",e.BUFF_THUNDERRECDOWN=\"BUFF_THUNDERRECDOWN\",e.BUFF_THUNDERCRTRATEUP=\"BUFF_THUNDERCRTRATEUP\",e.BUFF_THUNDERCRTRATEDOWN=\"BUFF_THUNDERCRTRATEDOWN\",e.BUFF_LIGHTHPUP=\"BUFF_LIGHTHPUP\",e.BUFF_LIGHTHPDOWN=\"BUFF_LIGHTHPDOWN\",e.BUFF_LIGHTATKUP=\"BUFF_LIGHTATKUP\",e.BUFF_LIGHTATKDOWN=\"BUFF_LIGHTATKDOWN\",e.BUFF_LIGHTDEFUP=\"BUFF_LIGHTDEFUP\",e.BUFF_LIGHTDEFDOWN=\"BUFF_LIGHTDEFDOWN\",e.BUFF_LIGHTRECUP=\"BUFF_LIGHTRECUP\",e.BUFF_LIGHTRECDOWN=\"BUFF_LIGHTRECDOWN\",e.BUFF_LIGHTCRTRATEUP=\"BUFF_LIGHTCRTRATEUP\",e.BUFF_LIGHTCRTRATEDOWN=\"BUFF_LIGHTCRTRATEDOWN\",e.BUFF_DARKHPUP=\"BUFF_DARKHPUP\",e.BUFF_DARKHPDOWN=\"BUFF_DARKHPDOWN\",e.BUFF_DARKATKUP=\"BUFF_DARKATKUP\",e.BUFF_DARKATKDOWN=\"BUFF_DARKATKDOWN\",e.BUFF_DARKDEFUP=\"BUFF_DARKDEFUP\",e.BUFF_DARKDEFDOWN=\"BUFF_DARKDEFDOWN\",e.BUFF_DARKRECUP=\"BUFF_DARKRECUP\",e.BUFF_DARKRECDOWN=\"BUFF_DARKRECDOWN\",e.BUFF_DARKCRTRATEUP=\"BUFF_DARKCRTRATEUP\",e.BUFF_DARKCRTRATEDOWN=\"BUFF_DARKCRTRATEDOWN\",e.BUFF_ELEMENTHPUP=\"BUFF_ELEMENTHPUP\",e.BUFF_ELEMENTHPDOWN=\"BUFF_ELEMENTHPDOWN\",e.BUFF_ELEMENTATKUP=\"BUFF_ELEMENTATKUP\",e.BUFF_ELEMENTATKDOWN=\"BUFF_ELEMENTATKDOWN\",e.BUFF_ELEMENTDEFUP=\"BUFF_ELEMENTDEFUP\",e.BUFF_ELEMENTDEFDOWN=\"BUFF_ELEMENTDEFDOWN\",e.BUFF_ELEMENTRECUP=\"BUFF_ELEMENTRECUP\",e.BUFF_ELEMENTRECDOWN=\"BUFF_ELEMENTRECDOWN\",e.BUFF_ELEMENTCRTRATEUP=\"BUFF_ELEMENTCRTRATEUP\",e.BUFF_ELEMENTCRTRATEDOWN=\"BUFF_ELEMENTCRTRATEDOWN\",e.BUFF_LORDHPUP=\"BUFF_LORDHPUP\",e.BUFF_LORDHPDOWN=\"BUFF_LORDHPDOWN\",e.BUFF_LORDATKUP=\"BUFF_LORDATKUP\",e.BUFF_LORDATKDOWN=\"BUFF_LORDATKDOWN\",e.BUFF_LORDDEFUP=\"BUFF_LORDDEFUP\",e.BUFF_LORDDEFDOWN=\"BUFF_LORDDEFDOWN\",e.BUFF_LORDRECUP=\"BUFF_LORDRECUP\",e.BUFF_LORDRECDOWN=\"BUFF_LORDRECDOWN\",e.BUFF_LORDCRTRATEUP=\"BUFF_LORDCRTRATEUP\",e.BUFF_LORDCRTRATEDOWN=\"BUFF_LORDCRTRATEDOWN\",e.BUFF_ANIMAHPUP=\"BUFF_ANIMAHPUP\",e.BUFF_ANIMAHPDOWN=\"BUFF_ANIMAHPDOWN\",e.BUFF_ANIMAATKUP=\"BUFF_ANIMAATKUP\",e.BUFF_ANIMAATKDOWN=\"BUFF_ANIMAATKDOWN\",e.BUFF_ANIMADEFUP=\"BUFF_ANIMADEFUP\",e.BUFF_ANIMADEFDOWN=\"BUFF_ANIMADEFDOWN\",e.BUFF_ANIMARECUP=\"BUFF_ANIMARECUP\",e.BUFF_ANIMARECDOWN=\"BUFF_ANIMARECDOWN\",e.BUFF_ANIMACRTRATEUP=\"BUFF_ANIMACRTRATEUP\",e.BUFF_ANIMACRTRATEDOWN=\"BUFF_ANIMACRTRATEDOWN\",e.BUFF_BREAKERHPUP=\"BUFF_BREAKERHPUP\",e.BUFF_BREAKERHPDOWN=\"BUFF_BREAKERHPDOWN\",e.BUFF_BREAKERATKUP=\"BUFF_BREAKERATKUP\",e.BUFF_BREAKERATKDOWN=\"BUFF_BREAKERATKDOWN\",e.BUFF_BREAKERDEFUP=\"BUFF_BREAKERDEFUP\",e.BUFF_BREAKERDEFDOWN=\"BUFF_BREAKERDEFDOWN\",e.BUFF_BREAKERRECUP=\"BUFF_BREAKERRECUP\",e.BUFF_BREAKERRECDOWN=\"BUFF_BREAKERRECDOWN\",e.BUFF_BREAKERCRTRATEUP=\"BUFF_BREAKERCRTRATEUP\",e.BUFF_BREAKERCRTRATEDOWN=\"BUFF_BREAKERCRTRATEDOWN\",e.BUFF_GUARDIANHPUP=\"BUFF_GUARDIANHPUP\",e.BUFF_GUARDIANHPDOWN=\"BUFF_GUARDIANHPDOWN\",e.BUFF_GUARDIANATKUP=\"BUFF_GUARDIANATKUP\",e.BUFF_GUARDIANATKDOWN=\"BUFF_GUARDIANATKDOWN\",e.BUFF_GUARDIANDEFUP=\"BUFF_GUARDIANDEFUP\",e.BUFF_GUARDIANDEFDOWN=\"BUFF_GUARDIANDEFDOWN\",e.BUFF_GUARDIANRECUP=\"BUFF_GUARDIANRECUP\",e.BUFF_GUARDIANRECDOWN=\"BUFF_GUARDIANRECDOWN\",e.BUFF_GUARDIANCRTRATEUP=\"BUFF_GUARDIANCRTRATEUP\",e.BUFF_GUARDIANCRTRATEDOWN=\"BUFF_GUARDIANCRTRATEDOWN\",e.BUFF_ORACLEHPUP=\"BUFF_ORACLEHPUP\",e.BUFF_ORACLEHPDOWN=\"BUFF_ORACLEHPDOWN\",e.BUFF_ORACLEATKUP=\"BUFF_ORACLEATKUP\",e.BUFF_ORACLEATKDOWN=\"BUFF_ORACLEATKDOWN\",e.BUFF_ORACLEDEFUP=\"BUFF_ORACLEDEFUP\",e.BUFF_ORACLEDEFDOWN=\"BUFF_ORACLEDEFDOWN\",e.BUFF_ORACLERECUP=\"BUFF_ORACLERECUP\",e.BUFF_ORACLERECDOWN=\"BUFF_ORACLERECDOWN\",e.BUFF_ORACLECRTRATEUP=\"BUFF_ORACLECRTRATEUP\",e.BUFF_ORACLECRTRATEDOWN=\"BUFF_ORACLECRTRATEDOWN\",e.BUFF_REXHPUP=\"BUFF_REXHPUP\",e.BUFF_REXHPDOWN=\"BUFF_REXHPDOWN\",e.BUFF_REXATKUP=\"BUFF_REXATKUP\",e.BUFF_REXATKDOWN=\"BUFF_REXATKDOWN\",e.BUFF_REXDEFUP=\"BUFF_REXDEFUP\",e.BUFF_REXDEFDOWN=\"BUFF_REXDEFDOWN\",e.BUFF_REXRECUP=\"BUFF_REXRECUP\",e.BUFF_REXRECDOWN=\"BUFF_REXRECDOWN\",e.BUFF_REXCRTRATEUP=\"BUFF_REXCRTRATEUP\",e.BUFF_REXCRTRATEDOWN=\"BUFF_REXCRTRATEDOWN\",e.BUFF_UNITTYPEHPUP=\"BUFF_UNITTYPEHPUP\",e.BUFF_UNITTYPEHPDOWN=\"BUFF_UNITTYPEHPDOWN\",e.BUFF_UNITTYPEATKUP=\"BUFF_UNITTYPEATKUP\",e.BUFF_UNITTYPEATKDOWN=\"BUFF_UNITTYPEATKDOWN\",e.BUFF_UNITTYPEDEFUP=\"BUFF_UNITTYPEDEFUP\",e.BUFF_UNITTYPEDEFDOWN=\"BUFF_UNITTYPEDEFDOWN\",e.BUFF_UNITTYPERECUP=\"BUFF_UNITTYPERECUP\",e.BUFF_UNITTYPERECDOWN=\"BUFF_UNITTYPERECDOWN\",e.BUFF_UNITTYPECRTRATEUP=\"BUFF_UNITTYPECRTRATEUP\",e.BUFF_UNITTYPECRTRATEDOWN=\"BUFF_UNITTYPECRTRATEDOWN\",e.BUFF_CONVERTATKUP=\"BUFF_CONVERTATKUP\",e.BUFF_CONVERTATKDOWN=\"BUFF_CONVERTATKDOWN\",e.BUFF_CONVERTDEFUP=\"BUFF_CONVERTDEFUP\",e.BUFF_CONVERTDEFDOWN=\"BUFF_CONVERTDEFDOWN\",e.BUFF_CONVERTRECUP=\"BUFF_CONVERTRECUP\",e.BUFF_CONVERTRECDOWN=\"BUFF_CONVERTRECDOWN\",e.BUFF_POISONBLK=\"BUFF_POISONBLK\",e.BUFF_WEAKBLK=\"BUFF_WEAKBLK\",e.BUFF_SICKBLK=\"BUFF_SICKBLK\",e.BUFF_INJURYBLK=\"BUFF_INJURYBLK\",e.BUFF_CURSEBLK=\"BUFF_CURSEBLK\",e.BUFF_PARALYSISBLK=\"BUFF_PARALYSISBLK\",e.BUFF_ATKDOWNBLK=\"BUFF_ATKDOWNBLK\",e.BUFF_DEFDOWNBLK=\"BUFF_DEFDOWNBLK\",e.BUFF_RECDOWNBLK=\"BUFF_RECDOWNBLK\",e.BUFF_AILMENTBLK=\"BUFF_AILMENTBLK\",e.DEBUFF_POISON=\"DEBUFF_POISON\",e.DEBUFF_WEAK=\"DEBUFF_WEAK\",e.DEBUFF_SICK=\"DEBUFF_SICK\",e.DEBUFF_INJURY=\"DEBUFF_INJURY\",e.DEBUFF_CURSE=\"DEBUFF_CURSE\",e.DEBUFF_PARALYSIS=\"DEBUFF_PARALYSIS\",e.DEBUFF_AILMENT=\"DEBUFF_AILMENT\",e.BUFF_ADDPOISON=\"BUFF_ADDPOISON\",e.BUFF_ADDWEAK=\"BUFF_ADDWEAK\",e.BUFF_ADDSICK=\"BUFF_ADDSICK\",e.BUFF_ADDINJURY=\"BUFF_ADDINJURY\",e.BUFF_ADDCURSE=\"BUFF_ADDCURSE\",e.BUFF_ADDPARA=\"BUFF_ADDPARA\",e.BUFF_ADDAILMENT=\"BUFF_ADDAILMENT\",e.BUFF_ADDATKDOWN=\"BUFF_ADDATKDOWN\",e.BUFF_ADDDEFDOWN=\"BUFF_ADDDEFDOWN\",e.BUFF_ADDRECDOWN=\"BUFF_ADDRECDOWN\",e.BUFF_DAMAGECUT=\"BUFF_DAMAGECUT\",e.BUFF_FIREDMGDOWN=\"BUFF_FIREDMGDOWN\",e.BUFF_WATERDMGDOWN=\"BUFF_WATERDMGDOWN\",e.BUFF_EARTHDMGDOWN=\"BUFF_EARTHDMGDOWN\",e.BUFF_THUNDERDMGDOWN=\"BUFF_THUNDERDMGDOWN\",e.BUFF_LIGHTDMGDOWN=\"BUFF_LIGHTDMGDOWN\",e.BUFF_DARKDMGDOWN=\"BUFF_DARKDMGDOWN\",e.BUFF_ELEMENTDMGDOWN=\"BUFF_ELEMENTDMGDOWN\",e.BUFF_HCDROP=\"BUFF_HCDROP\",e.BUFF_HCDOWN=\"BUFF_HCDOWN\",e.BUFF_BCDROP=\"BUFF_BCDROP\",e.BUFF_BCDOWN=\"BUFF_BCDOWN\",e.BUFF_ITEMDROP=\"BUFF_ITEMDROP\",e.BUFF_ITEMDOWN=\"BUFF_ITEMDOWN\",e.BUFF_ZELDROP=\"BUFF_ZELDROP\",e.BUFF_ZELDOWN=\"BUFF_ZELDOWN\",e.BUFF_KARMADROP=\"BUFF_KARMADROP\",e.BUFF_KARMADOWN=\"BUFF_KARMADOWN\",e.BUFF_HCREC=\"BUFF_HCREC\",e.BUFF_KOBLK=\"BUFF_KOBLK\",e.BUFF_HPABS=\"BUFF_HPABS\",e.BUFF_IGNOREDEF=\"BUFF_IGNOREDEF\",e.BUFF_SPARKUP=\"BUFF_SPARKUP\",e.BUFF_HITUP=\"BUFF_HITUP\",e.ATK_ST=\"ATK_ST\",e.ATK_AOE=\"ATK_AOE\",e.ATK_RT=\"ATK_RT\",e.ATK_ST_HPREC=\"ATK_ST_HPREC\",e.ATK_AOE_HPREC=\"ATK_AOE_HPREC\"}(M||(M={})),function(e){e.UNKNOWN_PASSIVE_EFFECT_ID=\"UNKNOWN_PASSIVE_EFFECT_ID\",e.UNKNOWN_PASSIVE_BUFF_PARAMS=\"UNKNOWN_PASSIVE_BUFF_PARAMS\",e.TURN_DURATION_MODIFICATION=\"TURN_DURATION_MODIFICATION\",e[\"passive:1:hp\"]=\"passive:1:hp\",e[\"passive:1:atk\"]=\"passive:1:atk\",e[\"passive:1:def\"]=\"passive:1:def\",e[\"passive:1:rec\"]=\"passive:1:rec\",e[\"passive:1:crit\"]=\"passive:1:crit\",e[\"passive:2:hp\"]=\"passive:2:hp\",e[\"passive:2:atk\"]=\"passive:2:atk\",e[\"passive:2:def\"]=\"passive:2:def\",e[\"passive:2:rec\"]=\"passive:2:rec\",e[\"passive:2:crit\"]=\"passive:2:crit\",e[\"passive:3:hp\"]=\"passive:3:hp\",e[\"passive:3:atk\"]=\"passive:3:atk\",e[\"passive:3:def\"]=\"passive:3:def\",e[\"passive:3:rec\"]=\"passive:3:rec\",e[\"passive:3:crit\"]=\"passive:3:crit\",e[\"passive:4:poison\"]=\"passive:4:poison\",e[\"passive:4:weak\"]=\"passive:4:weak\",e[\"passive:4:sick\"]=\"passive:4:sick\",e[\"passive:4:injury\"]=\"passive:4:injury\",e[\"passive:4:curse\"]=\"passive:4:curse\",e[\"passive:4:paralysis\"]=\"passive:4:paralysis\",e[\"passive:5:fire\"]=\"passive:5:fire\",e[\"passive:5:water\"]=\"passive:5:water\",e[\"passive:5:earth\"]=\"passive:5:earth\",e[\"passive:5:thunder\"]=\"passive:5:thunder\",e[\"passive:5:light\"]=\"passive:5:light\",e[\"passive:5:dark\"]=\"passive:5:dark\",e[\"passive:5:unknown\"]=\"passive:5:unknown\",e[\"passive:8\"]=\"passive:8\",e[\"passive:9\"]=\"passive:9\",e[\"passive:10\"]=\"passive:10\",e[\"passive:11:atk\"]=\"passive:11:atk\",e[\"passive:11:def\"]=\"passive:11:def\",e[\"passive:11:rec\"]=\"passive:11:rec\",e[\"passive:11:crit\"]=\"passive:11:crit\",e[\"passive:12:bc\"]=\"passive:12:bc\",e[\"passive:12:hc\"]=\"passive:12:hc\",e[\"passive:12:item\"]=\"passive:12:item\",e[\"passive:12:zel\"]=\"passive:12:zel\",e[\"passive:12:karma\"]=\"passive:12:karma\",e[\"passive:13\"]=\"passive:13\",e[\"passive:14\"]=\"passive:14\",e[\"passive:15\"]=\"passive:15\",e[\"passive:16\"]=\"passive:16\",e[\"passive:17\"]=\"passive:17\",e[\"passive:19:bc\"]=\"passive:19:bc\",e[\"passive:19:hc\"]=\"passive:19:hc\",e[\"passive:19:item\"]=\"passive:19:item\",e[\"passive:19:zel\"]=\"passive:19:zel\",e[\"passive:19:karma\"]=\"passive:19:karma\",e[\"passive:20:poison\"]=\"passive:20:poison\",e[\"passive:20:weak\"]=\"passive:20:weak\",e[\"passive:20:sick\"]=\"passive:20:sick\",e[\"passive:20:injury\"]=\"passive:20:injury\",e[\"passive:20:curse\"]=\"passive:20:curse\",e[\"passive:20:paralysis\"]=\"passive:20:paralysis\",e[\"passive:20:atk down\"]=\"passive:20:atk down\",e[\"passive:20:def down\"]=\"passive:20:def down\",e[\"passive:20:rec down\"]=\"passive:20:rec down\",e[\"passive:20:unknown\"]=\"passive:20:unknown\",e[\"passive:21:atk\"]=\"passive:21:atk\",e[\"passive:21:def\"]=\"passive:21:def\",e[\"passive:21:rec\"]=\"passive:21:rec\",e[\"passive:21:crit\"]=\"passive:21:crit\",e[\"passive:23\"]=\"passive:23\",e[\"passive:24\"]=\"passive:24\",e[\"passive:25\"]=\"passive:25\",e.UNKNOWN_PROC_EFFECT_ID=\"UNKNOWN_PROC_EFFECT_ID\",e.UNKNOWN_PROC_BUFF_PARAMS=\"UNKNOWN_PROC_BUFF_PARAMS\",e[\"proc:1\"]=\"proc:1\",e[\"proc:2\"]=\"proc:2\",e[\"proc:3\"]=\"proc:3\",e[\"proc:4:flat\"]=\"proc:4:flat\",e[\"proc:4:percent\"]=\"proc:4:percent\",e[\"proc:5:atk\"]=\"proc:5:atk\",e[\"proc:5:def\"]=\"proc:5:def\",e[\"proc:5:rec\"]=\"proc:5:rec\",e[\"proc:5:crit\"]=\"proc:5:crit\",e[\"proc:6:bc\"]=\"proc:6:bc\",e[\"proc:6:hc\"]=\"proc:6:hc\",e[\"proc:6:item\"]=\"proc:6:item\",e[\"proc:7\"]=\"proc:7\",e[\"proc:8:flat\"]=\"proc:8:flat\",e[\"proc:8:percent\"]=\"proc:8:percent\",e[\"proc:9:atk\"]=\"proc:9:atk\",e[\"proc:9:def\"]=\"proc:9:def\",e[\"proc:9:rec\"]=\"proc:9:rec\",e[\"proc:9:unknown\"]=\"proc:9:unknown\",e[\"proc:10:poison\"]=\"proc:10:poison\",e[\"proc:10:weak\"]=\"proc:10:weak\",e[\"proc:10:sick\"]=\"proc:10:sick\",e[\"proc:10:injury\"]=\"proc:10:injury\",e[\"proc:10:curse\"]=\"proc:10:curse\",e[\"proc:10:paralysis\"]=\"proc:10:paralysis\",e[\"proc:10:atk down\"]=\"proc:10:atk down\",e[\"proc:10:def down\"]=\"proc:10:def down\",e[\"proc:10:rec down\"]=\"proc:10:rec down\",e[\"proc:10:unknown\"]=\"proc:10:unknown\",e[\"proc:11:poison\"]=\"proc:11:poison\",e[\"proc:11:weak\"]=\"proc:11:weak\",e[\"proc:11:sick\"]=\"proc:11:sick\",e[\"proc:11:injury\"]=\"proc:11:injury\",e[\"proc:11:curse\"]=\"proc:11:curse\",e[\"proc:11:paralysis\"]=\"proc:11:paralysis\",e[\"proc:11:atk down\"]=\"proc:11:atk down\",e[\"proc:11:def down\"]=\"proc:11:def down\",e[\"proc:11:rec down\"]=\"proc:11:rec down\",e[\"proc:11:unknown\"]=\"proc:11:unknown\",e[\"proc:12\"]=\"proc:12\",e[\"proc:13\"]=\"proc:13\",e[\"proc:14\"]=\"proc:14\",e[\"proc:16:fire\"]=\"proc:16:fire\",e[\"proc:16:water\"]=\"proc:16:water\",e[\"proc:16:earth\"]=\"proc:16:earth\",e[\"proc:16:thunder\"]=\"proc:16:thunder\",e[\"proc:16:light\"]=\"proc:16:light\",e[\"proc:16:dark\"]=\"proc:16:dark\",e[\"proc:16:all\"]=\"proc:16:all\",e[\"proc:16:unknown\"]=\"proc:16:unknown\",e[\"proc:17:poison\"]=\"proc:17:poison\",e[\"proc:17:weak\"]=\"proc:17:weak\",e[\"proc:17:sick\"]=\"proc:17:sick\",e[\"proc:17:injury\"]=\"proc:17:injury\",e[\"proc:17:curse\"]=\"proc:17:curse\",e[\"proc:17:paralysis\"]=\"proc:17:paralysis\",e[\"proc:18\"]=\"proc:18\",e[\"proc:19\"]=\"proc:19\",e[\"proc:20\"]=\"proc:20\",e[\"proc:22\"]=\"proc:22\",e[\"proc:23\"]=\"proc:23\",e[\"proc:24:atk\"]=\"proc:24:atk\",e[\"proc:24:def\"]=\"proc:24:def\",e[\"proc:24:rec\"]=\"proc:24:rec\",e[\"proc:26\"]=\"proc:26\"}(j||(j={}));const ae=Object.freeze(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({UNKNOWN_PASSIVE_EFFECT_ID:{id:j.UNKNOWN_PASSIVE_EFFECT_ID,name:\"Unknown Passive Effect\",stackType:K.Unknown,icons:()=>[M.UNKNOWN]},UNKNOWN_PASSIVE_BUFF_PARAMS:{id:j.UNKNOWN_PASSIVE_BUFF_PARAMS,name:\"Unknown Passive Buff Parameters\",stackType:K.Unknown,icons:()=>[M.UNKNOWN]},TURN_DURATION_MODIFICATION:{id:j.TURN_DURATION_MODIFICATION,name:\"Passive Turn Duration Modification\",stat:L.turnDurationModification,stackType:K.Passive,icons:e=>[e&&e.value&&e.value.duration&&e.value.duration<0?M.TURN_DURATION_DOWN:M.TURN_DURATION_UP]},\"passive:1:hp\":{id:j[\"passive:1:hp\"],name:\"Passive HP Boost\",stat:L.hp,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HPDOWN:M.BUFF_HPUP]},\"passive:1:atk\":{id:j[\"passive:1:atk\"],name:\"Passive Attack Boost\",stat:L.atk,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_ATKDOWN:M.BUFF_ATKUP]},\"passive:1:def\":{id:j[\"passive:1:def\"],name:\"Passive Defense Boost\",stat:L.def,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_DEFDOWN:M.BUFF_DEFUP]},\"passive:1:rec\":{id:j[\"passive:1:rec\"],name:\"Passive Recovery Boost\",stat:L.rec,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_RECDOWN:M.BUFF_RECUP]},\"passive:1:crit\":{id:j[\"passive:1:crit\"],name:\"Passive Critical Hit Rate Boost\",stat:L.crit,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_CRTRATEDOWN:M.BUFF_CRTRATEUP]}},(()=>{const e=e=>a=>{let t=\"\",s=\"UP\";a&&(a.value&&a.value<0&&(s=\"DOWN\"),a.conditions&&a.conditions.targetElements&&(t=a.conditions.targetElements[0])),\"string\"!=typeof t&&(t=\"\");let i=`BUFF_${t.toUpperCase()}${e}${s}`;return t&&i in M||(i=`BUFF_ELEMENT${e}${s}`),[M[i]]};return{\"passive:2:hp\":{id:j[\"passive:2:hp\"],name:\"Passive Elemental HP Boost\",stat:L.hp,stackType:K.Passive,icons:e(\"HP\")},\"passive:2:atk\":{id:j[\"passive:2:atk\"],name:\"Passive Elemental Attack Boost\",stat:L.atk,stackType:K.Passive,icons:e(\"ATK\")},\"passive:2:def\":{id:j[\"passive:2:def\"],name:\"Passive Elemental Defense Boost\",stat:L.def,stackType:K.Passive,icons:e(\"DEF\")},\"passive:2:rec\":{id:j[\"passive:2:rec\"],name:\"Passive Elemental Recovery Boost\",stat:L.rec,stackType:K.Passive,icons:e(\"REC\")},\"passive:2:crit\":{id:j[\"passive:2:crit\"],name:\"Passive Elemental Critical Hit Rate Boost\",stat:L.crit,stackType:K.Passive,icons:e(\"CRTRATE\")}}})()),(()=>{const e=e=>a=>{let t=\"\",s=\"UP\";a&&(a.value&&a.value<0&&(s=\"DOWN\"),a.conditions&&(t=a.conditions.targetUnitType||\"\")),\"string\"==typeof t&&t||(t=\"unknown\");let i=`BUFF_${t.toUpperCase()}${e}${s}`;return t&&i in M||(i=`BUFF_UNITTYPE${e}${s}`),[M[i]]};return{\"passive:3:hp\":{id:j[\"passive:3:hp\"],name:\"Passive Type-Based HP Boost\",stat:L.hp,stackType:K.Passive,icons:e(\"HP\")},\"passive:3:atk\":{id:j[\"passive:3:atk\"],name:\"Passive Type-Based Attack Boost\",stat:L.atk,stackType:K.Passive,icons:e(\"ATK\")},\"passive:3:def\":{id:j[\"passive:3:def\"],name:\"Passive Type-Based Defense Boost\",stat:L.def,stackType:K.Passive,icons:e(\"DEF\")},\"passive:3:rec\":{id:j[\"passive:3:rec\"],name:\"Passive Type-Based Recovery Boost\",stat:L.rec,stackType:K.Passive,icons:e(\"REC\")},\"passive:3:crit\":{id:j[\"passive:3:crit\"],name:\"Passive Type-Based Critical Hit Rate Boost\",stat:L.crit,stackType:K.Passive,icons:e(\"CRTRATE\")}}})()),{\"passive:4:poison\":{id:j[\"passive:4:poison\"],name:\"Passive Poison Resist\",stat:L.poisonResist,stackType:K.Passive,icons:()=>[M.BUFF_POISONBLK]},\"passive:4:weak\":{id:j[\"passive:4:weak\"],name:\"Passive Weak Resist\",stat:L.weakResist,stackType:K.Passive,icons:()=>[M.BUFF_WEAKBLK]},\"passive:4:sick\":{id:j[\"passive:4:sick\"],name:\"Passive Sick Resist\",stat:L.sickResist,stackType:K.Passive,icons:()=>[M.BUFF_SICKBLK]},\"passive:4:injury\":{id:j[\"passive:4:injury\"],name:\"Passive Injury Resist\",stat:L.injuryResist,stackType:K.Passive,icons:()=>[M.BUFF_INJURYBLK]},\"passive:4:curse\":{id:j[\"passive:4:curse\"],name:\"Passive Curse Resist\",stat:L.curseResist,stackType:K.Passive,icons:()=>[M.BUFF_CURSEBLK]},\"passive:4:paralysis\":{id:j[\"passive:4:paralysis\"],name:\"Passive Paralysis Resist\",stat:L.poisonResist,stackType:K.Passive,icons:()=>[M.BUFF_PARALYSISBLK]},\"passive:5:fire\":{id:j[\"passive:5:fire\"],name:\"Passive Fire Damage Reduction\",stat:L.fireMitigation,stackType:K.Passive,icons:()=>[M.BUFF_FIREDMGDOWN]},\"passive:5:water\":{id:j[\"passive:5:water\"],name:\"Passive Water Damage Reduction\",stat:L.waterMitigation,stackType:K.Passive,icons:()=>[M.BUFF_WATERDMGDOWN]},\"passive:5:earth\":{id:j[\"passive:5:earth\"],name:\"Passive Earth Damage Reduction\",stat:L.earthMitigation,stackType:K.Passive,icons:()=>[M.BUFF_EARTHDMGDOWN]},\"passive:5:thunder\":{id:j[\"passive:5:thunder\"],name:\"Passive Thunder Damage Reduction\",stat:L.thunderMitigation,stackType:K.Passive,icons:()=>[M.BUFF_THUNDERDMGDOWN]},\"passive:5:light\":{id:j[\"passive:5:light\"],name:\"Passive Light Damage Reduction\",stat:L.lightMitigation,stackType:K.Passive,icons:()=>[M.BUFF_LIGHTDMGDOWN]},\"passive:5:dark\":{id:j[\"passive:5:dark\"],name:\"Passive Dark Damage Reduction\",stat:L.darkMitigation,stackType:K.Passive,icons:()=>[M.BUFF_DARKDMGDOWN]},\"passive:5:unknown\":{id:j[\"passive:5:unknown\"],name:\"Passive Elemental Damage Reduction (Unspecified Element)\",stat:L.mitigation,stackType:K.Passive,icons:()=>[M.BUFF_ELEMENTDMGDOWN]},\"passive:8\":{id:j[\"passive:8\"],name:\"Passive Damage Reduction\",stat:L.mitigation,stackType:K.Passive,icons:()=>[M.BUFF_DAMAGECUT]},\"passive:9\":{id:j[\"passive:9\"],name:\"Passive Gradual BB Gauge Fill\",stat:L.bbGauge,stackType:K.Passive,icons:()=>[M.BUFF_BBREC]},\"passive:10\":{id:j[\"passive:10\"],name:\"Passive HC Efficacy\",stat:L.hcEfficacy,stackType:K.Passive,icons:()=>[M.BUFF_HCREC]},\"passive:11:atk\":{id:j[\"passive:11:atk\"],name:\"Passive HP-Conditional Attack Boost\",stat:L.atk,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HPTHRESHATKDOWN:M.BUFF_HPTHRESHATKUP]},\"passive:11:def\":{id:j[\"passive:11:def\"],name:\"Passive HP-Conditional Defense Boost\",stat:L.def,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HPTHRESHDEFDOWN:M.BUFF_HPTHRESHDEFUP]},\"passive:11:rec\":{id:j[\"passive:11:rec\"],name:\"Passive HP-Conditional Recovery Boost\",stat:L.rec,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HPTHRESHRECDOWN:M.BUFF_HPTHRESHRECUP]},\"passive:11:crit\":{id:j[\"passive:11:crit\"],name:\"Passive HP-Conditional Critical Hit Rate Boost\",stat:L.crit,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HPTHRESHCRTRATEDOWN:M.BUFF_HPTHRESHCRTRATEUP]},\"passive:12:bc\":{id:j[\"passive:12:bc\"],name:\"Passive Battle Crystal Drop Rate Boost\",stat:L.bcDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_BCDOWN:M.BUFF_BCDROP]},\"passive:12:hc\":{id:j[\"passive:12:hc\"],name:\"Passive Heart Crystal Drop Rate Boost\",stat:L.hcDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HCDOWN:M.BUFF_HCDROP]},\"passive:12:item\":{id:j[\"passive:12:item\"],name:\"Passive Item Drop Rate Boost\",stat:L.itemDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_ITEMDOWN:M.BUFF_ITEMDROP]},\"passive:12:zel\":{id:j[\"passive:12:zel\"],name:\"Passive Zel Drop Rate Boost\",stat:L.zelDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_ZELDOWN:M.BUFF_ZELDROP]},\"passive:12:karma\":{id:j[\"passive:12:karma\"],name:\"Passive Karma Drop Rate Boost\",stat:L.karmaDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_KARMADOWN:M.BUFF_KARMADROP]},\"passive:13\":{id:j[\"passive:13\"],name:\"Passive BB Gauge Fill on Enemy Defeat\",stat:L.bbGauge,stackType:K.Passive,icons:()=>[M.BUFF_BBREC]},\"passive:14\":{id:j[\"passive:14\"],name:\"Passive Damage Reduction (Chance)\",stat:L.mitigation,stackType:K.Passive,icons:()=>[M.BUFF_DAMAGECUT]},\"passive:15\":{id:j[\"passive:15\"],name:\"Passive Heal on Enemy Defeat\",stat:L.hpRecovery,stackType:K.Passive,icons:()=>[M.BUFF_HPREC]},\"passive:16\":{id:j[\"passive:16\"],name:\"Passive Heal on Battle Win\",stat:L.hpRecovery,stackType:K.Passive,icons:()=>[M.BUFF_HPREC]},\"passive:17\":{id:j[\"passive:17\"],name:\"HP Absorption\",stat:L.hpRecovery,stackType:K.Passive,icons:()=>[M.BUFF_HPABS]},\"passive:19:bc\":{id:j[\"passive:19:bc\"],name:\"Passive Battle Crystal Drop Rate Boost\",stat:L.bcDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_BCDOWN:M.BUFF_BCDROP]},\"passive:19:hc\":{id:j[\"passive:19:hc\"],name:\"Passive Heart Crystal Drop Rate Boost\",stat:L.hcDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HCDOWN:M.BUFF_HCDROP]},\"passive:19:item\":{id:j[\"passive:19:item\"],name:\"Passive Item Drop Rate Boost\",stat:L.itemDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_ITEMDOWN:M.BUFF_ITEMDROP]},\"passive:19:zel\":{id:j[\"passive:19:zel\"],name:\"Passive Zel Drop Rate Boost\",stat:L.zelDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_ZELDOWN:M.BUFF_ZELDROP]},\"passive:19:karma\":{id:j[\"passive:19:karma\"],name:\"Passive Karma Drop Rate Boost\",stat:L.karmaDropRate,stackType:K.Passive,icons:e=>[e&&e.value&&e.value<0?M.BUFF_KARMADOWN:M.BUFF_KARMADROP]},\"passive:20:poison\":{id:j[\"passive:20:poison\"],name:\"Passive Poison Infliction\",stat:L.poisonInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDPOISON]},\"passive:20:weak\":{id:j[\"passive:20:weak\"],name:\"Passive Weak Infliction\",stat:L.weakInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDWEAK]},\"passive:20:sick\":{id:j[\"passive:20:sick\"],name:\"Passive Sick Infliction\",stat:L.sickInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDSICK]},\"passive:20:injury\":{id:j[\"passive:20:injury\"],name:\"Passive Injury Infliction\",stat:L.injuryInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDINJURY]},\"passive:20:curse\":{id:j[\"passive:20:curse\"],name:\"Passive Curse Infliction\",stat:L.curseInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDCURSE]},\"passive:20:paralysis\":{id:j[\"passive:20:paralysis\"],name:\"Passive Paralysis Infliction\",stat:L.poisonInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDPARA]},\"passive:20:atk down\":{id:j[\"passive:20:atk down\"],name:\"Passive Attack Reduction Infliction\",stat:L.atkDownInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDATKDOWN]},\"passive:20:def down\":{id:j[\"passive:20:def down\"],name:\"Passive Defense Reduction Infliction\",stat:L.defDownInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDDEFDOWN]},\"passive:20:rec down\":{id:j[\"passive:20:rec down\"],name:\"Passive Recovery Reduction Infliction\",stat:L.recDownInflict,stackType:K.Passive,icons:()=>[M.BUFF_ADDRECDOWN]},\"passive:20:unknown\":{id:j[\"passive:20:unknown\"],name:\"Passive Unknown Ailment Infliction\",stackType:K.Unknown,icons:()=>[M.BUFF_ADDAILMENT]},\"passive:21:atk\":{id:j[\"passive:21:atk\"],name:\"Attack Boost for X Turns\",stat:L.atk,stackType:K.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?M.BUFF_ATKDOWN:M.BUFF_ATKUP]},\"passive:21:def\":{id:j[\"passive:21:def\"],name:\"Defense Boost for X Turns\",stat:L.def,stackType:K.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?M.BUFF_DEFDOWN:M.BUFF_DEFUP]},\"passive:21:rec\":{id:j[\"passive:21:rec\"],name:\"Recovery Boost for X Turns\",stat:L.rec,stackType:K.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?M.BUFF_RECDOWN:M.BUFF_RECUP]},\"passive:21:crit\":{id:j[\"passive:21:crit\"],name:\"Critical Hit Rate Boost for X Turns\",stat:L.crit,stackType:K.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?M.BUFF_CRTRATEDOWN:M.BUFF_CRTRATEUP]},\"passive:23\":{id:j[\"passive:23\"],name:\"Passive BC Fill on Battle Win\",stat:L.bbGauge,stackType:K.Passive,icons:()=>[M.BUFF_BBREC]},\"passive:24\":{id:j[\"passive:24\"],name:\"Passive Heal when Attacked\",stat:L.hpRecovery,stackType:K.Passive,icons:()=>[M.BUFF_BEENATK_HPREC]},\"passive:25\":{id:j[\"passive:25\"],name:\"Passive BC Fill when Attacked\",stat:L.bbGauge,stackType:K.Passive,icons:()=>[M.BUFF_DAMAGEBB]},UNKNOWN_PROC_EFFECT_ID:{id:j.UNKNOWN_PROC_EFFECT_ID,name:\"Unknown Proc Effect\",stackType:K.Unknown,icons:()=>[M.UNKNOWN]},UNKNOWN_PROC_BUFF_PARAMS:{id:j.UNKNOWN_PROC_BUFF_PARAMS,name:\"Unknown Proc Buff Parameters\",stackType:K.Unknown,icons:()=>[M.UNKNOWN]},\"proc:1\":{id:j[\"proc:1\"],name:\"Regular Damage\",stackType:K.Attack,icons:e=>[e&&e.targetArea===f.Single?M.ATK_ST:M.ATK_AOE]},\"proc:2\":{id:j[\"proc:2\"],name:\"Burst Heal\",stat:L.hpRecovery,stackType:K.Burst,icons:()=>[M.BUFF_HPREC]},\"proc:3\":{id:j[\"proc:3\"],name:\"Active Gradual Heal\",stat:L.hpRecovery,stackType:K.Active,icons:()=>[M.BUFF_HPREC]},\"proc:4:flat\":{id:j[\"proc:4:flat\"],name:\"Burst BB Gauge Fill (Flat Amount)\",stat:L.bbGauge,stackType:K.Burst,icons:()=>[M.BUFF_BBREC]},\"proc:4:percent\":{id:j[\"proc:4:percent\"],name:\"Burst BB Gauge Fill (Percentage)\",stat:L.bbGauge,stackType:K.Burst,icons:()=>[M.BUFF_BBREC]}}),(()=>{const e=e=>a=>{let t=\"\",s=!1,i=\"UP\";a&&(a.value&&a.value<0&&(i=\"DOWN\"),a.conditions&&a.conditions.targetElements&&(t=a.conditions.targetElements[0],s=!0)),\"string\"!=typeof t&&(t=\"\");let n=`BUFF_${t.toUpperCase()}${e}${i}`;return t&&n in M||(n=`BUFF_${s?\"ELEMENT\":\"\"}${e}${i}`),[M[n]]};return{\"proc:5:atk\":{id:j[\"proc:5:atk\"],name:\"Active Regular/Elemental Attack Boost\",stat:L.atk,stackType:K.Active,icons:e(\"ATK\")},\"proc:5:def\":{id:j[\"proc:5:def\"],name:\"Active Regular/Elemental Defense Boost\",stat:L.def,stackType:K.Active,icons:e(\"DEF\")},\"proc:5:rec\":{id:j[\"proc:5:rec\"],name:\"Active Regular/Elemental Recovery Boost\",stat:L.rec,stackType:K.Active,icons:e(\"REC\")},\"proc:5:crit\":{id:j[\"proc:5:crit\"],name:\"Active Regular/Elemental Critical Hit Rate Boost\",stat:L.crit,stackType:K.Active,icons:e(\"CRTRATE\")}}})()),{\"proc:6:bc\":{id:j[\"proc:6:bc\"],name:\"Active Battle Crystal Drop Rate Boost\",stat:L.bcDropRate,stackType:K.Active,icons:e=>[e&&e.value&&e.value<0?M.BUFF_BCDOWN:M.BUFF_BCDROP]},\"proc:6:hc\":{id:j[\"proc:6:hc\"],name:\"Active Heart Crystal Drop Rate Boost\",stat:L.hcDropRate,stackType:K.Active,icons:e=>[e&&e.value&&e.value<0?M.BUFF_HCDOWN:M.BUFF_HCDROP]},\"proc:6:item\":{id:j[\"proc:6:item\"],name:\"Active Item Drop Rate Boost\",stat:L.itemDropRate,stackType:K.Active,icons:e=>[e&&e.value&&e.value<0?M.BUFF_ITEMDOWN:M.BUFF_ITEMDROP]},\"proc:7\":{id:j[\"proc:7\"],name:\"Guaranteed KO Resistance\",stat:L.koResistance,stackType:K.Singleton,icons:()=>[M.BUFF_KOBLK]},\"proc:8:flat\":{id:j[\"proc:8:flat\"],name:\"Max HP Boost (Flat Amount)\",stat:L.hp,stackType:K.Singleton,icons:()=>[M.BUFF_HPUP]},\"proc:8:percent\":{id:j[\"proc:8:percent\"],name:\"Max HP Boost (Percentage)\",stat:L.hp,stackType:K.Singleton,icons:()=>[M.BUFF_HPUP]}}),(()=>{const e=e=>a=>{let t=\"\",s=!1,i=\"DOWN\";a&&(a.value&&a.value>0&&(i=\"UP\"),a.conditions&&a.conditions.targetElements&&(t=a.conditions.targetElements[0],s=!0)),\"string\"!=typeof t&&(t=\"\");let n=`BUFF_${t.toUpperCase()}${e}${i}`;return t&&n in M||(n=`BUFF_${s?\"ELEMENT\":\"\"}${e}${i}`),[M[n]]};return{\"proc:9:atk\":{id:j[\"proc:9:atk\"],name:\"Active Regular/Elemental Attack Reduction\",stat:L.atk,stackType:K.Active,icons:e(\"ATK\")},\"proc:9:def\":{id:j[\"proc:9:def\"],name:\"Active Regular/Elemental Defense Reduction\",stat:L.def,stackType:K.Active,icons:e(\"DEF\")},\"proc:9:rec\":{id:j[\"proc:9:rec\"],name:\"Active Regular/Elemental Recovery Reduction\",stat:L.rec,stackType:K.Active,icons:e(\"REC\")},\"proc:9:unknown\":{id:j[\"proc:9:unknown\"],name:\"Active Regular/Elemental Unknown Stat Reduction\",stackType:K.Active,icons:()=>[M.UNKNOWN]}}})()),{\"proc:10:poison\":{id:j[\"proc:10:poison\"],name:\"Poison Cleanse\",stat:L.poisonResist,stackType:K.Burst,icons:()=>[M.BUFF_POISONBLK]},\"proc:10:weak\":{id:j[\"proc:10:weak\"],name:\"Weak Cleanse\",stat:L.weakResist,stackType:K.Burst,icons:()=>[M.BUFF_WEAKBLK]},\"proc:10:sick\":{id:j[\"proc:10:sick\"],name:\"Sick Cleanse\",stat:L.sickResist,stackType:K.Burst,icons:()=>[M.BUFF_SICKBLK]},\"proc:10:injury\":{id:j[\"proc:10:injury\"],name:\"Injury Cleanse\",stat:L.injuryResist,stackType:K.Burst,icons:()=>[M.BUFF_INJURYBLK]},\"proc:10:curse\":{id:j[\"proc:10:curse\"],name:\"Curse Cleanse\",stat:L.curseResist,stackType:K.Burst,icons:()=>[M.BUFF_CURSEBLK]},\"proc:10:paralysis\":{id:j[\"proc:10:paralysis\"],name:\"Paralysis Cleanse\",stat:L.poisonResist,stackType:K.Burst,icons:()=>[M.BUFF_PARALYSISBLK]},\"proc:10:atk down\":{id:j[\"proc:10:atk down\"],name:\"Attack Reduction Cleanse\",stat:L.atkDownResist,stackType:K.Burst,icons:()=>[M.BUFF_ATKDOWNBLK]},\"proc:10:def down\":{id:j[\"proc:10:def down\"],name:\"Defense Reduction Cleanse\",stat:L.defDownResist,stackType:K.Burst,icons:()=>[M.BUFF_DEFDOWNBLK]},\"proc:10:rec down\":{id:j[\"proc:10:rec down\"],name:\"Recovery Reduction Cleanse\",stat:L.recDownResist,stackType:K.Burst,icons:()=>[M.BUFF_RECDOWNBLK]},\"proc:10:unknown\":{id:j[\"proc:10:unknown\"],name:\"Unknown Ailment Cleanse\",stackType:K.Unknown,icons:()=>[M.BUFF_AILMENTBLK]},\"proc:11:poison\":{id:j[\"proc:11:poison\"],name:\"Poison Infliction\",stat:L.poisonInflict,stackType:K.Burst,icons:()=>[M.DEBUFF_POISON]},\"proc:11:weak\":{id:j[\"proc:11:weak\"],name:\"Weak Infliction\",stat:L.weakInflict,stackType:K.Burst,icons:()=>[M.DEBUFF_WEAK]},\"proc:11:sick\":{id:j[\"proc:11:sick\"],name:\"Sick Infliction\",stat:L.sickInflict,stackType:K.Burst,icons:()=>[M.DEBUFF_SICK]},\"proc:11:injury\":{id:j[\"proc:11:injury\"],name:\"Injury Infliction\",stat:L.injuryInflict,stackType:K.Burst,icons:()=>[M.DEBUFF_INJURY]},\"proc:11:curse\":{id:j[\"proc:11:curse\"],name:\"Curse Infliction\",stat:L.curseInflict,stackType:K.Burst,icons:()=>[M.DEBUFF_CURSE]},\"proc:11:paralysis\":{id:j[\"proc:11:paralysis\"],name:\"Paralysis Infliction\",stat:L.poisonInflict,stackType:K.Burst,icons:()=>[M.DEBUFF_PARALYSIS]},\"proc:11:atk down\":{id:j[\"proc:11:atk down\"],name:\"Attack Reduction Infliction\",stat:L.atkDownInflict,stackType:K.Burst,icons:()=>[M.BUFF_ATKDOWN]},\"proc:11:def down\":{id:j[\"proc:11:def down\"],name:\"Defense Reduction Infliction\",stat:L.defDownInflict,stackType:K.Burst,icons:()=>[M.BUFF_DEFDOWN]},\"proc:11:rec down\":{id:j[\"proc:11:rec down\"],name:\"Recovery Reduction Infliction\",stat:L.recDownInflict,stackType:K.Burst,icons:()=>[M.BUFF_RECDOWN]},\"proc:11:unknown\":{id:j[\"proc:11:unknown\"],name:\"Unknown Ailment Infliction\",stackType:K.Unknown,icons:()=>[M.DEBUFF_AILMENT]},\"proc:12\":{id:j[\"proc:12\"],name:\"Instant Revive (Guaranteed)\",stackType:K.Burst,icons:()=>[M.BUFF_KOBLK]},\"proc:13\":{id:j[\"proc:13\"],name:\"Random Target Damage\",stackType:K.Attack,icons:()=>[M.ATK_RT]},\"proc:14\":{id:j[\"proc:14\"],name:\"Lifesteal Damage\",stackType:K.Attack,icons:e=>[e&&e.targetArea===f.Single?M.ATK_ST_HPREC:M.ATK_AOE_HPREC]},\"proc:16:fire\":{id:j[\"proc:16:fire\"],name:\"Active Fire Damage Reduction\",stat:L.fireMitigation,stackType:K.Active,icons:()=>[M.BUFF_FIREDMGDOWN]},\"proc:16:water\":{id:j[\"proc:16:water\"],name:\"Active Water Damage Reduction\",stat:L.waterMitigation,stackType:K.Active,icons:()=>[M.BUFF_WATERDMGDOWN]},\"proc:16:earth\":{id:j[\"proc:16:earth\"],name:\"Active Earth Damage Reduction\",stat:L.earthMitigation,stackType:K.Active,icons:()=>[M.BUFF_EARTHDMGDOWN]},\"proc:16:thunder\":{id:j[\"proc:16:thunder\"],name:\"Active Thunder Damage Reduction\",stat:L.thunderMitigation,stackType:K.Active,icons:()=>[M.BUFF_THUNDERDMGDOWN]},\"proc:16:light\":{id:j[\"proc:16:light\"],name:\"Active Light Damage Reduction\",stat:L.lightMitigation,stackType:K.Active,icons:()=>[M.BUFF_LIGHTDMGDOWN]},\"proc:16:dark\":{id:j[\"proc:16:dark\"],name:\"Active Dark Damage Reduction\",stat:L.darkMitigation,stackType:K.Active,icons:()=>[M.BUFF_DARKDMGDOWN]},\"proc:16:all\":{id:j[\"proc:16:all\"],name:\"Active Elemental Damage Reduction (All Elements)\",stat:L.mitigation,stackType:K.Active,icons:()=>[M.BUFF_ELEMENTDMGDOWN]},\"proc:16:unknown\":{id:j[\"proc:16:unknown\"],name:\"Active Elemental Damage Reduction (Unspecified Element)\",stat:L.mitigation,stackType:K.Active,icons:()=>[M.BUFF_ELEMENTDMGDOWN]},\"proc:17:poison\":{id:j[\"proc:17:poison\"],name:\"Active Poison Resist\",stat:L.poisonResist,stackType:K.Active,icons:()=>[M.BUFF_POISONBLK]},\"proc:17:weak\":{id:j[\"proc:17:weak\"],name:\"Active Weak Resist\",stat:L.weakResist,stackType:K.Active,icons:()=>[M.BUFF_WEAKBLK]},\"proc:17:sick\":{id:j[\"proc:17:sick\"],name:\"Active Sick Resist\",stat:L.sickResist,stackType:K.Active,icons:()=>[M.BUFF_SICKBLK]},\"proc:17:injury\":{id:j[\"proc:17:injury\"],name:\"Active Injury Resist\",stat:L.injuryResist,stackType:K.Active,icons:()=>[M.BUFF_INJURYBLK]},\"proc:17:curse\":{id:j[\"proc:17:curse\"],name:\"Active Curse Resist\",stat:L.curseResist,stackType:K.Active,icons:()=>[M.BUFF_CURSEBLK]},\"proc:17:paralysis\":{id:j[\"proc:17:paralysis\"],name:\"Active Paralysis Resist\",stat:L.poisonResist,stackType:K.Active,icons:()=>[M.BUFF_PARALYSISBLK]},\"proc:18\":{id:j[\"proc:18\"],name:\"Active Damage Reduction\",stat:L.mitigation,stackType:K.Active,icons:()=>[M.BUFF_DAMAGECUT]},\"proc:19\":{id:j[\"proc:19\"],name:\"Active Gradual BB Gauge Fill\",stat:L.bbGauge,stackType:K.Active,icons:()=>[M.BUFF_BBREC]},\"proc:20\":{id:j[\"proc:20\"],name:\"Active BC Fill when attacked\",stat:L.bbGauge,stackType:K.Active,icons:()=>[M.BUFF_DAMAGEBB]},\"proc:22\":{id:j[\"proc:22\"],name:\"Active Defense Ignore\",stat:L.defenseIgnore,stackType:K.Active,icons:()=>[M.BUFF_IGNOREDEF]},\"proc:23\":{id:j[\"proc:23\"],name:\"Active Spark Damage Boost\",stat:L.sparkDamage,stackType:K.Active,icons:()=>[M.BUFF_SPARKUP]},\"proc:24:atk\":{id:j[\"proc:24:atk\"],name:\"Active Converted Attack Boost\",stat:L.atk,stackType:K.Active,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?M.BUFF_CONVERTATKDOWN:M.BUFF_CONVERTATKUP]},\"proc:24:def\":{id:j[\"proc:24:def\"],name:\"Active Converted Defense Boost\",stat:L.def,stackType:K.Active,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?M.BUFF_CONVERTDEFDOWN:M.BUFF_CONVERTDEFUP]},\"proc:24:rec\":{id:j[\"proc:24:rec\"],name:\"Active Converted Recovery Boost\",stat:L.rec,stackType:K.Active,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?M.BUFF_CONVERTRECDOWN:M.BUFF_CONVERTRECUP]},\"proc:26\":{id:j[\"proc:26\"],name:\"Active Hit Count Boost\",stat:L.hitCountModification,stackType:K.Active,icons:()=>[M.BUFF_HITUP]}}));var te=Object.freeze({__proto__:null,convertProcEffectToBuffs:function(e,a){if(!e||\"object\"!=typeof e)throw new TypeError(\"effect parameter should be an object\");if(!a||\"object\"!=typeof a)throw new TypeError(\"context parameter should be an object\");const i=b(e)&&t(e),n=i&&Q(a.reloadMapping).get(i);return\"function\"==typeof n?n(e,a):function(e,a){const i=b(e)&&t(e)||s.Unknown;return[{id:j.UNKNOWN_PROC_EFFECT_ID,originalId:i,effectDelay:e[\"effect delay time(ms)/frame\"],targetType:e[\"target type\"],targetArea:e[\"target area\"],sources:x(a)}]}(e,a)},convertPassiveEffectToBuffs:function(e,a){if(!e||\"object\"!=typeof e)throw new TypeError(\"effect parameter should be an object\");if(!a||\"object\"!=typeof a)throw new TypeError(\"context parameter should be an object\");const s=H(e)&&t(e),n=s&&ee(a.reloadMapping).get(s);return\"function\"==typeof n?n(e,a):function(e,a){const s=H(e)&&t(e)||i.Unknown;return[{id:j.UNKNOWN_PASSIVE_EFFECT_ID,originalId:s,sources:x(a)}]}(e,a)},get BuffSource(){return w},get BuffStackType(){return K},BUFF_METADATA:ae,getMetadataForBuff:function(e,a=ae){return a&&\"object\"==typeof a&&Object.hasOwnProperty.call(a,e)?a[e]:void 0}}),se=Object.freeze({__proto__:null,constants:o,parsers:te,getMetadataForProc:p,getMetadataForPassive:h,isAttackingProcId:F,getNameForProc:O,getNameForPassive:C,isProcEffect:b,isPassiveEffect:H,combineEffectsAndDamageFrames:function(e,a){let t=[];return Array.isArray(e)&&e.length>0&&Array.isArray(a)&&e.length===a.length&&(t=e.map((e,t)=>{const s=a[t];return{delay:e[\"effect delay time(ms)/frame\"],effect:e,frames:s,id:\"\"+(e[\"proc id\"]||e[\"unknown proc id\"]),targetArea:e[\"random attack\"]?f.Random:e[\"target area\"],targetType:e[\"target type\"]}})),t},getEffectId:t,getEffectName:function(e,a={}){let s=\"\";const i=t(e);return H(e)?s=C(i,a&&a.passive):b(e)&&(s=O(i,a&&a.proc)),s},get ProcBuffType(){return n},PASSIVE_METADATA:r,PROC_METADATA:c});var ie=Object.freeze({__proto__:null,getEffectsForExtraSkill:function(e){return e&&Array.isArray(e.effects)?e.effects:[]}});var ne=Object.freeze({__proto__:null,getEffectsForItem:function(e){let a=[];if(e&&e.effect)if(Array.isArray(e.effect))a=e.effect;else if(Array.isArray(e.effect.effect)){const{effect:t,target_area:s,target_type:i}=e.effect;a=t.map(e=>{const a=Object.assign({},e);return a[\"target area\"]=s,a[\"target type\"]=i,a})}return a},getItemImageUrl:function(e,a){return`${e||\"\"}/item/${a||\"\"}`}});var oe=Object.freeze({__proto__:null,getEffectsForLeaderSkill:function(e){return e&&Array.isArray(e.effects)?e.effects:[]}});var re=Object.freeze({__proto__:null,getUnitImageFileNames:function(e,a=\"\"){const t=`${e||\"\"}${a||\"\"}.png`;return{spritesheet:\"unit_anime_\"+t,battleAvatar:\"unit_ills_battle_\"+t,guideAvatar:\"unit_ills_thum_\"+t,fullIllustration:\"unit_ills_full_\"+t}},getUnitImageUrl:function(e,a){return`${e||\"\"}/unit/img/${a||\"\"}`}});const ce=\"A\".charCodeAt(0),pe=\"a\".charCodeAt(0),Fe=\"0\".charCodeAt(0);function le(e){return\"string\"==typeof e&&e.split(\"@\")[1]||e}var ue=Object.freeze({__proto__:null,getEffectsForSpEnhancement:function(e){const a=[];if(e&&e.skill&&Array.isArray(e.skill.effects)){e.skill.effects.forEach(e=>{Object.keys(e).forEach(t=>{const s=e[t],i=Object.assign(Object.assign({},s),{sp_type:t});a.push(i)})})}return a},getSpCategoryName:function(e){let a;switch(+e){case 1:a=E[\"Parameter Boost\"];break;case 2:a=E.Spark;break;case 3:a=E[\"Critical Hits\"];break;case 4:a=E[\"Attack Boost\"];break;case 5:a=E[\"BB Gauge\"];break;case 6:a=E[\"HP Recovery\"];break;case 7:a=E.Drops;break;case 8:a=E[\"Ailment Resistance\"];break;case 9:a=E[\"Ailment Infliction\"];break;case 10:a=E[\"Damage Reduction\"];break;case 11:a=E.Special;break;default:a=E.Unknown}return a},spIndexToCode:function(e){let a=\"\",t=-1;return Number.isInteger(e)&&(e>=0&&e<=25?t=e+ce:e>=26&&e<=51?t=e-26+pe:e>=52&&e<=61&&(t=e-52+Fe)),-1!==t&&(a=String.fromCharCode(t)),a},spCodeToIndex:function(e){let a=-1,t=-1;return e&&\"string\"==typeof e&&1===e.length&&(e>=\"A\"&&e<=\"Z\"?t=ce:e>=\"a\"&&e<=\"z\"?t=pe-26:e>=\"0\"&&e<=\"9\"&&(t=Fe-52)),-1!==t&&(a=e.charCodeAt(0)-t),a},getSpEntryId:le,getSpEntryWithId:function(e,a){const t=le(e);return e&&Array.isArray(a)&&a.find(e=>le(e&&e.id)===t)||void 0},getAllDependenciesForSpEntry:function e(a,t,s=new Set){let i=[];if(a&&a.dependency&&Array.isArray(t)&&t.length>0){const n=le(a.dependency),o=t.find(e=>le(e&&e.id)===n);if(o&&!s.has(o)){s.add(o);const a=e(o,t,s);i=[o].concat(a)}}return i},getAllEntriesThatDependOnSpEntry:function e(a,t,s=new Set){let i=[];if(a&&a.id&&Array.isArray(t)&&t.length>0){const n=a.id;i=t.filter(e=>e.dependency&&e.dependency.includes(n)&&!s.has(e)),i.forEach(a=>{s.add(a);const n=e(a,t,s);i=i.concat(n)})}return i}});return e.buffs=se,e.bursts=k,e.datamineTypes=G,e.extraSkills=ie,e.items=ne,e.leaderSkills=oe,e.spEnhancements=ue,e.units=re,e.version=\"0.7.0\",e}({});\n//# sourceMappingURL=index.browser.min.js.map\n","var bfmtUtilities = (function (exports) {\n    'use strict';\n\n    /**\n     * @description Get the level entry of a burst at a given level (or the last level if no level is given).\n     * @param burst Burst to get level entry from.\n     * @param level Optional 1-indexed level to get; if not specified, the last level of the burst is used.\n     * @returns Level entry of a burst at a given level (or last level if no level is given) if it exists, undefined otherwise.\n     */\n    function getLevelEntryForBurst(burst, level) {\n        const burstEffectsByLevel = (burst && Array.isArray(burst.levels)) ? burst.levels : [];\n        let levelIndex;\n        if (level !== null && !isNaN(level)) {\n            // 1-indexed\n            levelIndex = (+level - 1);\n        }\n        else {\n            // default to last entry in burst\n            levelIndex = burstEffectsByLevel.length - 1;\n        }\n        return burstEffectsByLevel[levelIndex];\n    }\n\n    /**\n     * @description Get the effects at the level entry of a burst at a given level (or the last level if no level is given).\n     * @param burst Burst to get effects from.\n     * @param level Optional 1-indexed level to get entries from; if not specified, the last level of the burst is used.\n     * @returns Effects at the level entry of a burst at a given level (or last level if no level is given) if it exists, an empty array otherwise.\n     */\n    function getEffectsForBurst(burst, level) {\n        const levelEntry = getLevelEntryForBurst(burst, level);\n        return (levelEntry && Array.isArray(levelEntry.effects)) ? levelEntry.effects : [];\n    }\n\n    /**\n     * @description Get the proc/passive ID of a given object.\n     * @param effect Object to get the effect ID from.\n     * @returns Proc/passive ID of the input effect if it exists; empty string otherwise.\n     */\n    function getEffectId(effect) {\n        let resultId = '';\n        if (effect) {\n            resultId = effect['proc id'] || effect['unknown proc id'] ||\n                effect['passive id'] || effect['unknown passive id'] || '';\n        }\n        return resultId;\n    }\n\n    var KNOWN_PROC_ID;\n    (function (KNOWN_PROC_ID) {\n        KNOWN_PROC_ID[\"BurstHeal\"] = \"2\";\n        KNOWN_PROC_ID[\"Unknown\"] = \"UNKNOWN_PROC_EFFECT_ID\";\n    })(KNOWN_PROC_ID || (KNOWN_PROC_ID = {}));\n    var KNOWN_PASSIVE_ID;\n    (function (KNOWN_PASSIVE_ID) {\n        KNOWN_PASSIVE_ID[\"TriggeredEffect\"] = \"66\";\n        KNOWN_PASSIVE_ID[\"Unknown\"] = \"UNKNOWN_PASSIVE_EFFECT_ID\";\n    })(KNOWN_PASSIVE_ID || (KNOWN_PASSIVE_ID = {}));\n\n    var constants = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get KNOWN_PROC_ID () { return KNOWN_PROC_ID; },\n        get KNOWN_PASSIVE_ID () { return KNOWN_PASSIVE_ID; }\n    });\n\n    var ProcBuffType;\n    (function (ProcBuffType) {\n        ProcBuffType[\"Attack\"] = \"Attack\";\n    })(ProcBuffType || (ProcBuffType = {}));\n    /* eslint-disable */\n    /**\n     * @ignore\n     */\n    const PASSIVE_METADATA = Object.freeze({\n        \"1\": {\n            \"ID\": \"1\",\n            \"Name\": \"Parameter Boost\"\n        },\n        \"2\": {\n            \"ID\": \"2\",\n            \"Name\": \"Elemental Parameter Boost\"\n        },\n        \"3\": {\n            \"ID\": \"3\",\n            \"Name\": \"Type-Based Parameter Boost\"\n        },\n        \"4\": {\n            \"ID\": \"4\",\n            \"Name\": \"Status Negation\"\n        },\n        \"5\": {\n            \"ID\": \"5\",\n            \"Name\": \"Elemental Damage Reduction\"\n        },\n        \"6\": {\n            \"ID\": \"6\",\n            \"Name\": \"\"\n        },\n        \"8\": {\n            \"ID\": \"8\",\n            \"Name\": \"Damage Reduction\"\n        },\n        \"9\": {\n            \"ID\": \"9\",\n            \"Name\": \"Gradual BB Gauge Boost\"\n        },\n        \"10\": {\n            \"ID\": \"10\",\n            \"Name\": \"HC Efficacy\"\n        },\n        \"11\": {\n            \"ID\": \"11\",\n            \"Name\": \"HP-Conditional Parameter Boost\"\n        },\n        \"12\": {\n            \"ID\": \"12\",\n            \"Name\": \"HP-Conditional Drop Rate Boost\"\n        },\n        \"13\": {\n            \"ID\": \"13\",\n            \"Name\": \"BC Fill on Enemy Defeat\"\n        },\n        \"14\": {\n            \"ID\": \"14\",\n            \"Name\": \"Damage Reduction (Chance)\"\n        },\n        \"15\": {\n            \"ID\": \"15\",\n            \"Name\": \"Heal on Enemy Defeat\"\n        },\n        \"16\": {\n            \"ID\": \"16\",\n            \"Name\": \"Heal on Battle Victory\"\n        },\n        \"17\": {\n            \"ID\": \"17\",\n            \"Name\": \"HP Absorption\"\n        },\n        \"19\": {\n            \"ID\": \"19\",\n            \"Name\": \"Drop Rate Boost\"\n        },\n        \"20\": {\n            \"ID\": \"20\",\n            \"Name\": \"Status Infliction\"\n        },\n        \"21\": {\n            \"ID\": \"21\",\n            \"Name\": \"Parameter Boost for First X Turns\"\n        },\n        \"23\": {\n            \"ID\": \"23\",\n            \"Name\": \"BC Fill on Battle Victory\"\n        },\n        \"24\": {\n            \"ID\": \"24\",\n            \"Name\": \"Heal when Attacked (Chance)\"\n        },\n        \"25\": {\n            \"ID\": \"25\",\n            \"Name\": \"BC Fill when Hit (Chance)\"\n        },\n        \"26\": {\n            \"ID\": \"26\",\n            \"Name\": \"Damage Counter (Chance)\"\n        },\n        \"27\": {\n            \"ID\": \"27\",\n            \"Name\": \"Increased Target Chance\"\n        },\n        \"28\": {\n            \"ID\": \"28\",\n            \"Name\": \"Decreased Target Chance\"\n        },\n        \"29\": {\n            \"ID\": \"29\",\n            \"Name\": \"Defense Ignore (Chance)\"\n        },\n        \"30\": {\n            \"ID\": \"30\",\n            \"Name\": \"BB Conditional Parameter Boost\"\n        },\n        \"31\": {\n            \"ID\": \"31\",\n            \"Name\": \"Spark Damage Boost, Boost Drop Rate on Spark\"\n        },\n        \"32\": {\n            \"ID\": \"32\",\n            \"Name\": \"BC Efficacy\"\n        },\n        \"33\": {\n            \"ID\": \"33\",\n            \"Name\": \"Heal over Time\"\n        },\n        \"34\": {\n            \"ID\": \"34\",\n            \"Name\": \"Critical Damage Boost\"\n        },\n        \"35\": {\n            \"ID\": \"35\",\n            \"Name\": \"BC Fill when Normal Attacking\"\n        },\n        \"36\": {\n            \"ID\": \"36\",\n            \"Name\": \"Extra Action\"\n        },\n        \"37\": {\n            \"ID\": \"37\",\n            \"Name\": \"Hit Count Boost\"\n        },\n        \"38\": {\n            \"ID\": \"38\",\n            \"Name\": \"\"\n        },\n        \"39\": {\n            \"ID\": \"39\",\n            \"Name\": \"\"\n        },\n        \"40\": {\n            \"ID\": \"40\",\n            \"Name\": \"Parameter Conversion\"\n        },\n        \"41\": {\n            \"ID\": \"41\",\n            \"Name\": \"Unique Element Count Conditional Parameter Boost\"\n        },\n        \"42\": {\n            \"ID\": \"42\",\n            \"Name\": \"Gender Parameter Boost\"\n        },\n        \"43\": {\n            \"ID\": \"43\",\n            \"Name\": \"Damage Reduction to 1\"\n        },\n        \"44\": {\n            \"ID\": \"44\",\n            \"Name\": \"Flat Parameter Boost\"\n        },\n        \"45\": {\n            \"ID\": \"45\",\n            \"Name\": \"Critical Damage Negation\"\n        },\n        \"46\": {\n            \"ID\": \"46\",\n            \"Name\": \"Parameter Boost Relative to HP Remainaing\"\n        },\n        \"47\": {\n            \"ID\": \"47\",\n            \"Name\": \"BC Fill on Spark\"\n        },\n        \"48\": {\n            \"ID\": \"48\",\n            \"Name\": \"BC Cost Reduction\"\n        },\n        \"49\": {\n            \"ID\": \"49\",\n            \"Name\": \"BB Gauge Consumption Reduction\"\n        },\n        \"50\": {\n            \"ID\": \"50\",\n            \"Name\": \"Elemental Damage Boost\"\n        },\n        \"52\": {\n            \"ID\": \"52\",\n            \"Name\": \"\"\n        },\n        \"53\": {\n            \"ID\": \"53\",\n            \"Name\": \"Critical/Elemental Weakness Damage Negation\"\n        },\n        \"55\": {\n            \"ID\": \"55\",\n            \"Name\": \"Conditional Effect based on HP Threshold\"\n        },\n        \"58\": {\n            \"ID\": \"58\",\n            \"Name\": \"Damage Reduction when Guarding\"\n        },\n        \"59\": {\n            \"ID\": \"59\",\n            \"Name\": \"BC Fill when Attacked when Guarding\"\n        },\n        \"61\": {\n            \"ID\": \"61\",\n            \"Name\": \"BC Fill on Guard\"\n        },\n        \"62\": {\n            \"ID\": \"62\",\n            \"Name\": \"Elemental Damage Reduction\"\n        },\n        \"63\": {\n            \"ID\": \"63\",\n            \"Name\": \"Elemental Damage Reduction for first X Turns\"\n        },\n        \"64\": {\n            \"ID\": \"64\",\n            \"Name\": \"BB Atk Boost\"\n        },\n        \"65\": {\n            \"ID\": \"65\",\n            \"Name\": \"BC Fill on Critical\"\n        },\n        \"66\": {\n            \"ID\": \"66\",\n            \"Name\": \"Add buff to Brave Burst\"\n        },\n        \"69\": {\n            \"ID\": \"69\",\n            \"Name\": \"Chance KO Resistance (Angel Idol)\"\n        },\n        \"70\": {\n            \"ID\": \"70\",\n            \"Name\": \"OD Gauge Fill Rate Boost\"\n        },\n        \"71\": {\n            \"ID\": \"71\",\n            \"Name\": \"Status Counter\"\n        },\n        \"72\": {\n            \"ID\": \"72\",\n            \"Name\": \"Turn End Effects Activate at Turn Start\"\n        },\n        \"73\": {\n            \"ID\": \"73\",\n            \"Name\": \"Parameter Reduction Negation\"\n        },\n        \"74\": {\n            \"ID\": \"74\",\n            \"Name\": \"Attack Boost on Status Afflicted Foes\"\n        },\n        \"75\": {\n            \"ID\": \"75\",\n            \"Name\": \"Spark Vulnerability\"\n        },\n        \"77\": {\n            \"ID\": \"77\",\n            \"Name\": \"Spark Damage Reduction\"\n        },\n        \"78\": {\n            \"ID\": \"78\",\n            \"Name\": \"Conditional Effect after Damage Received Threshold\"\n        },\n        \"79\": {\n            \"ID\": \"79\",\n            \"Name\": \"BC Fill after Damage Received Threshold\"\n        },\n        \"80\": {\n            \"ID\": \"80\",\n            \"Name\": \"Conditional Effect after Damage Dealt Threshold\"\n        },\n        \"81\": {\n            \"ID\": \"81\",\n            \"Name\": \"BC Fill after Damage Dealt Threshold\"\n        },\n        \"82\": {\n            \"ID\": \"82\",\n            \"Name\": \"Conditional Effect after BC Received Threshold\"\n        },\n        \"84\": {\n            \"ID\": \"84\",\n            \"Name\": \"Conditional Effect after HC Received Threshold\"\n        },\n        \"85\": {\n            \"ID\": \"85\",\n            \"Name\": \"BC Fill after HC Received Threshold\"\n        },\n        \"86\": {\n            \"ID\": \"86\",\n            \"Name\": \"Conditional Effect after Spark Threshold\"\n        },\n        \"88\": {\n            \"ID\": \"88\",\n            \"Name\": \"Conditional Effect on Guard\"\n        },\n        \"89\": {\n            \"ID\": \"89\",\n            \"Name\": \"Conditional Effect on Critical\"\n        },\n        \"90\": {\n            \"ID\": \"90\",\n            \"Name\": \"Status Infliction on Critical\"\n        },\n        \"91\": {\n            \"ID\": \"91\",\n            \"Name\": \"\"\n        },\n        \"92\": {\n            \"ID\": \"92\",\n            \"Name\": \"Negate Defense Ignore\"\n        },\n        \"93\": {\n            \"ID\": \"93\",\n            \"Name\": \"Added Elements\"\n        },\n        \"96\": {\n            \"ID\": \"96\",\n            \"Name\": \"Normal Attacks Hit All Foes\"\n        },\n        \"97\": {\n            \"ID\": \"97\",\n            \"Name\": \"Player EXP Boost\"\n        },\n        \"99\": {\n            \"ID\": \"99\",\n            \"Name\": \"\"\n        },\n        \"100\": {\n            \"ID\": \"100\",\n            \"Name\": \"Spark Critical\"\n        },\n        \"101\": {\n            \"ID\": \"101\",\n            \"Name\": \"Heal on Spark\"\n        },\n        \"102\": {\n            \"ID\": \"102\",\n            \"Name\": \"Added Elements\"\n        },\n        \"103\": {\n            \"ID\": \"103\",\n            \"Name\": \"BB Atk Boost when HP Passes Threshold\"\n        },\n        \"104\": {\n            \"ID\": \"104\",\n            \"Name\": \"Spark Boost when HP Passes Threshold\"\n        },\n        \"105\": {\n            \"ID\": \"105\",\n            \"Name\": \"Turn-Based Parameter Boost\"\n        },\n        \"106\": {\n            \"ID\": \"106\",\n            \"Name\": \"Conditional Effect after Activating Overdrive\"\n        },\n        \"107\": {\n            \"ID\": \"107\",\n            \"Name\": \"Add Effect to Leader Skill\"\n        },\n        \"109\": {\n            \"ID\": \"109\",\n            \"Name\": \"BB Gauge Reduction (Chance)\"\n        },\n        \"110\": {\n            \"ID\": \"110\",\n            \"Name\": \"BC Efficacy Reduction (Chance)\"\n        },\n        \"111\": {\n            \"ID\": \"111\",\n            \"Name\": \"Increase Brave Burst Activation Rate\"\n        },\n        \"112\": {\n            \"ID\": \"112\",\n            \"Name\": \"ABP/CBP Boost\"\n        },\n        \"113\": {\n            \"ID\": \"113\",\n            \"Name\": \"Conditional Effect after HP Threshold\"\n        },\n        \"114\": {\n            \"ID\": \"114\",\n            \"Name\": \"Inflict Buff when Attacked\"\n        },\n        \"127\": {\n            \"ID\": \"127\",\n            \"Name\": \"Additional Damage (Damage over Time) Reduction\"\n        },\n        \"128\": {\n            \"ID\": \"128\",\n            \"Name\": \"Damage Reduction from Normal Attacks\"\n        },\n        \"143\": {\n            \"ID\": \"143\",\n            \"Name\": \"Break Atk Parameter Limit\"\n        },\n        \"10008\": {\n            \"ID\": \"10008\",\n            \"Name\": \"Damage Reduction from Specific Sources\"\n        },\n        \"11004\": {\n            \"ID\": \"11004\",\n            \"Name\": \"Elemental Spark Damage Boost\"\n        },\n        \"11005\": {\n            \"ID\": \"11005\",\n            \"Name\": \"Elemental Critical Damage Boost\"\n        },\n        \"11006\": {\n            \"ID\": \"11006\",\n            \"Name\": \"Summoner EXP Boost\"\n        },\n        \"11009\": {\n            \"ID\": \"11009\",\n            \"Name\": \"Effect Duration Boost\"\n        },\n        \"66,1\": {\n            \"ID\": \"66,1\",\n            \"Name\": \"\"\n        }\n    });\n    /**\n     * @ignore\n     */\n    const PROC_METADATA = Object.freeze({\n        \"0\": {\n            \"ID\": \"0\",\n            \"Name\": \"\",\n            \"Type\": \"\"\n        },\n        \"1\": {\n            \"ID\": \"1\",\n            \"Name\": \"Regular Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"2\": {\n            \"ID\": \"2\",\n            \"Name\": \"Burst Heal\",\n            \"Type\": \"\"\n        },\n        \"3\": {\n            \"ID\": \"3\",\n            \"Name\": \"Heal over Time\",\n            \"Type\": \"\"\n        },\n        \"4\": {\n            \"ID\": \"4\",\n            \"Name\": \"BB Gauge Refill\",\n            \"Type\": \"\"\n        },\n        \"5\": {\n            \"ID\": \"5\",\n            \"Name\": \"Parameter Boost\",\n            \"Type\": \"\"\n        },\n        \"6\": {\n            \"ID\": \"6\",\n            \"Name\": \"Drop Rate\",\n            \"Type\": \"\"\n        },\n        \"7\": {\n            \"ID\": \"7\",\n            \"Name\": \"Guaranteed KO Resistance (Angel Idol)\",\n            \"Type\": \"\"\n        },\n        \"8\": {\n            \"ID\": \"8\",\n            \"Name\": \"Max HP Boost\",\n            \"Type\": \"\"\n        },\n        \"9\": {\n            \"ID\": \"9\",\n            \"Name\": \"Parameter Reduction\",\n            \"Type\": \"\"\n        },\n        \"10\": {\n            \"ID\": \"10\",\n            \"Name\": \"Status Cleanse\",\n            \"Type\": \"\"\n        },\n        \"11\": {\n            \"ID\": \"11\",\n            \"Name\": \"Status Infliction\",\n            \"Type\": \"\"\n        },\n        \"12\": {\n            \"ID\": \"12\",\n            \"Name\": \"Revive (Guaranteed)\",\n            \"Type\": \"\"\n        },\n        \"13\": {\n            \"ID\": \"13\",\n            \"Name\": \"Random Target Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"14\": {\n            \"ID\": \"14\",\n            \"Name\": \"Lifesteal Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"16\": {\n            \"ID\": \"16\",\n            \"Name\": \"Elemental Damage Reduction\",\n            \"Type\": \"\"\n        },\n        \"17\": {\n            \"ID\": \"17\",\n            \"Name\": \"Status Negation\",\n            \"Type\": \"\"\n        },\n        \"18\": {\n            \"ID\": \"18\",\n            \"Name\": \"Damage Reduction\",\n            \"Type\": \"\"\n        },\n        \"19\": {\n            \"ID\": \"19\",\n            \"Name\": \"Gradual BB Gauge Boost\",\n            \"Type\": \"\"\n        },\n        \"20\": {\n            \"ID\": \"20\",\n            \"Name\": \"BC Fill on Hit\",\n            \"Type\": \"\"\n        },\n        \"22\": {\n            \"ID\": \"22\",\n            \"Name\": \"Defense Ignore\",\n            \"Type\": \"\"\n        },\n        \"23\": {\n            \"ID\": \"23\",\n            \"Name\": \"Spark Boost\",\n            \"Type\": \"\"\n        },\n        \"24\": {\n            \"ID\": \"24\",\n            \"Name\": \"Parameter Conversion\",\n            \"Type\": \"\"\n        },\n        \"26\": {\n            \"ID\": \"26\",\n            \"Name\": \"Hit Count Boost\",\n            \"Type\": \"\"\n        },\n        \"27\": {\n            \"ID\": \"27\",\n            \"Name\": \"Proportional Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"28\": {\n            \"ID\": \"28\",\n            \"Name\": \"Fixed Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"29\": {\n            \"ID\": \"29\",\n            \"Name\": \"Multi-Element Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"30\": {\n            \"ID\": \"30\",\n            \"Name\": \"Add Elements\",\n            \"Type\": \"\"\n        },\n        \"31\": {\n            \"ID\": \"31\",\n            \"Name\": \"Instant BB Gauge Fill\",\n            \"Type\": \"\"\n        },\n        \"32\": {\n            \"ID\": \"32\",\n            \"Name\": \"Element Shift\",\n            \"Type\": \"\"\n        },\n        \"33\": {\n            \"ID\": \"33\",\n            \"Name\": \"Buff Removal (Chance)\",\n            \"Type\": \"\"\n        },\n        \"34\": {\n            \"ID\": \"34\",\n            \"Name\": \"BB Gauge Reduction (Chance)\",\n            \"Type\": \"\"\n        },\n        \"36\": {\n            \"ID\": \"36\",\n            \"Name\": \"Leader Skill Lock (Chance)\",\n            \"Type\": \"\"\n        },\n        \"37\": {\n            \"ID\": \"37\",\n            \"Name\": \"Summon Unit\",\n            \"Type\": \"\"\n        },\n        \"38\": {\n            \"ID\": \"38\",\n            \"Name\": \"Status Cure\",\n            \"Type\": \"\"\n        },\n        \"39\": {\n            \"ID\": \"39\",\n            \"Name\": \"Elemental Damage Reduction\",\n            \"Type\": \"\"\n        },\n        \"40\": {\n            \"ID\": \"40\",\n            \"Name\": \"Status Infliction Added to Attack\",\n            \"Type\": \"\"\n        },\n        \"42\": {\n            \"ID\": \"42\",\n            \"Name\": \"\",\n            \"Type\": \"\"\n        },\n        \"43\": {\n            \"ID\": \"43\",\n            \"Name\": \"Instant OD Fill\",\n            \"Type\": \"\"\n        },\n        \"44\": {\n            \"ID\": \"44\",\n            \"Name\": \"Damage over Time (Additional Damage)\",\n            \"Type\": \"\"\n        },\n        \"45\": {\n            \"ID\": \"45\",\n            \"Name\": \"BB Atk Boost\",\n            \"Type\": \"\"\n        },\n        \"46\": {\n            \"ID\": \"46\",\n            \"Name\": \"Non-Lethal Proportional Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"47\": {\n            \"ID\": \"47\",\n            \"Name\": \"HP Scaled Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"48\": {\n            \"ID\": \"48\",\n            \"Name\": \"Piercing Proportional Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"49\": {\n            \"ID\": \"49\",\n            \"Name\": \"Retire\",\n            \"Type\": \"\"\n        },\n        \"50\": {\n            \"ID\": \"50\",\n            \"Name\": \"Damage Counter\",\n            \"Type\": \"\"\n        },\n        \"51\": {\n            \"ID\": \"51\",\n            \"Name\": \"Parameter Reduction Added to Attack\",\n            \"Type\": \"\"\n        },\n        \"52\": {\n            \"ID\": \"52\",\n            \"Name\": \"BC Efficacy\",\n            \"Type\": \"\"\n        },\n        \"53\": {\n            \"ID\": \"53\",\n            \"Name\": \"Status Counter\",\n            \"Type\": \"\"\n        },\n        \"54\": {\n            \"ID\": \"54\",\n            \"Name\": \"Critical Damage Boost\",\n            \"Type\": \"\"\n        },\n        \"55\": {\n            \"ID\": \"55\",\n            \"Name\": \"Elemental Damage Boost\",\n            \"Type\": \"\"\n        },\n        \"56\": {\n            \"ID\": \"56\",\n            \"Name\": \"Chance KO Resistance (Angel Idol)\",\n            \"Type\": \"\"\n        },\n        \"57\": {\n            \"ID\": \"57\",\n            \"Name\": \"BC Efficacy Reduction\",\n            \"Type\": \"\"\n        },\n        \"58\": {\n            \"ID\": \"58\",\n            \"Name\": \"Spark Vulnerability\",\n            \"Type\": \"\"\n        },\n        \"59\": {\n            \"ID\": \"59\",\n            \"Name\": \"BB Atk Reduction\",\n            \"Type\": \"\"\n        },\n        \"60\": {\n            \"ID\": \"60\",\n            \"Name\": \"\",\n            \"Type\": \"\"\n        },\n        \"61\": {\n            \"ID\": \"61\",\n            \"Name\": \"BB-Scaled Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"62\": {\n            \"ID\": \"62\",\n            \"Name\": \"Barrier\",\n            \"Type\": \"\"\n        },\n        \"63\": {\n            \"ID\": \"63\",\n            \"Name\": \"Selective Buff Wipe\",\n            \"Type\": \"\"\n        },\n        \"64\": {\n            \"ID\": \"64\",\n            \"Name\": \"Consecutive Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"65\": {\n            \"ID\": \"65\",\n            \"Name\": \"Attack Boost on Status Afflicted Foes\",\n            \"Type\": \"\"\n        },\n        \"66\": {\n            \"ID\": \"66\",\n            \"Name\": \"Revive (Chance)\",\n            \"Type\": \"\"\n        },\n        \"67\": {\n            \"ID\": \"67\",\n            \"Name\": \"BC Fill on Spark\",\n            \"Type\": \"\"\n        },\n        \"68\": {\n            \"ID\": \"68\",\n            \"Name\": \"Damage Reduction when Guarding\",\n            \"Type\": \"\"\n        },\n        \"69\": {\n            \"ID\": \"69\",\n            \"Name\": \"BC Fill on Guard\",\n            \"Type\": \"\"\n        },\n        \"70\": {\n            \"ID\": \"70\",\n            \"Name\": \"\",\n            \"Type\": \"\"\n        },\n        \"71\": {\n            \"ID\": \"71\",\n            \"Name\": \"BB Gauge Fill Rate Debuff\",\n            \"Type\": \"\"\n        },\n        \"73\": {\n            \"ID\": \"73\",\n            \"Name\": \"Parameter Reduction Negation\",\n            \"Type\": \"\"\n        },\n        \"75\": {\n            \"ID\": \"75\",\n            \"Name\": \"Element Squad-Scaled Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"76\": {\n            \"ID\": \"76\",\n            \"Name\": \"Extra Action\",\n            \"Type\": \"\"\n        },\n        \"78\": {\n            \"ID\": \"78\",\n            \"Name\": \"Self Parameter Boost\",\n            \"Type\": \"\"\n        },\n        \"79\": {\n            \"ID\": \"79\",\n            \"Name\": \"Player EXP Boost\",\n            \"Type\": \"\"\n        },\n        \"82\": {\n            \"ID\": \"82\",\n            \"Name\": \"\",\n            \"Type\": \"\"\n        },\n        \"83\": {\n            \"ID\": \"83\",\n            \"Name\": \"Spark Critical\",\n            \"Type\": \"\"\n        },\n        \"84\": {\n            \"ID\": \"84\",\n            \"Name\": \"OD Gauge Fill Rate\",\n            \"Type\": \"\"\n        },\n        \"85\": {\n            \"ID\": \"85\",\n            \"Name\": \"Heal when Attacked\",\n            \"Type\": \"\"\n        },\n        \"86\": {\n            \"ID\": \"86\",\n            \"Name\": \"HP Absorption\",\n            \"Type\": \"\"\n        },\n        \"87\": {\n            \"ID\": \"87\",\n            \"Name\": \"Heal on Spark\",\n            \"Type\": \"\"\n        },\n        \"88\": {\n            \"ID\": \"88\",\n            \"Name\": \"Self Spark Boost\",\n            \"Type\": \"\"\n        },\n        \"89\": {\n            \"ID\": \"89\",\n            \"Name\": \"Self Parameter Conversion\",\n            \"Type\": \"\"\n        },\n        \"92\": {\n            \"ID\": \"92\",\n            \"Name\": \"Self Max HP Boost\",\n            \"Type\": \"\"\n        },\n        \"93\": {\n            \"ID\": \"93\",\n            \"Name\": \"Spark/Critical/Elemental Weakness Damage Reduction\",\n            \"Type\": \"\"\n        },\n        \"94\": {\n            \"ID\": \"94\",\n            \"Name\": \"Normal Attacks Hit All Foes\",\n            \"Type\": \"\"\n        },\n        \"95\": {\n            \"ID\": \"95\",\n            \"Name\": \"Nullify Sphere Effects (Sphere Lock)\",\n            \"Type\": \"\"\n        },\n        \"96\": {\n            \"ID\": \"96\",\n            \"Name\": \"Nullify Extra Skill Effects (ES Lock)\",\n            \"Type\": \"\"\n        },\n        \"97\": {\n            \"ID\": \"97\",\n            \"Name\": \"Element Target Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"113\": {\n            \"ID\": \"113\",\n            \"Name\": \"Gradual OD Fill\",\n            \"Type\": \"\"\n        },\n        \"119\": {\n            \"ID\": \"119\",\n            \"Name\": \"Gradual BC Drain\",\n            \"Type\": \"\"\n        },\n        \"123\": {\n            \"ID\": \"123\",\n            \"Name\": \"OD Gauge Reduction\",\n            \"Type\": \"\"\n        },\n        \"126\": {\n            \"ID\": \"126\",\n            \"Name\": \"Damage over Time (Additional Damage) Mitigation\",\n            \"Type\": \"\"\n        },\n        \"127\": {\n            \"ID\": \"127\",\n            \"Name\": \"Lock On\",\n            \"Type\": \"\"\n        },\n        \"130\": {\n            \"ID\": \"130\",\n            \"Name\": \"Parameter Reduction Counter\",\n            \"Type\": \"\"\n        },\n        \"131\": {\n            \"ID\": \"131\",\n            \"Name\": \"\",\n            \"Type\": \"\"\n        },\n        \"132\": {\n            \"ID\": \"132\",\n            \"Name\": \"Critical/Elemental Weakness Vulnerability\",\n            \"Type\": \"\"\n        },\n        \"901\": {\n            \"ID\": \"901\",\n            \"Name\": \"Raid Heal (on Map)\",\n            \"Type\": \"\"\n        },\n        \"902\": {\n            \"ID\": \"902\",\n            \"Name\": \"Raid Parameter Boost\",\n            \"Type\": \"\"\n        },\n        \"903\": {\n            \"ID\": \"903\",\n            \"Name\": \"Raid Boss Reveal\",\n            \"Type\": \"\"\n        },\n        \"905\": {\n            \"ID\": \"905\",\n            \"Name\": \"Raid Teleport\",\n            \"Type\": \"\"\n        },\n        \"906\": {\n            \"ID\": \"906\",\n            \"Name\": \"Raid Flee\",\n            \"Type\": \"\"\n        },\n        \"907\": {\n            \"ID\": \"907\",\n            \"Name\": \"Raid Damage Reduction\",\n            \"Type\": \"\"\n        },\n        \"908\": {\n            \"ID\": \"908\",\n            \"Name\": \"Raid Item Drop Rate Boost\",\n            \"Type\": \"\"\n        },\n        \"10000\": {\n            \"ID\": \"10000\",\n            \"Name\": \"Taunt\",\n            \"Type\": \"\"\n        },\n        \"10001\": {\n            \"ID\": \"10001\",\n            \"Name\": \"Stealth\",\n            \"Type\": \"\"\n        },\n        \"10002\": {\n            \"ID\": \"10002\",\n            \"Name\": \"Shield (old)\",\n            \"Type\": \"\"\n        },\n        \"10003\": {\n            \"ID\": \"10003\",\n            \"Name\": \"Nullify Sphere Effects (Sphere Lock)\",\n            \"Type\": \"\"\n        },\n        \"10004\": {\n            \"ID\": \"10004\",\n            \"Name\": \"Damage Immunity\",\n            \"Type\": \"\"\n        },\n        \"10005\": {\n            \"ID\": \"10005\",\n            \"Name\": \"Turn Skip (short duration)\",\n            \"Type\": \"\"\n        },\n        \"10006\": {\n            \"ID\": \"10006\",\n            \"Name\": \"Turn Skip (long duration)\",\n            \"Type\": \"\"\n        },\n        \"10007\": {\n            \"ID\": \"10007\",\n            \"Name\": \"Evasion\",\n            \"Type\": \"\"\n        },\n        \"10009\": {\n            \"ID\": \"10009\",\n            \"Name\": \"\",\n            \"Type\": \"\"\n        },\n        \"10012\": {\n            \"ID\": \"10012\",\n            \"Name\": \"OD Drain\",\n            \"Type\": \"\"\n        },\n        \"10015\": {\n            \"ID\": \"10015\",\n            \"Name\": \"Elemental Spark Boost\",\n            \"Type\": \"\"\n        },\n        \"10016\": {\n            \"ID\": \"10016\",\n            \"Name\": \"Element Critical Damage Boost\",\n            \"Type\": \"\"\n        },\n        \"10017\": {\n            \"ID\": \"10017\",\n            \"Name\": \"Elemental Shield\",\n            \"Type\": \"\"\n        },\n        \"10018\": {\n            \"ID\": \"10018\",\n            \"Name\": \"Max HP Reduction\",\n            \"Type\": \"\"\n        },\n        \"10019\": {\n            \"ID\": \"10019\",\n            \"Name\": \"Effect Purge\",\n            \"Type\": \"\"\n        },\n        \"10020\": {\n            \"ID\": \"10020\",\n            \"Name\": \"Piercing Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"10021\": {\n            \"ID\": \"10021\",\n            \"Name\": \"Active Healing Reduction\",\n            \"Type\": \"\"\n        },\n        \"10022\": {\n            \"ID\": \"10022\",\n            \"Name\": \"Passive Healing Reduction\",\n            \"Type\": \"\"\n        },\n        \"10023\": {\n            \"ID\": \"10023\",\n            \"Name\": \"HC Efficacy Reduction\",\n            \"Type\": \"\"\n        },\n        \"10025\": {\n            \"ID\": \"10025\",\n            \"Name\": \"KO Resistance Negation\",\n            \"Type\": \"\"\n        },\n        \"10026\": {\n            \"ID\": \"10026\",\n            \"Name\": \"Doom\",\n            \"Type\": \"\"\n        },\n        \"11000\": {\n            \"ID\": \"11000\",\n            \"Name\": \"Negative HP-Scaled Damage\",\n            \"Type\": \"Attack\"\n        },\n        \"11001\": {\n            \"ID\": \"11001\",\n            \"Name\": \"Max HP% DoT of Weaker Element Enemies\",\n            \"Type\": \"\"\n        },\n        \"11002\": {\n            \"ID\": \"11002\",\n            \"Name\": \"HP Limit Break, Convert to HP\",\n            \"Type\": \"\"\n        },\n        \"11003\": {\n            \"ID\": \"11003\",\n            \"Name\": \"Effect Negation\",\n            \"Type\": \"\"\n        },\n        \"70001\": {\n            \"ID\": \"70001\",\n            \"Name\": \"Mana Bubble Shield\",\n            \"Type\": \"\"\n        },\n        \"70002\": {\n            \"ID\": \"70002\",\n            \"Name\": \"Recast\",\n            \"Type\": \"\"\n        },\n        \"2-5\": {\n            \"ID\": \"2-5\",\n            \"Name\": \"Burst Heal and DEF/REC Boost\",\n            \"Type\": \"\"\n        }\n    });\n\n    /**\n     * @description Get the associated metadata entry for a given proc ID.\n     * @param id Proc ID to get metadata for.\n     * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n     * @returns Corresponding proc metadata entry if it exists, undefined otherwise.\n     */\n    function getMetadataForProc(id, metadata = PROC_METADATA) {\n        return (!!metadata && typeof metadata === 'object') && Object.hasOwnProperty.call(metadata, id)\n            ? metadata[id]\n            : (void 0);\n    }\n\n    /**\n     * @description Determine if a given proc ID's type is an attack.\n     * @param id Proc ID to check.\n     * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n     * @returns Whether the given ID corresponds to a proc ID whose type is attack.\n     */\n    function isAttackingProcId(id, metadata) {\n        const metadataEntry = getMetadataForProc(id, metadata);\n        return !!metadataEntry && metadataEntry.Type === ProcBuffType.Attack;\n    }\n\n    /**\n     * @description Get the extra attack damage frames entry based on the damage frames of a burst. Also apply the given effect delay to the resulting damage frames entry.\n     * @param damageFrames Damage frames that each have their own proc ID.\n     * @param effectDelay Optional effect delay to apply to the resulting damage frames entry.\n     * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n     * @returns Damage frames entry whose frames are based on the input damage frames.\n     */\n    function getExtraAttackDamageFramesEntry(damageFrames, effectDelay = '0.0/0', metadata) {\n        // relevant frames are all effects for healing or attacking\n        const inputFrames = Array.isArray(damageFrames) ? damageFrames : [];\n        const relevantFrames = inputFrames.filter(frame => {\n            const procId = getEffectId(frame);\n            return procId === KNOWN_PROC_ID.BurstHeal || isAttackingProcId(procId, metadata);\n        });\n        const unifiedFrames = relevantFrames.reduce((acc, frameEntry, index) => {\n            const keepFirstFrame = index === 0;\n            const numFrames = frameEntry['frame times'].length;\n            const damageDistribution = frameEntry['hit dmg% distribution'];\n            const frameTimes = frameEntry['frame times'];\n            for (let frameIndex = keepFirstFrame ? 0 : 1; frameIndex < numFrames; ++frameIndex) {\n                acc.push({\n                    damage: damageDistribution[frameIndex],\n                    time: frameTimes[frameIndex],\n                });\n            }\n            return acc;\n        }, []);\n        const resultDamageFramesEntry = {\n            'effect delay time(ms)/frame': effectDelay,\n            'frame times': [],\n            'hit dmg% distribution': [],\n            'hit dmg% distribution (total)': 0,\n            hits: 0,\n        };\n        unifiedFrames.sort((a, b) => a.time - b.time)\n            .forEach(({ time, damage }) => {\n            resultDamageFramesEntry['frame times'].push(time);\n            resultDamageFramesEntry['hit dmg% distribution'].push(damage);\n            resultDamageFramesEntry['hit dmg% distribution (total)'] += damage;\n        });\n        resultDamageFramesEntry.hits = resultDamageFramesEntry['frame times'].length;\n        return resultDamageFramesEntry;\n    }\n\n    var index = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getLevelEntryForBurst: getLevelEntryForBurst,\n        getEffectsForBurst: getEffectsForBurst,\n        getExtraAttackDamageFramesEntry: getExtraAttackDamageFramesEntry\n    });\n\n    /**\n     * @description Get the associated metadata entry for a given passive ID.\n     * @param id Passive ID to get metadata for.\n     * @param metadata Optional source to use as metadata; defaults to internal passive metadata.\n     * @returns Corresponding passive metadata entry if it exists, undefined otherwise.\n     */\n    function getMetadataForPassive(id, metadata = PASSIVE_METADATA) {\n        return (!!metadata && typeof metadata === 'object') && Object.hasOwnProperty.call(metadata, id)\n            ? metadata[id]\n            : (void 0);\n    }\n\n    /**\n     * @description Get the associated name for a given proc ID.\n     * @param id Proc ID to get the name of.\n     * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n     * @returns Name of the proc ID if it exists, empty string otherwise.\n     */\n    function getNameForProc(id, metadata) {\n        const metadataEntry = getMetadataForProc(id, metadata);\n        return (!!metadataEntry && metadataEntry.Name) || '';\n    }\n\n    /**\n     * @description Get the associated name for a given passive ID.\n     * @param id Passive ID to get the name of.\n     * @param metadata Optional source to use as metadata; defaults to internal passive metadata.\n     * @returns Name of the passive ID if it exists, empty string otherwise.\n     */\n    function getNameForPassive(id, metadata) {\n        const metadataEntry = getMetadataForPassive(id, metadata);\n        return (!!metadataEntry && metadataEntry.Name) || '';\n    }\n\n    /**\n     * @description Determine if a given effect object is a proc effect based on existing properties.\n     * Do note that it does not check the validity of each property, only the existence.\n     * @param effect Object to check.\n     * @returns Whether the given effect object is considered a proc effect based on its properties.\n     */\n    function isProcEffect(effect) {\n        return !!effect &&\n            typeof effect === 'object' &&\n            (Object.hasOwnProperty.call(effect, 'proc id') || Object.hasOwnProperty.call(effect, 'unknown proc id'));\n    }\n\n    /**\n     * @description Determine if a given effect object is a passive effect based on existing properties.\n     * Do note that it does not check the validity of each property, only the existence.\n     * @param effect Object to check.\n     * @returns Whether the given effect object is considered a passive effect based on its properties.\n     */\n    function isPassiveEffect(effect) {\n        return !!effect &&\n            typeof effect === 'object' &&\n            (Object.hasOwnProperty.call(effect, 'passive id') || Object.hasOwnProperty.call(effect, 'unknown passive id'));\n    }\n\n    var Ailment;\n    (function (Ailment) {\n        Ailment[\"Poison\"] = \"poison\";\n        Ailment[\"Weak\"] = \"weak\";\n        Ailment[\"Sick\"] = \"sick\";\n        Ailment[\"Injury\"] = \"injury\";\n        Ailment[\"Curse\"] = \"curse\";\n        Ailment[\"Paralysis\"] = \"paralysis\";\n        Ailment[\"AttackReduction\"] = \"atk down\";\n        Ailment[\"DefenseReduction\"] = \"def down\";\n        Ailment[\"RecoveryReduction\"] = \"rec down\";\n        Ailment[\"Unknown\"] = \"unknown\";\n    })(Ailment || (Ailment = {}));\n    var ArenaCondition;\n    (function (ArenaCondition) {\n        ArenaCondition[\"hp_50pr_under\"] = \"hp_50pr_under\";\n        ArenaCondition[\"hp_50pr_over\"] = \"hp_50pr_over\";\n        ArenaCondition[\"hp_75pr_under\"] = \"hp_75pr_under\";\n        ArenaCondition[\"hp_25pr_under\"] = \"hp_25pr_under\";\n        ArenaCondition[\"hp_min\"] = \"hp_min\";\n        ArenaCondition[\"hp_max\"] = \"hp_max\";\n        ArenaCondition[\"atk_max\"] = \"atk_max\";\n        ArenaCondition[\"random\"] = \"random\";\n    })(ArenaCondition || (ArenaCondition = {}));\n    var MoveType;\n    (function (MoveType) {\n        MoveType[\"Moving\"] = \"1\";\n        MoveType[\"Teleporting\"] = \"2\";\n        MoveType[\"NonMoving\"] = \"3\";\n    })(MoveType || (MoveType = {}));\n    var TargetArea;\n    (function (TargetArea) {\n        TargetArea[\"Aoe\"] = \"aoe\";\n        TargetArea[\"Single\"] = \"single\";\n        TargetArea[\"Random\"] = \"random\";\n    })(TargetArea || (TargetArea = {}));\n    var TargetAreaShorthand;\n    (function (TargetAreaShorthand) {\n        TargetAreaShorthand[\"Aoe\"] = \"AOE\";\n        TargetAreaShorthand[\"Single\"] = \"ST\";\n        TargetAreaShorthand[\"Random\"] = \"RT\";\n    })(TargetAreaShorthand || (TargetAreaShorthand = {}));\n    var TargetType;\n    (function (TargetType) {\n        TargetType[\"Self\"] = \"self\";\n        TargetType[\"Party\"] = \"party\";\n        TargetType[\"Enemy\"] = \"enemy\";\n    })(TargetType || (TargetType = {}));\n    var SpPassiveType;\n    (function (SpPassiveType) {\n        SpPassiveType[\"AddPassive\"] = \"passive\";\n        SpPassiveType[\"EnhanceBb\"] = \"add to bb\";\n        SpPassiveType[\"EnhanceSbb\"] = \"add to sbb\";\n        SpPassiveType[\"EnhanceUbb\"] = \"add to ubb\";\n        SpPassiveType[\"EnhancePassive\"] = \"add to passive\";\n    })(SpPassiveType || (SpPassiveType = {}));\n    var SphereTypeName;\n    (function (SphereTypeName) {\n        SphereTypeName[\"None\"] = \"None\";\n        SphereTypeName[\"Status Enhancing\"] = \"Status Enhancing\";\n        SphereTypeName[\"Critical\"] = \"Critical\";\n        SphereTypeName[\"Drop\"] = \"Drop\";\n        SphereTypeName[\"Ailment Inducing\"] = \"Ailment Inducing\";\n        SphereTypeName[\"Element Fusion\"] = \"Element Fusion\";\n        SphereTypeName[\"BB Gauge\"] = \"BB Gauge\";\n        SphereTypeName[\"HP Recovery\"] = \"HP Recovery\";\n        SphereTypeName[\"Target Setting\"] = \"Target Setting\";\n        SphereTypeName[\"Damage Deflecting\"] = \"Damage Deflecting\";\n        SphereTypeName[\"Damage Reducing\"] = \"Damage Reducing\";\n        SphereTypeName[\"Spark\"] = \"Spark\";\n        SphereTypeName[\"Defense Piercing\"] = \"Defense Piercing\";\n        SphereTypeName[\"Attack Boosting\"] = \"Attack Boosting\";\n        SphereTypeName[\"Special\"] = \"Special\";\n    })(SphereTypeName || (SphereTypeName = {}));\n    var SphereTypeId;\n    (function (SphereTypeId) {\n        SphereTypeId[SphereTypeId[\"None\"] = 0] = \"None\";\n        SphereTypeId[SphereTypeId[\"Status Enhancing\"] = 1] = \"Status Enhancing\";\n        SphereTypeId[SphereTypeId[\"Critical\"] = 2] = \"Critical\";\n        SphereTypeId[SphereTypeId[\"Drop\"] = 3] = \"Drop\";\n        SphereTypeId[SphereTypeId[\"Ailment Inducing\"] = 4] = \"Ailment Inducing\";\n        SphereTypeId[SphereTypeId[\"Element Fusion\"] = 5] = \"Element Fusion\";\n        SphereTypeId[SphereTypeId[\"BB Gauge\"] = 6] = \"BB Gauge\";\n        SphereTypeId[SphereTypeId[\"HP Recovery\"] = 7] = \"HP Recovery\";\n        SphereTypeId[SphereTypeId[\"Target Setting\"] = 8] = \"Target Setting\";\n        SphereTypeId[SphereTypeId[\"Damage Deflecting\"] = 9] = \"Damage Deflecting\";\n        SphereTypeId[SphereTypeId[\"Damage Reducing\"] = 10] = \"Damage Reducing\";\n        SphereTypeId[SphereTypeId[\"Spark\"] = 11] = \"Spark\";\n        SphereTypeId[SphereTypeId[\"Defense Piercing\"] = 12] = \"Defense Piercing\";\n        SphereTypeId[SphereTypeId[\"Attack Boosting\"] = 13] = \"Attack Boosting\";\n        SphereTypeId[SphereTypeId[\"Special\"] = 14] = \"Special\";\n    })(SphereTypeId || (SphereTypeId = {}));\n    var SpCategoryName;\n    (function (SpCategoryName) {\n        SpCategoryName[\"Parameter Boost\"] = \"Parameter Boost\";\n        SpCategoryName[\"Spark\"] = \"Spark\";\n        SpCategoryName[\"Critical Hits\"] = \"Critical Hits\";\n        SpCategoryName[\"Attack Boost\"] = \"Attack Boost\";\n        SpCategoryName[\"BB Gauge\"] = \"BB Gauge\";\n        SpCategoryName[\"HP Recovery\"] = \"HP Recovery\";\n        SpCategoryName[\"Drops\"] = \"Drops\";\n        SpCategoryName[\"Ailment Resistance\"] = \"Ailment Resistance\";\n        SpCategoryName[\"Ailment Infliction\"] = \"Ailment Infliction\";\n        SpCategoryName[\"Damage Reduction\"] = \"Damage Reduction\";\n        SpCategoryName[\"Special\"] = \"Special\";\n        SpCategoryName[\"Unknown\"] = \"Unknown\";\n    })(SpCategoryName || (SpCategoryName = {}));\n    var SpCategoryId;\n    (function (SpCategoryId) {\n        SpCategoryId[\"Parameter Boost\"] = \"1\";\n        SpCategoryId[\"Spark\"] = \"2\";\n        SpCategoryId[\"Critical Hits\"] = \"3\";\n        SpCategoryId[\"Attack Boost\"] = \"4\";\n        SpCategoryId[\"BB Gauge\"] = \"5\";\n        SpCategoryId[\"HP Recovery\"] = \"6\";\n        SpCategoryId[\"Drops\"] = \"7\";\n        SpCategoryId[\"Ailment Resistance\"] = \"8\";\n        SpCategoryId[\"Ailment Infliction\"] = \"9\";\n        SpCategoryId[\"Damage Reduction\"] = \"10\";\n        SpCategoryId[\"Special\"] = \"11\";\n    })(SpCategoryId || (SpCategoryId = {}));\n    var UnitAnimationKey;\n    (function (UnitAnimationKey) {\n        UnitAnimationKey[\"Attack\"] = \"attack\";\n        UnitAnimationKey[\"Idle\"] = \"idle\";\n        UnitAnimationKey[\"Move\"] = \"move\";\n    })(UnitAnimationKey || (UnitAnimationKey = {}));\n    var UnitElement;\n    (function (UnitElement) {\n        UnitElement[\"Fire\"] = \"fire\";\n        UnitElement[\"Water\"] = \"water\";\n        UnitElement[\"Earth\"] = \"earth\";\n        UnitElement[\"Thunder\"] = \"thunder\";\n        UnitElement[\"Light\"] = \"light\";\n        UnitElement[\"Dark\"] = \"dark\";\n    })(UnitElement || (UnitElement = {}));\n    var UnitGender;\n    (function (UnitGender) {\n        UnitGender[\"Male\"] = \"male\";\n        UnitGender[\"Female\"] = \"female\";\n        UnitGender[\"Other\"] = \"other\";\n    })(UnitGender || (UnitGender = {}));\n    var UnitGettingType;\n    (function (UnitGettingType) {\n        UnitGettingType[\"Ineligible\"] = \"not eligible for achievement\";\n        UnitGettingType[\"Farmable\"] = \"farmable\";\n        UnitGettingType[\"RareSummon\"] = \"rare summon\";\n        UnitGettingType[\"ExtraSkillElgif\"] = \"extra skill elgif\";\n    })(UnitGettingType || (UnitGettingType = {}));\n    var UnitKind;\n    (function (UnitKind) {\n        UnitKind[\"Normal\"] = \"normal\";\n        UnitKind[\"Evolution\"] = \"evo\";\n        UnitKind[\"Enhancing\"] = \"enhancing\";\n        UnitKind[\"Sale\"] = \"sale\";\n    })(UnitKind || (UnitKind = {}));\n    var UnitType;\n    (function (UnitType) {\n        UnitType[\"Lord\"] = \"lord\";\n        UnitType[\"Anima\"] = \"anima\";\n        UnitType[\"Breaker\"] = \"breaker\";\n        UnitType[\"Guardian\"] = \"guardian\";\n        UnitType[\"Oracle\"] = \"oracle\";\n        UnitType[\"Rex\"] = \"rex\";\n    })(UnitType || (UnitType = {}));\n    var ItemType;\n    (function (ItemType) {\n        ItemType[\"Consumable\"] = \"consumable\";\n        ItemType[\"Material\"] = \"material\";\n        ItemType[\"Sphere\"] = \"sphere\";\n        ItemType[\"EvolutionMaterial\"] = \"evomat\";\n        ItemType[\"SummonerConsumable\"] = \"summoner_consumable\";\n        ItemType[\"LeaderSkillSphere\"] = \"ls_sphere\";\n    })(ItemType || (ItemType = {}));\n    var MimicUnitIds;\n    (function (MimicUnitIds) {\n        MimicUnitIds[\"Mimic\"] = \"60142\";\n        MimicUnitIds[\"BatMimic\"] = \"60143\";\n        MimicUnitIds[\"DragonMimic\"] = \"60144\";\n        MimicUnitIds[\"MetalMimic\"] = \"60224\";\n    })(MimicUnitIds || (MimicUnitIds = {}));\n    /**\n     * @description Known values for the monster groups used in {@link IMimicInfo}.\n     */\n    const MimicMonsterGroupMapping = {\n        '1000': MimicUnitIds.Mimic,\n        '1100': MimicUnitIds.BatMimic,\n        '1101': MimicUnitIds.BatMimic,\n        '1200': MimicUnitIds.DragonMimic,\n        '1300': MimicUnitIds.MetalMimic,\n    };\n\n    var datamineTypes = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get Ailment () { return Ailment; },\n        get ArenaCondition () { return ArenaCondition; },\n        get MoveType () { return MoveType; },\n        get TargetArea () { return TargetArea; },\n        get TargetAreaShorthand () { return TargetAreaShorthand; },\n        get TargetType () { return TargetType; },\n        get SpPassiveType () { return SpPassiveType; },\n        get SphereTypeName () { return SphereTypeName; },\n        get SphereTypeId () { return SphereTypeId; },\n        get SpCategoryName () { return SpCategoryName; },\n        get SpCategoryId () { return SpCategoryId; },\n        get UnitAnimationKey () { return UnitAnimationKey; },\n        get UnitElement () { return UnitElement; },\n        get UnitGender () { return UnitGender; },\n        get UnitGettingType () { return UnitGettingType; },\n        get UnitKind () { return UnitKind; },\n        get UnitType () { return UnitType; },\n        get ItemType () { return ItemType; },\n        get MimicUnitIds () { return MimicUnitIds; },\n        MimicMonsterGroupMapping: MimicMonsterGroupMapping\n    });\n\n    /**\n     * @description Create a list of objects that contain both the effect data and its corresponding damage frame.\n     * @param effects List of proc effects to combine; must be the same length as the `damageFrames`.\n     * @param damageFrames List of damage frames whose index corresponds with the effect in the `effects` list.\n     * @returns Collection of composite objects that contain the proc effect and the corresponding frames entry.\n     */\n    function combineEffectsAndDamageFrames(effects, damageFrames) {\n        let combinedEntries = [];\n        if (Array.isArray(effects) && effects.length > 0 && Array.isArray(damageFrames) && effects.length === damageFrames.length) {\n            combinedEntries = effects.map((effect, i) => {\n                const correspondingFrameEntry = damageFrames[i];\n                return {\n                    delay: effect['effect delay time(ms)/frame'],\n                    effect,\n                    frames: correspondingFrameEntry,\n                    id: `${effect['proc id'] || effect['unknown proc id']}`,\n                    targetArea: effect['random attack'] ? TargetArea.Random : effect['target area'],\n                    targetType: effect['target type'],\n                };\n            });\n        }\n        return combinedEntries;\n    }\n\n    /**\n     * @description Get the name of a given object.\n     * @param effect Object to get the name from.\n     * @param metadata Optional sources of metadata for procs and passives; defaults to internal metadata for respective types.\n     * @returns Name of the input effect if it exists; empty string otherwise.\n     */\n    function getEffectName(effect, metadata = {}) {\n        let resultName = '';\n        const effectId = getEffectId(effect);\n        if (isPassiveEffect(effect)) {\n            resultName = getNameForPassive(effectId, metadata && metadata.passive);\n        }\n        else if (isProcEffect(effect)) {\n            resultName = getNameForProc(effectId, metadata && metadata.proc);\n        }\n        return resultName;\n    }\n\n    /**\n     * @description Provides info at a glance regarding a buff's source and how it stacks.\n     */\n    var BuffStackType;\n    (function (BuffStackType) {\n        /**\n         * @description The buff is activated via some skill and lasts for a number of turns.\n         * Sometimes referred to as procs. Buffs of the same type do not stack unless if they're\n         * from different levels. Two possible levels of sources are:\n         * 1. Brave Burst or Super Brave Burst (also includes enemy skills)\n         * 2. Ultimate Brave Burst or Dual Brave Burst\n         */\n        BuffStackType[\"Active\"] = \"active\";\n        /**\n         * @description The buff is always active provided that the source is not nullified.\n         * Most passive buffs can stack with themselves.\n         */\n        BuffStackType[\"Passive\"] = \"passive\";\n        /**\n         * @description The buff is applied for a number of turns once a certain condition is met.\n         * Buffs of the same type are not able to stack.\n         */\n        BuffStackType[\"ConditionalTimed\"] = \"conditionalTimed\";\n        /**\n         * @description Only one instance of the buff can be active at a time and can last indefinitely.\n         * A couple examples of this are Barrier and Max HP Boost.\n         */\n        BuffStackType[\"Singleton\"] = \"singleton\";\n        /**\n         * @description The buff's effects immediately apply to the target(s). This differs from singleton\n         * in that these values aren't permanent and some effects can \"stack\" (e.g. using two burst heals results\n         * in the HP bar filling by the sum of those burst heals).\n         */\n        BuffStackType[\"Burst\"] = \"burst\";\n        /**\n         * @description A specific subset of `Burst` type buffs that deal damage to the target.\n         */\n        BuffStackType[\"Attack\"] = \"attack\";\n        /**\n         * @description Only for buffs that cannot be processed by the library yet.\n         */\n        BuffStackType[\"Unknown\"] = \"unknown\";\n    })(BuffStackType || (BuffStackType = {}));\n    var BuffSource;\n    (function (BuffSource) {\n        BuffSource[\"BraveBurst\"] = \"bb\";\n        BuffSource[\"SuperBraveBurst\"] = \"sbb\";\n        BuffSource[\"UltimateBraveBurst\"] = \"ubb\";\n        BuffSource[\"DualBraveBurst\"] = \"dbb\";\n        BuffSource[\"BondedBraveBurst\"] = \"bbb\";\n        BuffSource[\"BondedSuperBraveBurst\"] = \"dsbb\";\n        BuffSource[\"SpEnhancement\"] = \"sp\";\n        BuffSource[\"Item\"] = \"item\";\n        BuffSource[\"LeaderSkill\"] = \"ls\";\n        BuffSource[\"ExtraSkill\"] = \"es\";\n        /**\n         * @description Buffs that result of having a number of OE+ units in the squad.\n         */\n        BuffSource[\"OmniParadigm\"] = \"omniParadigm\";\n        /**\n         * @description Buffs based on a units type. See {@link UnitType}.\n         */\n        BuffSource[\"UnitTypeBonus\"] = \"unitTypeBonus\";\n        /**\n         * @description Examples include the passive bonuses available in Frontier Gates and Frontier Rifts\n         * as well as ambient turn reductions present in some late-game quests.\n         */\n        BuffSource[\"Quest\"] = \"quest\";\n    })(BuffSource || (BuffSource = {}));\n    /**\n     * @description Extra element values that can be used in addition to {@link UnitElement}.\n     */\n    var BuffConditionElement;\n    (function (BuffConditionElement) {\n        BuffConditionElement[\"Unknown\"] = \"unknown\";\n        BuffConditionElement[\"OmniParadigm\"] = \"omniParadigm\";\n        BuffConditionElement[\"All\"] = \"all\";\n    })(BuffConditionElement || (BuffConditionElement = {}));\n    /**\n     * @description Stats on a unit that a buff can affect.\n     */\n    var UnitStat;\n    (function (UnitStat) {\n        UnitStat[\"hp\"] = \"hp\";\n        UnitStat[\"atk\"] = \"atk\";\n        UnitStat[\"def\"] = \"def\";\n        UnitStat[\"rec\"] = \"rec\";\n        UnitStat[\"crit\"] = \"crit\";\n        UnitStat[\"hpRecovery\"] = \"hpRecovery\";\n        UnitStat[\"bbGauge\"] = \"bbGauge\";\n        UnitStat[\"bcDropRate\"] = \"bcDropRate\";\n        UnitStat[\"hcDropRate\"] = \"hcDropRate\";\n        UnitStat[\"itemDropRate\"] = \"itemDropRate\";\n        UnitStat[\"zelDropRate\"] = \"zelDropRate\";\n        UnitStat[\"karmaDropRate\"] = \"karmaDropRate\";\n        UnitStat[\"hcEfficacy\"] = \"hcEfficacy\";\n        UnitStat[\"poisonResist\"] = \"poisonResist\";\n        UnitStat[\"weakResist\"] = \"weakResist\";\n        UnitStat[\"sickResist\"] = \"sickResist\";\n        UnitStat[\"injuryResist\"] = \"injuryResist\";\n        UnitStat[\"curseResist\"] = \"curseResist\";\n        UnitStat[\"paralysisResist\"] = \"paralysisResist\";\n        UnitStat[\"poisonInflict\"] = \"poisonInflict\";\n        UnitStat[\"weakInflict\"] = \"weakInflict\";\n        UnitStat[\"sickInflict\"] = \"sickInflict\";\n        UnitStat[\"injuryInflict\"] = \"injuryInflict\";\n        UnitStat[\"curseInflict\"] = \"curseInflict\";\n        UnitStat[\"paralysisInflict\"] = \"paralysisInflict\";\n        UnitStat[\"atkDownResist\"] = \"atkDownResist\";\n        UnitStat[\"defDownResist\"] = \"defDownResist\";\n        UnitStat[\"recDownResist\"] = \"recDownResist\";\n        UnitStat[\"atkDownInflict\"] = \"atkDownInflict\";\n        UnitStat[\"defDownInflict\"] = \"defDownInflict\";\n        UnitStat[\"recDownInflict\"] = \"recDownInflict\";\n        UnitStat[\"mitigation\"] = \"mitigation\";\n        UnitStat[\"fireMitigation\"] = \"fireMitigation\";\n        UnitStat[\"waterMitigation\"] = \"waterMitigation\";\n        UnitStat[\"earthMitigation\"] = \"earthMitigation\";\n        UnitStat[\"thunderMitigation\"] = \"thunderMitigation\";\n        UnitStat[\"lightMitigation\"] = \"lightMitigation\";\n        UnitStat[\"darkMitigation\"] = \"darkMitigation\";\n        UnitStat[\"turnDurationModification\"] = \"turnDurationModification\";\n        UnitStat[\"koResistance\"] = \"koResistance\";\n        UnitStat[\"revive\"] = \"revive\";\n        UnitStat[\"defenseIgnore\"] = \"defenseIgnore\";\n        UnitStat[\"sparkDamage\"] = \"sparkDamage\";\n        UnitStat[\"hitCountModification\"] = \"hitCountModification\";\n        UnitStat[\"damageReflect\"] = \"damageReflect\";\n        UnitStat[\"targetingModification\"] = \"targetingModification\";\n    })(UnitStat || (UnitStat = {}));\n    var IconId;\n    (function (IconId) {\n        IconId[\"UNKNOWN\"] = \"UNKNOWN\";\n        IconId[\"TURN_DURATION_UP\"] = \"TURN_DURATION_UP\";\n        IconId[\"TURN_DURATION_DOWN\"] = \"TURN_DURATION_DOWN\";\n        IconId[\"BUFF_HPUP\"] = \"BUFF_HPUP\";\n        IconId[\"BUFF_HPDOWN\"] = \"BUFF_HPDOWN\";\n        IconId[\"BUFF_ATKUP\"] = \"BUFF_ATKUP\";\n        IconId[\"BUFF_ATKDOWN\"] = \"BUFF_ATKDOWN\";\n        IconId[\"BUFF_DEFUP\"] = \"BUFF_DEFUP\";\n        IconId[\"BUFF_DEFDOWN\"] = \"BUFF_DEFDOWN\";\n        IconId[\"BUFF_RECUP\"] = \"BUFF_RECUP\";\n        IconId[\"BUFF_RECDOWN\"] = \"BUFF_RECDOWN\";\n        IconId[\"BUFF_CRTRATEUP\"] = \"BUFF_CRTRATEUP\";\n        IconId[\"BUFF_CRTRATEDOWN\"] = \"BUFF_CRTRATEDOWN\";\n        IconId[\"BUFF_HPTHRESHATKUP\"] = \"BUFF_HPTHRESHATKUP\";\n        IconId[\"BUFF_HPTHRESHATKDOWN\"] = \"BUFF_HPTHRESHATKDOWN\";\n        IconId[\"BUFF_HPTHRESHDEFUP\"] = \"BUFF_HPTHRESHDEFUP\";\n        IconId[\"BUFF_HPTHRESHDEFDOWN\"] = \"BUFF_HPTHRESHDEFDOWN\";\n        IconId[\"BUFF_HPTHRESHRECUP\"] = \"BUFF_HPTHRESHRECUP\";\n        IconId[\"BUFF_HPTHRESHRECDOWN\"] = \"BUFF_HPTHRESHRECDOWN\";\n        IconId[\"BUFF_HPTHRESHCRTRATEUP\"] = \"BUFF_HPTHRESHCRTRATEUP\";\n        IconId[\"BUFF_HPTHRESHCRTRATEDOWN\"] = \"BUFF_HPTHRESHCRTRATEDOWN\";\n        IconId[\"BUFF_HPREC\"] = \"BUFF_HPREC\";\n        IconId[\"BUFF_BBREC\"] = \"BUFF_BBREC\";\n        IconId[\"BUFF_DAMAGEBB\"] = \"BUFF_DAMAGEBB\";\n        IconId[\"BUFF_BEENATK_HPREC\"] = \"BUFF_BEENATK_HPREC\";\n        IconId[\"BUFF_FIREHPUP\"] = \"BUFF_FIREHPUP\";\n        IconId[\"BUFF_FIREHPDOWN\"] = \"BUFF_FIREHPDOWN\";\n        IconId[\"BUFF_FIREATKUP\"] = \"BUFF_FIREATKUP\";\n        IconId[\"BUFF_FIREATKDOWN\"] = \"BUFF_FIREATKDOWN\";\n        IconId[\"BUFF_FIREDEFUP\"] = \"BUFF_FIREDEFUP\";\n        IconId[\"BUFF_FIREDEFDOWN\"] = \"BUFF_FIREDEFDOWN\";\n        IconId[\"BUFF_FIRERECUP\"] = \"BUFF_FIRERECUP\";\n        IconId[\"BUFF_FIRERECDOWN\"] = \"BUFF_FIRERECDOWN\";\n        IconId[\"BUFF_FIRECRTRATEUP\"] = \"BUFF_FIRECRTRATEUP\";\n        IconId[\"BUFF_FIRECRTRATEDOWN\"] = \"BUFF_FIRECRTRATEDOWN\";\n        IconId[\"BUFF_WATERHPUP\"] = \"BUFF_WATERHPUP\";\n        IconId[\"BUFF_WATERHPDOWN\"] = \"BUFF_WATERHPDOWN\";\n        IconId[\"BUFF_WATERATKUP\"] = \"BUFF_WATERATKUP\";\n        IconId[\"BUFF_WATERATKDOWN\"] = \"BUFF_WATERATKDOWN\";\n        IconId[\"BUFF_WATERDEFUP\"] = \"BUFF_WATERDEFUP\";\n        IconId[\"BUFF_WATERDEFDOWN\"] = \"BUFF_WATERDEFDOWN\";\n        IconId[\"BUFF_WATERRECUP\"] = \"BUFF_WATERRECUP\";\n        IconId[\"BUFF_WATERRECDOWN\"] = \"BUFF_WATERRECDOWN\";\n        IconId[\"BUFF_WATERCRTRATEUP\"] = \"BUFF_WATERCRTRATEUP\";\n        IconId[\"BUFF_WATERCRTRATEDOWN\"] = \"BUFF_WATERCRTRATEDOWN\";\n        IconId[\"BUFF_EARTHHPUP\"] = \"BUFF_EARTHHPUP\";\n        IconId[\"BUFF_EARTHHPDOWN\"] = \"BUFF_EARTHHPDOWN\";\n        IconId[\"BUFF_EARTHATKUP\"] = \"BUFF_EARTHATKUP\";\n        IconId[\"BUFF_EARTHATKDOWN\"] = \"BUFF_EARTHATKDOWN\";\n        IconId[\"BUFF_EARTHDEFUP\"] = \"BUFF_EARTHDEFUP\";\n        IconId[\"BUFF_EARTHDEFDOWN\"] = \"BUFF_EARTHDEFDOWN\";\n        IconId[\"BUFF_EARTHRECUP\"] = \"BUFF_EARTHRECUP\";\n        IconId[\"BUFF_EARTHRECDOWN\"] = \"BUFF_EARTHRECDOWN\";\n        IconId[\"BUFF_EARTHCRTRATEUP\"] = \"BUFF_EARTHCRTRATEUP\";\n        IconId[\"BUFF_EARTHCRTRATEDOWN\"] = \"BUFF_EARTHCRTRATEDOWN\";\n        IconId[\"BUFF_THUNDERHPUP\"] = \"BUFF_THUNDERHPUP\";\n        IconId[\"BUFF_THUNDERHPDOWN\"] = \"BUFF_THUNDERHPDOWN\";\n        IconId[\"BUFF_THUNDERATKUP\"] = \"BUFF_THUNDERATKUP\";\n        IconId[\"BUFF_THUNDERATKDOWN\"] = \"BUFF_THUNDERATKDOWN\";\n        IconId[\"BUFF_THUNDERDEFUP\"] = \"BUFF_THUNDERDEFUP\";\n        IconId[\"BUFF_THUNDERDEFDOWN\"] = \"BUFF_THUNDERDEFDOWN\";\n        IconId[\"BUFF_THUNDERRECUP\"] = \"BUFF_THUNDERRECUP\";\n        IconId[\"BUFF_THUNDERRECDOWN\"] = \"BUFF_THUNDERRECDOWN\";\n        IconId[\"BUFF_THUNDERCRTRATEUP\"] = \"BUFF_THUNDERCRTRATEUP\";\n        IconId[\"BUFF_THUNDERCRTRATEDOWN\"] = \"BUFF_THUNDERCRTRATEDOWN\";\n        IconId[\"BUFF_LIGHTHPUP\"] = \"BUFF_LIGHTHPUP\";\n        IconId[\"BUFF_LIGHTHPDOWN\"] = \"BUFF_LIGHTHPDOWN\";\n        IconId[\"BUFF_LIGHTATKUP\"] = \"BUFF_LIGHTATKUP\";\n        IconId[\"BUFF_LIGHTATKDOWN\"] = \"BUFF_LIGHTATKDOWN\";\n        IconId[\"BUFF_LIGHTDEFUP\"] = \"BUFF_LIGHTDEFUP\";\n        IconId[\"BUFF_LIGHTDEFDOWN\"] = \"BUFF_LIGHTDEFDOWN\";\n        IconId[\"BUFF_LIGHTRECUP\"] = \"BUFF_LIGHTRECUP\";\n        IconId[\"BUFF_LIGHTRECDOWN\"] = \"BUFF_LIGHTRECDOWN\";\n        IconId[\"BUFF_LIGHTCRTRATEUP\"] = \"BUFF_LIGHTCRTRATEUP\";\n        IconId[\"BUFF_LIGHTCRTRATEDOWN\"] = \"BUFF_LIGHTCRTRATEDOWN\";\n        IconId[\"BUFF_DARKHPUP\"] = \"BUFF_DARKHPUP\";\n        IconId[\"BUFF_DARKHPDOWN\"] = \"BUFF_DARKHPDOWN\";\n        IconId[\"BUFF_DARKATKUP\"] = \"BUFF_DARKATKUP\";\n        IconId[\"BUFF_DARKATKDOWN\"] = \"BUFF_DARKATKDOWN\";\n        IconId[\"BUFF_DARKDEFUP\"] = \"BUFF_DARKDEFUP\";\n        IconId[\"BUFF_DARKDEFDOWN\"] = \"BUFF_DARKDEFDOWN\";\n        IconId[\"BUFF_DARKRECUP\"] = \"BUFF_DARKRECUP\";\n        IconId[\"BUFF_DARKRECDOWN\"] = \"BUFF_DARKRECDOWN\";\n        IconId[\"BUFF_DARKCRTRATEUP\"] = \"BUFF_DARKCRTRATEUP\";\n        IconId[\"BUFF_DARKCRTRATEDOWN\"] = \"BUFF_DARKCRTRATEDOWN\";\n        IconId[\"BUFF_ELEMENTHPUP\"] = \"BUFF_ELEMENTHPUP\";\n        IconId[\"BUFF_ELEMENTHPDOWN\"] = \"BUFF_ELEMENTHPDOWN\";\n        IconId[\"BUFF_ELEMENTATKUP\"] = \"BUFF_ELEMENTATKUP\";\n        IconId[\"BUFF_ELEMENTATKDOWN\"] = \"BUFF_ELEMENTATKDOWN\";\n        IconId[\"BUFF_ELEMENTDEFUP\"] = \"BUFF_ELEMENTDEFUP\";\n        IconId[\"BUFF_ELEMENTDEFDOWN\"] = \"BUFF_ELEMENTDEFDOWN\";\n        IconId[\"BUFF_ELEMENTRECUP\"] = \"BUFF_ELEMENTRECUP\";\n        IconId[\"BUFF_ELEMENTRECDOWN\"] = \"BUFF_ELEMENTRECDOWN\";\n        IconId[\"BUFF_ELEMENTCRTRATEUP\"] = \"BUFF_ELEMENTCRTRATEUP\";\n        IconId[\"BUFF_ELEMENTCRTRATEDOWN\"] = \"BUFF_ELEMENTCRTRATEDOWN\";\n        IconId[\"BUFF_LORDHPUP\"] = \"BUFF_LORDHPUP\";\n        IconId[\"BUFF_LORDHPDOWN\"] = \"BUFF_LORDHPDOWN\";\n        IconId[\"BUFF_LORDATKUP\"] = \"BUFF_LORDATKUP\";\n        IconId[\"BUFF_LORDATKDOWN\"] = \"BUFF_LORDATKDOWN\";\n        IconId[\"BUFF_LORDDEFUP\"] = \"BUFF_LORDDEFUP\";\n        IconId[\"BUFF_LORDDEFDOWN\"] = \"BUFF_LORDDEFDOWN\";\n        IconId[\"BUFF_LORDRECUP\"] = \"BUFF_LORDRECUP\";\n        IconId[\"BUFF_LORDRECDOWN\"] = \"BUFF_LORDRECDOWN\";\n        IconId[\"BUFF_LORDCRTRATEUP\"] = \"BUFF_LORDCRTRATEUP\";\n        IconId[\"BUFF_LORDCRTRATEDOWN\"] = \"BUFF_LORDCRTRATEDOWN\";\n        IconId[\"BUFF_ANIMAHPUP\"] = \"BUFF_ANIMAHPUP\";\n        IconId[\"BUFF_ANIMAHPDOWN\"] = \"BUFF_ANIMAHPDOWN\";\n        IconId[\"BUFF_ANIMAATKUP\"] = \"BUFF_ANIMAATKUP\";\n        IconId[\"BUFF_ANIMAATKDOWN\"] = \"BUFF_ANIMAATKDOWN\";\n        IconId[\"BUFF_ANIMADEFUP\"] = \"BUFF_ANIMADEFUP\";\n        IconId[\"BUFF_ANIMADEFDOWN\"] = \"BUFF_ANIMADEFDOWN\";\n        IconId[\"BUFF_ANIMARECUP\"] = \"BUFF_ANIMARECUP\";\n        IconId[\"BUFF_ANIMARECDOWN\"] = \"BUFF_ANIMARECDOWN\";\n        IconId[\"BUFF_ANIMACRTRATEUP\"] = \"BUFF_ANIMACRTRATEUP\";\n        IconId[\"BUFF_ANIMACRTRATEDOWN\"] = \"BUFF_ANIMACRTRATEDOWN\";\n        IconId[\"BUFF_BREAKERHPUP\"] = \"BUFF_BREAKERHPUP\";\n        IconId[\"BUFF_BREAKERHPDOWN\"] = \"BUFF_BREAKERHPDOWN\";\n        IconId[\"BUFF_BREAKERATKUP\"] = \"BUFF_BREAKERATKUP\";\n        IconId[\"BUFF_BREAKERATKDOWN\"] = \"BUFF_BREAKERATKDOWN\";\n        IconId[\"BUFF_BREAKERDEFUP\"] = \"BUFF_BREAKERDEFUP\";\n        IconId[\"BUFF_BREAKERDEFDOWN\"] = \"BUFF_BREAKERDEFDOWN\";\n        IconId[\"BUFF_BREAKERRECUP\"] = \"BUFF_BREAKERRECUP\";\n        IconId[\"BUFF_BREAKERRECDOWN\"] = \"BUFF_BREAKERRECDOWN\";\n        IconId[\"BUFF_BREAKERCRTRATEUP\"] = \"BUFF_BREAKERCRTRATEUP\";\n        IconId[\"BUFF_BREAKERCRTRATEDOWN\"] = \"BUFF_BREAKERCRTRATEDOWN\";\n        IconId[\"BUFF_GUARDIANHPUP\"] = \"BUFF_GUARDIANHPUP\";\n        IconId[\"BUFF_GUARDIANHPDOWN\"] = \"BUFF_GUARDIANHPDOWN\";\n        IconId[\"BUFF_GUARDIANATKUP\"] = \"BUFF_GUARDIANATKUP\";\n        IconId[\"BUFF_GUARDIANATKDOWN\"] = \"BUFF_GUARDIANATKDOWN\";\n        IconId[\"BUFF_GUARDIANDEFUP\"] = \"BUFF_GUARDIANDEFUP\";\n        IconId[\"BUFF_GUARDIANDEFDOWN\"] = \"BUFF_GUARDIANDEFDOWN\";\n        IconId[\"BUFF_GUARDIANRECUP\"] = \"BUFF_GUARDIANRECUP\";\n        IconId[\"BUFF_GUARDIANRECDOWN\"] = \"BUFF_GUARDIANRECDOWN\";\n        IconId[\"BUFF_GUARDIANCRTRATEUP\"] = \"BUFF_GUARDIANCRTRATEUP\";\n        IconId[\"BUFF_GUARDIANCRTRATEDOWN\"] = \"BUFF_GUARDIANCRTRATEDOWN\";\n        IconId[\"BUFF_ORACLEHPUP\"] = \"BUFF_ORACLEHPUP\";\n        IconId[\"BUFF_ORACLEHPDOWN\"] = \"BUFF_ORACLEHPDOWN\";\n        IconId[\"BUFF_ORACLEATKUP\"] = \"BUFF_ORACLEATKUP\";\n        IconId[\"BUFF_ORACLEATKDOWN\"] = \"BUFF_ORACLEATKDOWN\";\n        IconId[\"BUFF_ORACLEDEFUP\"] = \"BUFF_ORACLEDEFUP\";\n        IconId[\"BUFF_ORACLEDEFDOWN\"] = \"BUFF_ORACLEDEFDOWN\";\n        IconId[\"BUFF_ORACLERECUP\"] = \"BUFF_ORACLERECUP\";\n        IconId[\"BUFF_ORACLERECDOWN\"] = \"BUFF_ORACLERECDOWN\";\n        IconId[\"BUFF_ORACLECRTRATEUP\"] = \"BUFF_ORACLECRTRATEUP\";\n        IconId[\"BUFF_ORACLECRTRATEDOWN\"] = \"BUFF_ORACLECRTRATEDOWN\";\n        IconId[\"BUFF_REXHPUP\"] = \"BUFF_REXHPUP\";\n        IconId[\"BUFF_REXHPDOWN\"] = \"BUFF_REXHPDOWN\";\n        IconId[\"BUFF_REXATKUP\"] = \"BUFF_REXATKUP\";\n        IconId[\"BUFF_REXATKDOWN\"] = \"BUFF_REXATKDOWN\";\n        IconId[\"BUFF_REXDEFUP\"] = \"BUFF_REXDEFUP\";\n        IconId[\"BUFF_REXDEFDOWN\"] = \"BUFF_REXDEFDOWN\";\n        IconId[\"BUFF_REXRECUP\"] = \"BUFF_REXRECUP\";\n        IconId[\"BUFF_REXRECDOWN\"] = \"BUFF_REXRECDOWN\";\n        IconId[\"BUFF_REXCRTRATEUP\"] = \"BUFF_REXCRTRATEUP\";\n        IconId[\"BUFF_REXCRTRATEDOWN\"] = \"BUFF_REXCRTRATEDOWN\";\n        IconId[\"BUFF_UNITTYPEHPUP\"] = \"BUFF_UNITTYPEHPUP\";\n        IconId[\"BUFF_UNITTYPEHPDOWN\"] = \"BUFF_UNITTYPEHPDOWN\";\n        IconId[\"BUFF_UNITTYPEATKUP\"] = \"BUFF_UNITTYPEATKUP\";\n        IconId[\"BUFF_UNITTYPEATKDOWN\"] = \"BUFF_UNITTYPEATKDOWN\";\n        IconId[\"BUFF_UNITTYPEDEFUP\"] = \"BUFF_UNITTYPEDEFUP\";\n        IconId[\"BUFF_UNITTYPEDEFDOWN\"] = \"BUFF_UNITTYPEDEFDOWN\";\n        IconId[\"BUFF_UNITTYPERECUP\"] = \"BUFF_UNITTYPERECUP\";\n        IconId[\"BUFF_UNITTYPERECDOWN\"] = \"BUFF_UNITTYPERECDOWN\";\n        IconId[\"BUFF_UNITTYPECRTRATEUP\"] = \"BUFF_UNITTYPECRTRATEUP\";\n        IconId[\"BUFF_UNITTYPECRTRATEDOWN\"] = \"BUFF_UNITTYPECRTRATEDOWN\";\n        IconId[\"BUFF_CONVERTATKUP\"] = \"BUFF_CONVERTATKUP\";\n        IconId[\"BUFF_CONVERTATKDOWN\"] = \"BUFF_CONVERTATKDOWN\";\n        IconId[\"BUFF_CONVERTDEFUP\"] = \"BUFF_CONVERTDEFUP\";\n        IconId[\"BUFF_CONVERTDEFDOWN\"] = \"BUFF_CONVERTDEFDOWN\";\n        IconId[\"BUFF_CONVERTRECUP\"] = \"BUFF_CONVERTRECUP\";\n        IconId[\"BUFF_CONVERTRECDOWN\"] = \"BUFF_CONVERTRECDOWN\";\n        IconId[\"BUFF_POISONBLK\"] = \"BUFF_POISONBLK\";\n        IconId[\"BUFF_WEAKBLK\"] = \"BUFF_WEAKBLK\";\n        IconId[\"BUFF_SICKBLK\"] = \"BUFF_SICKBLK\";\n        IconId[\"BUFF_INJURYBLK\"] = \"BUFF_INJURYBLK\";\n        IconId[\"BUFF_CURSEBLK\"] = \"BUFF_CURSEBLK\";\n        IconId[\"BUFF_PARALYSISBLK\"] = \"BUFF_PARALYSISBLK\";\n        IconId[\"BUFF_ATKDOWNBLK\"] = \"BUFF_ATKDOWNBLK\";\n        IconId[\"BUFF_DEFDOWNBLK\"] = \"BUFF_DEFDOWNBLK\";\n        IconId[\"BUFF_RECDOWNBLK\"] = \"BUFF_RECDOWNBLK\";\n        IconId[\"BUFF_AILMENTBLK\"] = \"BUFF_AILMENTBLK\";\n        IconId[\"DEBUFF_POISON\"] = \"DEBUFF_POISON\";\n        IconId[\"DEBUFF_WEAK\"] = \"DEBUFF_WEAK\";\n        IconId[\"DEBUFF_SICK\"] = \"DEBUFF_SICK\";\n        IconId[\"DEBUFF_INJURY\"] = \"DEBUFF_INJURY\";\n        IconId[\"DEBUFF_CURSE\"] = \"DEBUFF_CURSE\";\n        IconId[\"DEBUFF_PARALYSIS\"] = \"DEBUFF_PARALYSIS\";\n        IconId[\"DEBUFF_AILMENT\"] = \"DEBUFF_AILMENT\";\n        IconId[\"BUFF_ADDPOISON\"] = \"BUFF_ADDPOISON\";\n        IconId[\"BUFF_ADDWEAK\"] = \"BUFF_ADDWEAK\";\n        IconId[\"BUFF_ADDSICK\"] = \"BUFF_ADDSICK\";\n        IconId[\"BUFF_ADDINJURY\"] = \"BUFF_ADDINJURY\";\n        IconId[\"BUFF_ADDCURSE\"] = \"BUFF_ADDCURSE\";\n        IconId[\"BUFF_ADDPARA\"] = \"BUFF_ADDPARA\";\n        IconId[\"BUFF_ADDAILMENT\"] = \"BUFF_ADDAILMENT\";\n        IconId[\"BUFF_ADDATKDOWN\"] = \"BUFF_ADDATKDOWN\";\n        IconId[\"BUFF_ADDDEFDOWN\"] = \"BUFF_ADDDEFDOWN\";\n        IconId[\"BUFF_ADDRECDOWN\"] = \"BUFF_ADDRECDOWN\";\n        IconId[\"BUFF_DAMAGECUT\"] = \"BUFF_DAMAGECUT\";\n        IconId[\"BUFF_FIREDMGDOWN\"] = \"BUFF_FIREDMGDOWN\";\n        IconId[\"BUFF_WATERDMGDOWN\"] = \"BUFF_WATERDMGDOWN\";\n        IconId[\"BUFF_EARTHDMGDOWN\"] = \"BUFF_EARTHDMGDOWN\";\n        IconId[\"BUFF_THUNDERDMGDOWN\"] = \"BUFF_THUNDERDMGDOWN\";\n        IconId[\"BUFF_LIGHTDMGDOWN\"] = \"BUFF_LIGHTDMGDOWN\";\n        IconId[\"BUFF_DARKDMGDOWN\"] = \"BUFF_DARKDMGDOWN\";\n        IconId[\"BUFF_ELEMENTDMGDOWN\"] = \"BUFF_ELEMENTDMGDOWN\";\n        IconId[\"BUFF_HCDROP\"] = \"BUFF_HCDROP\";\n        IconId[\"BUFF_HCDOWN\"] = \"BUFF_HCDOWN\";\n        IconId[\"BUFF_BCDROP\"] = \"BUFF_BCDROP\";\n        IconId[\"BUFF_BCDOWN\"] = \"BUFF_BCDOWN\";\n        IconId[\"BUFF_ITEMDROP\"] = \"BUFF_ITEMDROP\";\n        IconId[\"BUFF_ITEMDOWN\"] = \"BUFF_ITEMDOWN\";\n        IconId[\"BUFF_ZELDROP\"] = \"BUFF_ZELDROP\";\n        IconId[\"BUFF_ZELDOWN\"] = \"BUFF_ZELDOWN\";\n        IconId[\"BUFF_KARMADROP\"] = \"BUFF_KARMADROP\";\n        IconId[\"BUFF_KARMADOWN\"] = \"BUFF_KARMADOWN\";\n        IconId[\"BUFF_HCREC\"] = \"BUFF_HCREC\";\n        IconId[\"BUFF_KOBLK\"] = \"BUFF_KOBLK\";\n        IconId[\"BUFF_HPABS\"] = \"BUFF_HPABS\";\n        IconId[\"BUFF_IGNOREDEF\"] = \"BUFF_IGNOREDEF\";\n        IconId[\"BUFF_SPARKUP\"] = \"BUFF_SPARKUP\";\n        IconId[\"BUFF_HITUP\"] = \"BUFF_HITUP\";\n        IconId[\"BUFF_COUNTERDAMAGE\"] = \"BUFF_COUNTERDAMAGE\";\n        IconId[\"BUFF_GETENEATT\"] = \"BUFF_GETENEATT\";\n        IconId[\"BUFF_REPENEATT\"] = \"BUFF_REPENEATT\";\n        IconId[\"ATK_ST\"] = \"ATK_ST\";\n        IconId[\"ATK_AOE\"] = \"ATK_AOE\";\n        IconId[\"ATK_RT\"] = \"ATK_RT\";\n        IconId[\"ATK_ST_HPREC\"] = \"ATK_ST_HPREC\";\n        IconId[\"ATK_AOE_HPREC\"] = \"ATK_AOE_HPREC\";\n        IconId[\"ATK_ST_PROPORTIONAL\"] = \"ATK_ST_PROPORTIONAL\";\n        IconId[\"ATK_AOE_PROPORTIONAL\"] = \"ATK_AOE_PROPORTIONAL\";\n    })(IconId || (IconId = {}));\n    /**\n     * @description Format of these IDs are `<passive|proc>:<original effect ID>:<stat>`.\n     * Usage of passive/proc and original effect ID are for easy tracking of the original effect\n     * source of a given buff.\n     */\n    var BuffId;\n    (function (BuffId) {\n        BuffId[\"UNKNOWN_PASSIVE_EFFECT_ID\"] = \"UNKNOWN_PASSIVE_EFFECT_ID\";\n        BuffId[\"UNKNOWN_PASSIVE_BUFF_PARAMS\"] = \"UNKNOWN_PASSIVE_BUFF_PARAMS\";\n        BuffId[\"TURN_DURATION_MODIFICATION\"] = \"TURN_DURATION_MODIFICATION\";\n        BuffId[\"passive:1:hp\"] = \"passive:1:hp\";\n        BuffId[\"passive:1:atk\"] = \"passive:1:atk\";\n        BuffId[\"passive:1:def\"] = \"passive:1:def\";\n        BuffId[\"passive:1:rec\"] = \"passive:1:rec\";\n        BuffId[\"passive:1:crit\"] = \"passive:1:crit\";\n        BuffId[\"passive:2:hp\"] = \"passive:2:hp\";\n        BuffId[\"passive:2:atk\"] = \"passive:2:atk\";\n        BuffId[\"passive:2:def\"] = \"passive:2:def\";\n        BuffId[\"passive:2:rec\"] = \"passive:2:rec\";\n        BuffId[\"passive:2:crit\"] = \"passive:2:crit\";\n        BuffId[\"passive:3:hp\"] = \"passive:3:hp\";\n        BuffId[\"passive:3:atk\"] = \"passive:3:atk\";\n        BuffId[\"passive:3:def\"] = \"passive:3:def\";\n        BuffId[\"passive:3:rec\"] = \"passive:3:rec\";\n        BuffId[\"passive:3:crit\"] = \"passive:3:crit\";\n        BuffId[\"passive:4:poison\"] = \"passive:4:poison\";\n        BuffId[\"passive:4:weak\"] = \"passive:4:weak\";\n        BuffId[\"passive:4:sick\"] = \"passive:4:sick\";\n        BuffId[\"passive:4:injury\"] = \"passive:4:injury\";\n        BuffId[\"passive:4:curse\"] = \"passive:4:curse\";\n        BuffId[\"passive:4:paralysis\"] = \"passive:4:paralysis\";\n        BuffId[\"passive:5:fire\"] = \"passive:5:fire\";\n        BuffId[\"passive:5:water\"] = \"passive:5:water\";\n        BuffId[\"passive:5:earth\"] = \"passive:5:earth\";\n        BuffId[\"passive:5:thunder\"] = \"passive:5:thunder\";\n        BuffId[\"passive:5:light\"] = \"passive:5:light\";\n        BuffId[\"passive:5:dark\"] = \"passive:5:dark\";\n        BuffId[\"passive:5:unknown\"] = \"passive:5:unknown\";\n        BuffId[\"passive:8\"] = \"passive:8\";\n        BuffId[\"passive:9\"] = \"passive:9\";\n        BuffId[\"passive:10\"] = \"passive:10\";\n        BuffId[\"passive:11:atk\"] = \"passive:11:atk\";\n        BuffId[\"passive:11:def\"] = \"passive:11:def\";\n        BuffId[\"passive:11:rec\"] = \"passive:11:rec\";\n        BuffId[\"passive:11:crit\"] = \"passive:11:crit\";\n        BuffId[\"passive:12:bc\"] = \"passive:12:bc\";\n        BuffId[\"passive:12:hc\"] = \"passive:12:hc\";\n        BuffId[\"passive:12:item\"] = \"passive:12:item\";\n        BuffId[\"passive:12:zel\"] = \"passive:12:zel\";\n        BuffId[\"passive:12:karma\"] = \"passive:12:karma\";\n        BuffId[\"passive:13\"] = \"passive:13\";\n        BuffId[\"passive:14\"] = \"passive:14\";\n        BuffId[\"passive:15\"] = \"passive:15\";\n        BuffId[\"passive:16\"] = \"passive:16\";\n        BuffId[\"passive:17\"] = \"passive:17\";\n        BuffId[\"passive:19:bc\"] = \"passive:19:bc\";\n        BuffId[\"passive:19:hc\"] = \"passive:19:hc\";\n        BuffId[\"passive:19:item\"] = \"passive:19:item\";\n        BuffId[\"passive:19:zel\"] = \"passive:19:zel\";\n        BuffId[\"passive:19:karma\"] = \"passive:19:karma\";\n        BuffId[\"passive:20:poison\"] = \"passive:20:poison\";\n        BuffId[\"passive:20:weak\"] = \"passive:20:weak\";\n        BuffId[\"passive:20:sick\"] = \"passive:20:sick\";\n        BuffId[\"passive:20:injury\"] = \"passive:20:injury\";\n        BuffId[\"passive:20:curse\"] = \"passive:20:curse\";\n        BuffId[\"passive:20:paralysis\"] = \"passive:20:paralysis\";\n        BuffId[\"passive:20:atk down\"] = \"passive:20:atk down\";\n        BuffId[\"passive:20:def down\"] = \"passive:20:def down\";\n        BuffId[\"passive:20:rec down\"] = \"passive:20:rec down\";\n        BuffId[\"passive:20:unknown\"] = \"passive:20:unknown\";\n        BuffId[\"passive:21:atk\"] = \"passive:21:atk\";\n        BuffId[\"passive:21:def\"] = \"passive:21:def\";\n        BuffId[\"passive:21:rec\"] = \"passive:21:rec\";\n        BuffId[\"passive:21:crit\"] = \"passive:21:crit\";\n        BuffId[\"passive:23\"] = \"passive:23\";\n        BuffId[\"passive:24\"] = \"passive:24\";\n        BuffId[\"passive:25\"] = \"passive:25\";\n        BuffId[\"passive:26\"] = \"passive:26\";\n        BuffId[\"passive:27\"] = \"passive:27\";\n        BuffId[\"UNKNOWN_PROC_EFFECT_ID\"] = \"UNKNOWN_PROC_EFFECT_ID\";\n        BuffId[\"UNKNOWN_PROC_BUFF_PARAMS\"] = \"UNKNOWN_PROC_BUFF_PARAMS\";\n        BuffId[\"proc:1\"] = \"proc:1\";\n        BuffId[\"proc:2\"] = \"proc:2\";\n        BuffId[\"proc:3\"] = \"proc:3\";\n        BuffId[\"proc:4:flat\"] = \"proc:4:flat\";\n        BuffId[\"proc:4:percent\"] = \"proc:4:percent\";\n        BuffId[\"proc:5:atk\"] = \"proc:5:atk\";\n        BuffId[\"proc:5:def\"] = \"proc:5:def\";\n        BuffId[\"proc:5:rec\"] = \"proc:5:rec\";\n        BuffId[\"proc:5:crit\"] = \"proc:5:crit\";\n        BuffId[\"proc:6:bc\"] = \"proc:6:bc\";\n        BuffId[\"proc:6:hc\"] = \"proc:6:hc\";\n        BuffId[\"proc:6:item\"] = \"proc:6:item\";\n        BuffId[\"proc:7\"] = \"proc:7\";\n        BuffId[\"proc:8:flat\"] = \"proc:8:flat\";\n        BuffId[\"proc:8:percent\"] = \"proc:8:percent\";\n        BuffId[\"proc:9:atk\"] = \"proc:9:atk\";\n        BuffId[\"proc:9:def\"] = \"proc:9:def\";\n        BuffId[\"proc:9:rec\"] = \"proc:9:rec\";\n        BuffId[\"proc:9:unknown\"] = \"proc:9:unknown\";\n        BuffId[\"proc:10:poison\"] = \"proc:10:poison\";\n        BuffId[\"proc:10:weak\"] = \"proc:10:weak\";\n        BuffId[\"proc:10:sick\"] = \"proc:10:sick\";\n        BuffId[\"proc:10:injury\"] = \"proc:10:injury\";\n        BuffId[\"proc:10:curse\"] = \"proc:10:curse\";\n        BuffId[\"proc:10:paralysis\"] = \"proc:10:paralysis\";\n        BuffId[\"proc:10:atk down\"] = \"proc:10:atk down\";\n        BuffId[\"proc:10:def down\"] = \"proc:10:def down\";\n        BuffId[\"proc:10:rec down\"] = \"proc:10:rec down\";\n        BuffId[\"proc:10:unknown\"] = \"proc:10:unknown\";\n        BuffId[\"proc:11:poison\"] = \"proc:11:poison\";\n        BuffId[\"proc:11:weak\"] = \"proc:11:weak\";\n        BuffId[\"proc:11:sick\"] = \"proc:11:sick\";\n        BuffId[\"proc:11:injury\"] = \"proc:11:injury\";\n        BuffId[\"proc:11:curse\"] = \"proc:11:curse\";\n        BuffId[\"proc:11:paralysis\"] = \"proc:11:paralysis\";\n        BuffId[\"proc:11:atk down\"] = \"proc:11:atk down\";\n        BuffId[\"proc:11:def down\"] = \"proc:11:def down\";\n        BuffId[\"proc:11:rec down\"] = \"proc:11:rec down\";\n        BuffId[\"proc:11:unknown\"] = \"proc:11:unknown\";\n        BuffId[\"proc:12\"] = \"proc:12\";\n        BuffId[\"proc:13\"] = \"proc:13\";\n        BuffId[\"proc:14\"] = \"proc:14\";\n        BuffId[\"proc:16:fire\"] = \"proc:16:fire\";\n        BuffId[\"proc:16:water\"] = \"proc:16:water\";\n        BuffId[\"proc:16:earth\"] = \"proc:16:earth\";\n        BuffId[\"proc:16:thunder\"] = \"proc:16:thunder\";\n        BuffId[\"proc:16:light\"] = \"proc:16:light\";\n        BuffId[\"proc:16:dark\"] = \"proc:16:dark\";\n        BuffId[\"proc:16:all\"] = \"proc:16:all\";\n        BuffId[\"proc:16:unknown\"] = \"proc:16:unknown\";\n        BuffId[\"proc:17:poison\"] = \"proc:17:poison\";\n        BuffId[\"proc:17:weak\"] = \"proc:17:weak\";\n        BuffId[\"proc:17:sick\"] = \"proc:17:sick\";\n        BuffId[\"proc:17:injury\"] = \"proc:17:injury\";\n        BuffId[\"proc:17:curse\"] = \"proc:17:curse\";\n        BuffId[\"proc:17:paralysis\"] = \"proc:17:paralysis\";\n        BuffId[\"proc:18\"] = \"proc:18\";\n        BuffId[\"proc:19\"] = \"proc:19\";\n        BuffId[\"proc:20\"] = \"proc:20\";\n        BuffId[\"proc:22\"] = \"proc:22\";\n        BuffId[\"proc:23\"] = \"proc:23\";\n        BuffId[\"proc:24:atk\"] = \"proc:24:atk\";\n        BuffId[\"proc:24:def\"] = \"proc:24:def\";\n        BuffId[\"proc:24:rec\"] = \"proc:24:rec\";\n        BuffId[\"proc:26\"] = \"proc:26\";\n        BuffId[\"proc:27\"] = \"proc:27\";\n    })(BuffId || (BuffId = {}));\n\n    /**\n     * @description Helper function for creating an entry to be used in the `sources`\n     * property of {@link IBuff}.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @returns Entry in the format of `<BuffSource>-<ID of Buff Source>`.\n     */\n    function createSourceEntryFromContext(context) {\n        return `${context.source}-${context.sourceId}`;\n    }\n    /**\n     * @description Helper function for creating an entries array to be used in the `sources`\n     * property of {@link IBuff}. It handles setting the order of the sources.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @returns List of entries in the format of `<BuffSource>-<ID of Buff Source>`.\n     */\n    function createSourcesFromContext(context) {\n        const resultArray = Array.isArray(context.previousSources)\n            ? context.previousSources.slice()\n            : [];\n        // Ensure that the current source is at the beginning of the array\n        resultArray.unshift(createSourceEntryFromContext(context));\n        return resultArray;\n    }\n    /**\n     * @description Given the conditions in an extra skill effect, normalize them into\n     * a simpler object containing the IDs of each condition type.\n     * @param effect Extra skill effect to process conditions from.\n     * @returns Conditions based on type, otherwise an empty object if no conditions are found.\n     */\n    function processExtraSkillConditions(effect) {\n        const conditions = (effect && Array.isArray(effect.conditions) && effect.conditions) || [];\n        const aggregate = {\n            units: new Set(),\n            items: new Set(),\n            sphereTypes: new Set(),\n            unknowns: new Set(),\n        };\n        conditions.forEach((condition, index) => {\n            if ('sphere category required (raw)' in condition) {\n                aggregate.sphereTypes.add(condition['sphere category required (raw)']);\n            }\n            else if ('item required' in condition) {\n                condition['item required'].forEach((item) => {\n                    aggregate.items.add(item);\n                });\n            }\n            else if ('unit required' in condition) {\n                condition['unit required'].forEach((unit) => {\n                    aggregate.units.add(`${unit.id}`);\n                });\n            }\n            else {\n                aggregate.unknowns.add(`type:${condition.type_id || index},condition:${condition.condition_id || index}`);\n            }\n        });\n        // filter out properties that have no entries\n        const result = Object.entries(aggregate)\n            .filter((entry) => entry[1].size > 0)\n            .reduce((acc, entry) => {\n            acc[entry[0]] = Array.from(entry[1]);\n            return acc;\n        }, {});\n        return result;\n    }\n    /**\n     * @description Extract the target type and target area of a given passive effect.\n     * @param effect Passive effect to extract target data from.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @returns The target data for the given effect and context. There are only two possible values:\n     * party (`targetType` is party and `targetArea` is aoe ) and single (`targetType` is self and `targetArea` is single)\n     */\n    function getPassiveTargetData(effect, context) {\n        const isLeaderSkillEffect = context.source === BuffSource.LeaderSkill ||\n            (effect.sp_type === SpPassiveType.EnhancePassive);\n        const isPartyEffect = isLeaderSkillEffect || effect['passive target'] === TargetType.Party;\n        return {\n            targetType: isPartyEffect ? TargetType.Party : TargetType.Self,\n            targetArea: isPartyEffect ? TargetArea.Aoe : TargetArea.Single,\n        };\n    }\n    /**\n     * @description Extract the target type and target area of a given proc effect.\n     * @param effect Proc effect to extract target data from.\n     * @returns The target data for the given effect and context.\n     */\n    function getProcTargetData(effect) {\n        return {\n            targetArea: effect['target area'],\n            targetType: effect['target type'],\n        };\n    }\n    /**\n     * @description Try to parse the given value into a number or return a value if it is not a number.\n     * @param value Value to parse into a number.\n     * @param defaultValue Value to return if `value` is not a number; defaults to 0.\n     * @returns Parsed value as a number or the `defaultValue` if the value is not a number.\n     */\n    function parseNumberOrDefault(value, defaultValue = 0) {\n        return (value !== null && !isNaN(value)) ? +value : defaultValue;\n    }\n    /**\n     * @description Create an object denoting values that cannot be processed yet. To be used\n     * in the `value` property of `IBuff` as needed.\n     * @param params Array of values that cannot be processed yet.\n     * @param startIndex The first index before which we know how to process an effect's values.\n     * @returns Dictionary object where every parameter is keyed by its index in the format of `param_${startIndex + indexInParams}`\n     */\n    function createUnknownParamsValue(params = [], startIndex = 0) {\n        let hasValue = false;\n        const result = params\n            .reduce((acc, value, index) => {\n            if (value && value !== '0') {\n                acc[`param_${startIndex + index}`] = value;\n                hasValue = true;\n            }\n            return acc;\n        }, {});\n        return hasValue ? result : (void 0);\n    }\n    /**\n     * @description Decide whether a given source value is one of the burst types in {@link BuffSource}.\n     * @param source Source value to check.\n     * @returns Whether the given source value is a burst type. Returns true when the source is determined to\n     * be any one of the following: brave burst, super brave burst, ultimate brave burst, bonded brave burst,\n     * bonded super brave burst, or bonded dual brave burst.\n     */\n    function buffSourceIsBurstType(source) {\n        return !!source && [\n            BuffSource.BraveBurst, BuffSource.SuperBraveBurst, BuffSource.UltimateBraveBurst,\n            BuffSource.BondedBraveBurst, BuffSource.BondedSuperBraveBurst, BuffSource.DualBraveBurst,\n        ].includes(source);\n    }\n\n    let mapping;\n    /**\n     * @description Retrieve the proc-to-buff conversion function mapping for the library. Internally, this is a\n     * lazy-loaded singleton to not impact first-load performance.\n     * @param reload Optionally re-create the mapping.\n     * @returns Mapping of proc IDs to functions.\n     */\n    function getProcEffectToBuffMapping(reload) {\n        if (!mapping || reload) {\n            mapping = new Map();\n            setMapping(mapping);\n        }\n        return mapping;\n    }\n    /**\n     * @description Apply the mapping of proc effect IDs to conversion functions to the given Map object.\n     * @param map Map to add conversion mapping onto.\n     * @returns Does not return anything.\n     * @internal\n     */\n    function setMapping(map) {\n        const ELEMENT_MAPPING = {\n            0: BuffConditionElement.All,\n            1: UnitElement.Fire,\n            2: UnitElement.Water,\n            3: UnitElement.Earth,\n            4: UnitElement.Thunder,\n            5: UnitElement.Light,\n            6: UnitElement.Dark,\n        };\n        const AILMENT_MAPPING = {\n            1: Ailment.Poison,\n            2: Ailment.Weak,\n            3: Ailment.Sick,\n            4: Ailment.Injury,\n            5: Ailment.Curse,\n            6: Ailment.Paralysis,\n            7: Ailment.AttackReduction,\n            8: Ailment.DefenseReduction,\n            9: Ailment.RecoveryReduction,\n        };\n        const retrieveCommonInfoForEffects = (effect, context, injectionContext) => {\n            const targetData = ((injectionContext && injectionContext.getProcTargetData) || getProcTargetData)(effect);\n            const sources = ((injectionContext && injectionContext.createSourcesFromContext) || createSourcesFromContext)(context);\n            const effectDelay = effect['effect delay time(ms)/frame'];\n            return { targetData, sources, effectDelay };\n        };\n        // Disable rule as this function is only called once it's confirmed that `effect.params` exists\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const splitEffectParams = (effect) => effect.params.split(',');\n        const createUnknownParamsEntry = (unknownParams, { originalId, sources, targetData, effectDelay, }) => (Object.assign({ id: BuffId.UNKNOWN_PROC_BUFF_PARAMS, originalId,\n            effectDelay,\n            sources, value: unknownParams }, targetData));\n        const createTurnDurationEntry = ({ originalId, sources, buffs, duration, targetData, }) => (Object.assign({ id: BuffId.TURN_DURATION_MODIFICATION, originalId,\n            sources, value: {\n                buffs,\n                duration: duration,\n            } }, targetData));\n        const createUnknownParamsEntryFromExtraParams = (extraParams, startIndex, injectionContext) => {\n            let unknownParams;\n            if (extraParams && extraParams.length > 0) {\n                unknownParams = ((injectionContext && injectionContext.createUnknownParamsValue) || createUnknownParamsValue)(extraParams, startIndex);\n            }\n            return unknownParams;\n        };\n        /**\n         * @description Decide whether the effect being parsed is a turn duration buff. This should only be\n         * checked if all other known values in the effect are 0.\n         * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n         * @param turnDuration Parsed turn duration value to check.\n         * @param injectionContext Object whose main use is for injecting methods in testing.\n         * @returns True if the turn duration value is non-zero and the source type is not a burst type.\n         */\n        const isTurnDurationBuff = (context, turnDuration, injectionContext) => {\n            let result = turnDuration !== 0;\n            if (result) {\n                result = !((injectionContext && injectionContext.buffSourceIsBurstType) || buffSourceIsBurstType)(context.source);\n            }\n            return result;\n        };\n        /**\n         * @description Helper function to get attack information common across most attacks from the conversion context.\n         * @param context Given context that may contain attack information like damage frames.\n         * @returns Extracted attack information from the context (with defaults where applicable).\n         */\n        const getAttackInformationFromContext = (context) => {\n            const hits = parseNumberOrDefault(context.damageFrames && context.damageFrames.hits || 0);\n            const distribution = parseNumberOrDefault(context.damageFrames && context.damageFrames['hit dmg% distribution (total)']);\n            return {\n                hits,\n                distribution,\n            };\n        };\n        const parseProcWithSingleNumericalParameterAndTurnDuration = ({ effect, context, injectionContext, effectValueKey, effectTurnDurationKey, parseParamValue = (rawValue) => parseNumberOrDefault(rawValue), buffId, originalId, }) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let value = 0, turnDuration = 0;\n            let unknownParams;\n            if (effect.params) {\n                const [rawValue, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n                value = parseParamValue(rawValue);\n                turnDuration = parseNumberOrDefault(rawTurnDuration);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n            }\n            else {\n                value = parseNumberOrDefault(effect[effectValueKey]);\n                turnDuration = parseNumberOrDefault(effect[effectTurnDurationKey]);\n            }\n            const results = [];\n            if (value !== 0) {\n                results.push(Object.assign({ id: buffId, originalId,\n                    sources,\n                    effectDelay, duration: turnDuration, value }, targetData));\n            }\n            else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId,\n                    sources,\n                    buffs: [buffId],\n                    duration: turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId,\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        };\n        map.set('1', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const { hits, distribution } = getAttackInformationFromContext(context);\n            const params = {\n                'atk%': '0',\n                flatAtk: '0',\n                'crit%': '0',\n                'bc%': '0',\n                'hc%': '0',\n                'dmg%': '0',\n            };\n            let unknownParams;\n            if (effect.params) {\n                let extraParams;\n                [params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], params['dmg%'], ...extraParams] = splitEffectParams(effect);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n            }\n            else {\n                params['atk%'] = effect['bb atk%'];\n                params.flatAtk = effect['bb flat atk'];\n                params['crit%'] = effect['bb crit%'];\n                params['bc%'] = effect['bb bc%'];\n                params['hc%'] = effect['bb hc%'];\n                params['dmg%'] = effect['bb dmg%'];\n            }\n            const filteredValue = Object.entries(params)\n                .filter(([, value]) => value && +value)\n                .reduce((acc, [key, value]) => {\n                acc[key] = parseNumberOrDefault(value);\n                return acc;\n            }, {});\n            const results = [Object.assign({ id: 'proc:1', originalId: '1', sources,\n                    effectDelay, value: Object.assign(Object.assign({}, filteredValue), { hits,\n                        distribution }) }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '1',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('2', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const params = {\n                healLow: '0',\n                healHigh: '0',\n                'healerRec%': 0,\n            };\n            let unknownParams;\n            if (effect.params) {\n                let recX, recY;\n                let extraParams;\n                [params.healLow, params.healHigh, recX, recY, ...extraParams] = splitEffectParams(effect);\n                params['healerRec%'] = ((100 + parseNumberOrDefault(recX)) * (1 + parseNumberOrDefault(recY) / 100)) / 10;\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n            }\n            else {\n                params.healLow = effect['heal low'];\n                params.healHigh = effect['heal high'];\n                params['healerRec%'] = effect['rec added% (from healer)'];\n            }\n            // ensure every property is a number\n            Object.keys(params).forEach((key) => {\n                params[key] = parseNumberOrDefault(params[key]);\n            });\n            const results = [Object.assign({ id: 'proc:2', originalId: '2', sources,\n                    effectDelay, value: params }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '2',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('3', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const params = {\n                healLow: '0',\n                healHigh: '0',\n                'targetRec%': 0,\n                turnDuration: '0',\n            };\n            let unknownParams;\n            if (effect.params) {\n                let rec;\n                let extraParams;\n                [params.healLow, params.healHigh, rec, params.turnDuration, ...extraParams] = splitEffectParams(effect);\n                params['targetRec%'] = (1 + parseNumberOrDefault(rec) / 100) * 10;\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n            }\n            else {\n                params.healLow = effect['gradual heal low'];\n                params.healHigh = effect['gradual heal high'];\n                params['targetRec%'] = effect['rec added% (from target)'];\n                params.turnDuration = effect['gradual heal turns (8)'];\n            }\n            // ensure every property is a number\n            Object.keys(params).forEach((key) => {\n                params[key] = parseNumberOrDefault(params[key]);\n            });\n            const hasAnyHealValues = params.healLow !== 0 || params.healHigh !== 0;\n            const results = [];\n            if (hasAnyHealValues) {\n                results.push(Object.assign({ id: 'proc:3', originalId: '3', sources,\n                    effectDelay, duration: params.turnDuration, value: {\n                        healLow: params.healLow,\n                        healHigh: params.healHigh,\n                        'targetRec%': params['targetRec%'],\n                    } }, targetData));\n            }\n            else if (isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '3',\n                    sources,\n                    buffs: ['proc:3'],\n                    duration: params.turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '3',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('4', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let flatFill = 0;\n            let percentFill = 0;\n            let unknownParams;\n            if (effect.params) {\n                const [rawFlatFill, rawPercentFill, ...extraParams] = splitEffectParams(effect);\n                flatFill = parseNumberOrDefault(rawFlatFill);\n                percentFill = parseNumberOrDefault(rawPercentFill);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n            }\n            else {\n                if ('bb bc fill' in effect) {\n                    flatFill = parseNumberOrDefault(effect['bb bc fill']);\n                }\n                if ('bb bc fill%' in effect) {\n                    percentFill = parseNumberOrDefault(effect['bb bc fill%']);\n                }\n            }\n            const results = [];\n            if (flatFill !== 0) {\n                results.push(Object.assign({ id: 'proc:4:flat', originalId: '4', sources,\n                    effectDelay, value: flatFill }, targetData));\n            }\n            if (percentFill !== 0) {\n                results.push(Object.assign({ id: 'proc:4:percent', originalId: '4', sources,\n                    effectDelay, value: percentFill }, targetData));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '4',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('5', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const params = {\n                element: BuffConditionElement.All,\n                atk: '0',\n                def: '0',\n                rec: '0',\n                crit: '0',\n                turnDuration: '0',\n            };\n            const coreStatProperties = ['atk', 'def', 'rec', 'crit'];\n            let unknownParams;\n            if (effect.params) {\n                let extraParams;\n                let rawElement;\n                [rawElement, params.atk, params.def, params.rec, params.crit, params.turnDuration, ...extraParams] = splitEffectParams(effect);\n                params.element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n            }\n            else {\n                const effectElement = effect['element buffed'];\n                if (effectElement === 'all') {\n                    params.element = BuffConditionElement.All;\n                }\n                else if (!effectElement) {\n                    params.element = BuffConditionElement.Unknown;\n                }\n                else {\n                    params.element = effectElement;\n                }\n                const keys = Object.keys(effect);\n                coreStatProperties.forEach((statType) => {\n                    const effectKey = keys.find((k) => k.startsWith(`${statType}% buff`));\n                    if (effectKey) {\n                        params[statType] = parseNumberOrDefault(effect[effectKey]);\n                    }\n                });\n                params.turnDuration = parseNumberOrDefault(effect['buff turns']);\n            }\n            // ensure numerical properties are actually numbers\n            coreStatProperties.concat(['turnDuration']).forEach((prop) => {\n                params[prop] = parseNumberOrDefault(params[prop]);\n            });\n            const hasAnyStats = coreStatProperties.some((statKey) => params[statKey] !== 0);\n            const results = [];\n            if (hasAnyStats) {\n                coreStatProperties.forEach((statKey) => {\n                    const value = params[statKey];\n                    if (value !== 0) {\n                        const buffEntry = Object.assign({ id: `proc:5:${statKey}`, originalId: '5', sources,\n                            effectDelay, duration: params.turnDuration, value }, targetData);\n                        if (params.element !== BuffConditionElement.All) {\n                            buffEntry.conditions = {\n                                targetElements: [params.element],\n                            };\n                        }\n                        results.push(buffEntry);\n                    }\n                });\n            }\n            else if (isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '5',\n                    sources,\n                    buffs: coreStatProperties.map((statKey) => `proc:5:${statKey}`),\n                    duration: params.turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '5',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('6', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const params = {\n                bc: '0',\n                hc: '0',\n                item: '0',\n                turnDuration: '0',\n            };\n            const dropRateProperties = ['bc', 'hc', 'item'];\n            let unknownParams;\n            if (effect.params) {\n                let extraParams;\n                [params.bc, params.hc, params.item, params.turnDuration, ...extraParams] = splitEffectParams(effect);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n            }\n            else {\n                params.bc = effect['bc drop rate% buff (10)'];\n                params.hc = effect['hc drop rate% buff (9)'];\n                params.item = effect['item drop rate% buff (11)'];\n                params.turnDuration = effect['drop buff rate turns'];\n            }\n            dropRateProperties.concat(['turnDuration']).forEach((prop) => {\n                params[prop] = parseNumberOrDefault(params[prop]);\n            });\n            const hasAnyRates = dropRateProperties.some((key) => params[key] !== 0);\n            const results = [];\n            if (hasAnyRates) {\n                dropRateProperties.forEach((key) => {\n                    const value = params[key];\n                    if (value !== 0) {\n                        results.push(Object.assign({ id: `proc:6:${key}`, originalId: '6', sources,\n                            effectDelay, duration: params.turnDuration, value }, targetData));\n                    }\n                });\n            }\n            else if (isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '6',\n                    sources,\n                    buffs: dropRateProperties.map((key) => `proc:6:${key}`),\n                    duration: params.turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '6',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('7', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let recoveredHpPercent = 0;\n            let unknownParams;\n            if (effect.params) {\n                const [rawRecoveredHp, ...extraParams] = splitEffectParams(effect);\n                recoveredHpPercent = parseNumberOrDefault(rawRecoveredHp);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 1, injectionContext);\n            }\n            else {\n                recoveredHpPercent = parseNumberOrDefault(effect['angel idol recover hp%']);\n            }\n            const results = [Object.assign({ id: 'proc:7', originalId: '7', sources,\n                    effectDelay, value: recoveredHpPercent }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '7',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('8', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let flatHpBoost = 0;\n            let percentHpBoost = 0;\n            let unknownParams;\n            if (effect.params) {\n                const [rawFlatBoost, rawPercentBoost, ...extraParams] = splitEffectParams(effect);\n                flatHpBoost = parseNumberOrDefault(rawFlatBoost);\n                percentHpBoost = parseNumberOrDefault(rawPercentBoost);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n            }\n            else {\n                if ('max hp increase' in effect) {\n                    flatHpBoost = parseNumberOrDefault(effect['max hp increase']);\n                }\n                if ('max hp% increase' in effect) {\n                    percentHpBoost = parseNumberOrDefault(effect['max hp% increase']);\n                }\n            }\n            const results = [];\n            if (flatHpBoost !== 0) {\n                results.push(Object.assign({ id: 'proc:8:flat', originalId: '8', sources,\n                    effectDelay, value: flatHpBoost }, targetData));\n            }\n            if (percentHpBoost !== 0) {\n                results.push(Object.assign({ id: 'proc:8:percent', originalId: '8', sources,\n                    effectDelay, value: percentHpBoost }, targetData));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '8',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('9', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const STAT_TYPE_MAPPING = {\n                0: 'atk',\n                1: 'def',\n                2: 'rec',\n            };\n            const coreStatProperties = ['atk', 'def', 'rec'];\n            const params = {\n                element: BuffConditionElement.All,\n                statReductionEntries: [],\n                turnDuration: 0,\n            };\n            let unknownParams;\n            if (effect.params) {\n                const [rawElement, statType1, value1, procChance1, statType2, value2, procChance2, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n                params.element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n                params.turnDuration = parseNumberOrDefault(rawTurnDuration);\n                [\n                    [statType1, value1, procChance1],\n                    [statType2, value2, procChance2],\n                ].forEach(([rawStatType, rawValue, rawProcChance]) => {\n                    const statType = parseNumberOrDefault(rawStatType) - 1;\n                    const value = parseNumberOrDefault(rawValue);\n                    const chance = parseNumberOrDefault(rawProcChance);\n                    if (statType === 3) { // all stats\n                        params.statReductionEntries.push(...coreStatProperties.map((stat) => ({\n                            stat,\n                            value,\n                            chance,\n                        })));\n                    }\n                    else {\n                        params.statReductionEntries.push({\n                            stat: STAT_TYPE_MAPPING[statType] || 'unknown',\n                            value,\n                            chance,\n                        });\n                    }\n                });\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 8, injectionContext);\n            }\n            else {\n                const effectElement = effect['element buffed'];\n                if (effectElement === 'all') {\n                    params.element = BuffConditionElement.All;\n                }\n                else if (!effectElement) {\n                    params.element = BuffConditionElement.Unknown;\n                }\n                else {\n                    params.element = effectElement;\n                }\n                ['buff #1', 'buff #2'].forEach((buffKey) => {\n                    const entry = effect[buffKey];\n                    if (entry) {\n                        const chance = parseNumberOrDefault(entry['proc chance%']);\n                        const keys = Object.keys(entry);\n                        coreStatProperties.forEach((statType) => {\n                            const effectKey = keys.find((k) => k.startsWith(`${statType}% buff`));\n                            if (effectKey) {\n                                params.statReductionEntries.push({\n                                    stat: statType,\n                                    value: parseNumberOrDefault(entry[effectKey]),\n                                    chance,\n                                });\n                            }\n                        });\n                    }\n                });\n                params.turnDuration = parseNumberOrDefault(effect['buff turns']);\n            }\n            const results = [];\n            let hasAnyValues = false;\n            params.statReductionEntries.forEach(({ stat, value, chance }) => {\n                if (value !== 0 || chance !== 0) {\n                    hasAnyValues = true;\n                    const buffEntry = Object.assign({ id: `proc:9:${stat}`, originalId: '9', sources,\n                        effectDelay, duration: params.turnDuration, value: { value, chance } }, targetData);\n                    if (params.element !== BuffConditionElement.All) {\n                        buffEntry.conditions = {\n                            targetElements: [params.element],\n                        };\n                    }\n                    results.push(buffEntry);\n                }\n            });\n            if (!hasAnyValues && isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '9',\n                    sources,\n                    buffs: coreStatProperties.map((statKey) => `proc:9:${statKey}`),\n                    duration: params.turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '9',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('10', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const curedAilments = [];\n            let unknownParams;\n            if (effect.params) {\n                const splitParams = splitEffectParams(effect);\n                const knownParams = splitParams.slice(0, 8);\n                const extraParams = splitParams.slice(8);\n                knownParams\n                    .filter((p) => p !== '0')\n                    .forEach((param) => {\n                    curedAilments.push(AILMENT_MAPPING[param] || Ailment.Unknown);\n                });\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 8, injectionContext);\n            }\n            else {\n                Object.values(AILMENT_MAPPING).forEach((ailment) => {\n                    if (`remove ${ailment}` in effect) { // mainly for items\n                        curedAilments.push(ailment);\n                    }\n                });\n                if ('remove all status ailments' in effect) {\n                    curedAilments.push(Ailment.Unknown); // generic value for skills; unknown at a glance which ailments are cured\n                }\n            }\n            const results = curedAilments.map((ailment) => (Object.assign({ id: `proc:10:${ailment}`, originalId: '10', sources,\n                effectDelay, value: true }, targetData)));\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '10',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('11', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const inflictedAilments = [];\n            let unknownParams;\n            if (effect.params) {\n                let params = splitEffectParams(effect);\n                if (params.length % 2 !== 0 && params[params.length - 1] !== '0') {\n                    unknownParams = createUnknownParamsEntryFromExtraParams(params.slice(-1), params.length - 1, injectionContext);\n                    params = params.slice(0, params.length - 1);\n                }\n                const numParams = params.length;\n                for (let index = 0; index < numParams; index += 2) {\n                    const ailmentValue = params[index];\n                    const chance = parseNumberOrDefault(params[index + 1]);\n                    if (ailmentValue !== '0' || chance !== 0) {\n                        const ailmentType = AILMENT_MAPPING[ailmentValue] || Ailment.Unknown;\n                        inflictedAilments.push({\n                            ailment: ailmentType,\n                            chance,\n                        });\n                    }\n                }\n            }\n            else {\n                Object.values(AILMENT_MAPPING).forEach((ailment) => {\n                    let effectKey;\n                    if (ailment === Ailment.Weak) {\n                        effectKey = 'weaken%';\n                    }\n                    else if (ailment === Ailment.AttackReduction || ailment === Ailment.DefenseReduction || ailment === Ailment.RecoveryReduction) {\n                        effectKey = ailment;\n                    }\n                    else {\n                        effectKey = `${ailment}%`;\n                    }\n                    if (effectKey in effect) {\n                        inflictedAilments.push({\n                            ailment,\n                            chance: parseNumberOrDefault(effect[effectKey]),\n                        });\n                    }\n                });\n            }\n            const results = inflictedAilments.map(({ ailment, chance }) => (Object.assign({ id: `proc:11:${ailment}`, originalId: '11', sources,\n                effectDelay, value: chance }, targetData)));\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '11',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('12', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let reviveToHp = 0;\n            let unknownParams;\n            if (effect.params) {\n                const [rawReviveToHp, ...extraParams] = splitEffectParams(effect);\n                reviveToHp = parseNumberOrDefault(rawReviveToHp);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 1, injectionContext);\n            }\n            else {\n                reviveToHp = parseNumberOrDefault(effect['revive to hp%']);\n            }\n            const results = [Object.assign({ id: 'proc:12', originalId: '12', sources,\n                    effectDelay, value: reviveToHp }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '12',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('13', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let hits = 0;\n            const { distribution } = getAttackInformationFromContext(context);\n            const params = {\n                'atk%': '0',\n                flatAtk: '0',\n                'crit%': '0',\n                'bc%': '0',\n                'hc%': '0',\n            };\n            let unknownParams;\n            if (effect.params) {\n                let extraParams;\n                let rawHits;\n                [params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], rawHits, ...extraParams] = splitEffectParams(effect);\n                hits = parseNumberOrDefault(rawHits);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n            }\n            else {\n                params['atk%'] = effect['bb atk%'];\n                params.flatAtk = effect['bb flat atk'];\n                params['crit%'] = effect['bb crit%'];\n                params['bc%'] = effect['bb bc%'];\n                params['hc%'] = effect['bb hc%'];\n                hits = parseNumberOrDefault(effect.hits);\n            }\n            const filteredValue = Object.entries(params)\n                .filter(([, value]) => value && +value)\n                .reduce((acc, [key, value]) => {\n                acc[key] = parseNumberOrDefault(value);\n                return acc;\n            }, {});\n            const results = [{\n                    id: 'proc:13',\n                    originalId: '13',\n                    sources,\n                    effectDelay,\n                    value: Object.assign(Object.assign({}, filteredValue), { hits,\n                        distribution }),\n                    targetType: targetData.targetType,\n                    targetArea: TargetArea.Random,\n                }];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '13',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('14', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const { hits, distribution } = getAttackInformationFromContext(context);\n            const params = {\n                'atk%': '0',\n                flatAtk: '0',\n                'crit%': '0',\n                'bc%': '0',\n                'hc%': '0',\n                'dmg%': '0',\n                'drainLow%': '0',\n                'drainHigh%': '0',\n            };\n            let unknownParams;\n            if (effect.params) {\n                let extraParams;\n                [params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], params['dmg%'], params['drainLow%'], params['drainHigh%'], ...extraParams] = splitEffectParams(effect);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 8, injectionContext);\n            }\n            else {\n                params['atk%'] = effect['bb atk%'];\n                params.flatAtk = effect['bb flat atk'];\n                params['crit%'] = effect['bb crit%'];\n                params['bc%'] = effect['bb bc%'];\n                params['hc%'] = effect['bb hc%'];\n                params['dmg%'] = effect['bb dmg%'];\n                params['drainLow%'] = effect['hp drain% low'];\n                params['drainHigh%'] = effect['hp drain% high'];\n            }\n            const filteredValue = Object.entries(params)\n                .filter(([, value]) => value && +value)\n                .reduce((acc, [key, value]) => {\n                acc[key] = parseNumberOrDefault(value);\n                return acc;\n            }, {});\n            const results = [Object.assign({ id: 'proc:14', originalId: '14', sources,\n                    effectDelay, value: Object.assign(Object.assign({}, filteredValue), { hits,\n                        distribution }) }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '14',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('16', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let mitigation = 0;\n            let element;\n            let turnDuration = 0;\n            let unknownParams;\n            if (effect.params) {\n                const [rawElement, rawMitigation, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n                element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n                mitigation = parseNumberOrDefault(rawMitigation);\n                turnDuration = parseNumberOrDefault(rawTurnDuration);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 3, injectionContext);\n            }\n            else {\n                const mitigationKey = Object.keys(effect).find((k) => k.startsWith('mitigate'));\n                element = (mitigationKey && Object.values(ELEMENT_MAPPING).find((e) => mitigationKey.includes(e))) || BuffConditionElement.Unknown;\n                if (mitigationKey) {\n                    mitigation = parseNumberOrDefault(effect[mitigationKey]);\n                }\n                turnDuration = parseNumberOrDefault(effect['buff turns']);\n            }\n            const results = [];\n            if (mitigation !== 0) {\n                results.push(Object.assign({ id: `proc:16:${element}`, originalId: '16', sources,\n                    effectDelay, duration: turnDuration, value: mitigation }, targetData));\n            }\n            else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '16',\n                    sources,\n                    buffs: Object.values(ELEMENT_MAPPING).concat([BuffConditionElement.Unknown]).map((e) => `proc:16:${e}`),\n                    duration: turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '16',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('17', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const AILMENTS_ORDER = [Ailment.Poison, Ailment.Weak, Ailment.Sick, Ailment.Injury, Ailment.Curse, Ailment.Paralysis];\n            const resistances = {\n                poison: '0',\n                weak: '0',\n                sick: '0',\n                injury: '0',\n                curse: '0',\n                paralysis: '0',\n            };\n            let turnDuration = 0;\n            let unknownParams;\n            if (effect.params) {\n                let rawDuration, extraParams;\n                [resistances.poison, resistances.weak, resistances.sick, resistances.injury, resistances.curse, resistances.paralysis, rawDuration, ...extraParams] = splitEffectParams(effect);\n                turnDuration = parseNumberOrDefault(rawDuration);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 7, injectionContext);\n            }\n            else {\n                const ailmentKeysInEffect = Object.keys(effect).filter((k) => k.startsWith('resist'));\n                AILMENTS_ORDER.forEach((ailment) => {\n                    const correspondingKey = ailmentKeysInEffect.find((k) => k.includes(ailment));\n                    if (correspondingKey) {\n                        resistances[ailment] = effect[correspondingKey];\n                    }\n                });\n                turnDuration = parseNumberOrDefault(effect['resist status ails turns']);\n            }\n            const results = [];\n            AILMENTS_ORDER.forEach((ailment) => {\n                const value = parseNumberOrDefault(resistances[ailment]);\n                if (value !== 0) {\n                    results.push(Object.assign({ id: `proc:17:${ailment}`, originalId: '17', sources,\n                        effectDelay,\n                        value, duration: turnDuration }, targetData));\n                }\n            });\n            if (results.length === 0 && isTurnDurationBuff(context, turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '17',\n                    sources,\n                    buffs: AILMENTS_ORDER.map((a) => `proc:17:${a}`),\n                    duration: turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '17',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('18', (effect, context, injectionContext) => {\n            return parseProcWithSingleNumericalParameterAndTurnDuration({\n                effect,\n                context,\n                injectionContext,\n                effectValueKey: 'dmg% reduction',\n                effectTurnDurationKey: 'dmg% reduction turns (36)',\n                buffId: 'proc:18',\n                originalId: '18',\n            });\n        });\n        map.set('19', (effect, context, injectionContext) => {\n            return parseProcWithSingleNumericalParameterAndTurnDuration({\n                effect,\n                context,\n                injectionContext,\n                effectValueKey: 'increase bb gauge gradual',\n                effectTurnDurationKey: 'increase bb gauge gradual turns (37)',\n                parseParamValue: (rawValue) => parseNumberOrDefault(rawValue) / 100,\n                buffId: 'proc:19',\n                originalId: '19',\n            });\n        });\n        map.set('20', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let fillLow = 0;\n            let fillHigh = 0;\n            let chance = 0;\n            let turnDuration = 0;\n            let unknownParams;\n            if (effect.params) {\n                const [rawFillLow, rawFillHigh, rawChance, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n                fillLow = parseNumberOrDefault(rawFillLow) / 100;\n                fillHigh = parseNumberOrDefault(rawFillHigh) / 100;\n                chance = parseNumberOrDefault(rawChance);\n                turnDuration = parseNumberOrDefault(rawTurnDuration);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n            }\n            else {\n                fillLow = parseNumberOrDefault(effect['bc fill when attacked low']);\n                fillHigh = parseNumberOrDefault(effect['bc fill when attacked high']);\n                chance = parseNumberOrDefault(effect['bc fill when attacked%']);\n                turnDuration = parseNumberOrDefault(effect['bc fill when attacked turns (38)']);\n            }\n            const hasAnyFillValues = fillLow !== 0 || fillHigh !== 0;\n            const results = [];\n            if (hasAnyFillValues) {\n                results.push(Object.assign({ id: 'proc:20', originalId: '20', sources,\n                    effectDelay, duration: turnDuration, conditions: {\n                        whenAttacked: true,\n                    }, value: {\n                        fillLow,\n                        fillHigh,\n                        chance,\n                    } }, targetData));\n            }\n            else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '20',\n                    sources,\n                    buffs: ['proc:20'],\n                    duration: turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '20',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('22', (effect, context, injectionContext) => {\n            return parseProcWithSingleNumericalParameterAndTurnDuration({\n                effect,\n                context,\n                injectionContext,\n                effectValueKey: 'defense% ignore',\n                effectTurnDurationKey: 'defense% ignore turns (39)',\n                buffId: 'proc:22',\n                originalId: '22',\n            });\n        });\n        map.set('23', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let value = 0, turnDuration = 0;\n            let unknownParams;\n            if (effect.params) {\n                const params = splitEffectParams(effect);\n                value = parseNumberOrDefault(params[0]);\n                turnDuration = parseNumberOrDefault(params[6]);\n                const extraParams = ['0', ...params.slice(1, 6), '0', ...params.slice(7)];\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 0, injectionContext);\n            }\n            else {\n                value = parseNumberOrDefault(effect['spark dmg% buff (40)']);\n                turnDuration = parseNumberOrDefault(effect['buff turns']);\n            }\n            const results = [];\n            if (value !== 0) {\n                results.push(Object.assign({ id: 'proc:23', originalId: '23', sources,\n                    effectDelay, duration: turnDuration, value }, targetData));\n            }\n            else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '23',\n                    sources,\n                    buffs: ['proc:23'],\n                    duration: turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '23',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('24', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const coreStatProperties = ['atk', 'def', 'rec'];\n            const coreStatPropertyMapping = {\n                1: 'atk',\n                2: 'def',\n                3: 'rec',\n                4: 'hp',\n            };\n            const effectToCoreStatMapping = {\n                attack: 'atk',\n                defense: 'def',\n                recovery: 'rec',\n                hp: 'hp',\n            };\n            const stats = {\n                atk: '0',\n                def: '0',\n                rec: '0',\n            };\n            let turnDuration = 0;\n            let convertedStat = 'unknown';\n            let unknownParams;\n            if (effect.params) {\n                let extraParams;\n                let rawConvertedStat, rawTurnDuration;\n                [rawConvertedStat, stats.atk, stats.def, stats.rec, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n                convertedStat = coreStatPropertyMapping[rawConvertedStat] || 'unknown';\n                turnDuration = parseNumberOrDefault(rawTurnDuration);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n            }\n            else {\n                const rawConvertedStat = effect['converted attribute'];\n                if (rawConvertedStat in effectToCoreStatMapping) {\n                    convertedStat = effectToCoreStatMapping[rawConvertedStat];\n                }\n                else {\n                    convertedStat = 'unknown';\n                }\n                const keys = Object.keys(effect);\n                coreStatProperties.forEach((statType) => {\n                    const effectKey = keys.find((k) => k.startsWith(`${statType}% buff`));\n                    if (effectKey) {\n                        stats[statType] = parseNumberOrDefault(effect[effectKey]);\n                    }\n                });\n                turnDuration = parseNumberOrDefault(effect['% converted turns']);\n            }\n            const results = [];\n            coreStatProperties.forEach((stat) => {\n                const value = parseNumberOrDefault(stats[stat]);\n                if (value !== 0) {\n                    results.push(Object.assign({ id: `proc:24:${stat}`, originalId: '24', sources,\n                        effectDelay, duration: turnDuration, value: {\n                            convertedStat,\n                            value,\n                        } }, targetData));\n                }\n            });\n            if (results.length === 0 && isTurnDurationBuff(context, turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '24',\n                    sources,\n                    buffs: coreStatProperties.map((statKey) => `proc:24:${statKey}`),\n                    duration: turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '24',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('26', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            let hitIncreasePerHit = 0, extraHitDamage = 0, turnDuration = 0;\n            let unknownParams;\n            if (effect.params) {\n                const params = splitEffectParams(effect);\n                hitIncreasePerHit = parseNumberOrDefault(params[0]);\n                extraHitDamage = parseNumberOrDefault(params[2]);\n                turnDuration = parseNumberOrDefault(params[7]);\n                const extraParams = ['0', params[1], '0', ...params.slice(3, 7), '0', ...params.slice(8)];\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 0, injectionContext);\n            }\n            else {\n                hitIncreasePerHit = parseNumberOrDefault(effect['hit increase/hit']);\n                extraHitDamage = parseNumberOrDefault(effect['extra hits dmg%']);\n                turnDuration = parseNumberOrDefault(effect['hit increase buff turns (50)']);\n            }\n            const results = [];\n            if (hitIncreasePerHit !== 0 || extraHitDamage !== 0) {\n                results.push(Object.assign({ id: 'proc:26', originalId: '26', sources,\n                    effectDelay, duration: turnDuration, value: {\n                        hitIncreasePerHit,\n                        extraHitDamage,\n                    } }, targetData));\n            }\n            else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n                results.push(createTurnDurationEntry({\n                    originalId: '26',\n                    sources,\n                    buffs: ['proc:26'],\n                    duration: turnDuration,\n                    targetData,\n                }));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '26',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n        map.set('27', (effect, context, injectionContext) => {\n            const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const { hits, distribution } = getAttackInformationFromContext(context);\n            const params = {\n                'hpDamageLow%': '0',\n                'hpDamageHigh%': '0',\n                'hpDamageChance%': '0',\n                'atk%': '0',\n                flatAtk: '0',\n                'crit%': '0',\n                'bc%': '0',\n                'hc%': '0',\n                'dmg%': '0',\n            };\n            let unknownParams;\n            if (effect.params) {\n                let extraParams;\n                [params['hpDamageLow%'], params['hpDamageHigh%'], params['hpDamageChance%'], params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], params['dmg%'], ...extraParams] = splitEffectParams(effect);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 9, injectionContext);\n            }\n            else {\n                params['hpDamageLow%'] = effect['hp% damage low'];\n                params['hpDamageHigh%'] = effect['hp% damage high'];\n                params['hpDamageChance%'] = effect['hp% damage chance%'];\n                params['atk%'] = effect['bb atk%'];\n                params.flatAtk = effect['bb flat atk'];\n                params['crit%'] = effect['bb crit%'];\n                params['bc%'] = effect['bb bc%'];\n                params['hc%'] = effect['bb hc%'];\n                params['dmg%'] = effect['bb dmg%'];\n            }\n            const filteredValue = Object.entries(params)\n                .filter(([, value]) => value && +value)\n                .reduce((acc, [key, value]) => {\n                acc[key] = parseNumberOrDefault(value);\n                return acc;\n            }, {});\n            const results = [Object.assign({ id: 'proc:27', originalId: '27', sources,\n                    effectDelay, value: Object.assign(Object.assign({}, filteredValue), { hits,\n                        distribution }) }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '27',\n                    sources,\n                    targetData,\n                    effectDelay,\n                }));\n            }\n            return results;\n        });\n    }\n\n    /**\n     * @description Default function for all effects that cannot be processed.\n     * @param effect Effect to convert to `IBuff` format.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @returns Converted buff(s) from the given proc effect.\n     */\n    function defaultConversionFunction(effect, context) {\n        const id = (isProcEffect(effect) && getEffectId(effect)) || KNOWN_PROC_ID.Unknown;\n        return [{\n                id: BuffId.UNKNOWN_PROC_EFFECT_ID,\n                originalId: id,\n                effectDelay: effect['effect delay time(ms)/frame'],\n                targetType: effect['target type'],\n                targetArea: effect['target area'],\n                sources: createSourcesFromContext(context),\n            }];\n    }\n    /**\n     * @description Extract the buff(s) from a given proc effect object.\n     * If the buff is not supported, the resulting buff type will be `BuffStackType.Unknown` (see {@link BuffStackType} for more info).\n     * @param effect Proc effect object to extract buffs from.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @returns A collection of one or more buffs found in the given proc effect object.\n     */\n    function convertProcEffectToBuffs(effect, context) {\n        if (!effect || typeof effect !== 'object') {\n            throw new TypeError('effect parameter should be an object');\n        }\n        if (!context || typeof context !== 'object') {\n            throw new TypeError('context parameter should be an object');\n        }\n        const id = (isProcEffect(effect) && getEffectId(effect));\n        const conversionFunction = (id && getProcEffectToBuffMapping(context.reloadMapping).get(id));\n        // TODO: warning if result is empty?\n        return typeof conversionFunction === 'function'\n            ? conversionFunction(effect, context)\n            : defaultConversionFunction(effect, context);\n    }\n\n    let mapping$1;\n    /**\n     * @description Retrieve the passive-to-buff conversion function mapping for the library. Internally, this is a\n     * lazy-loaded singleton to not impact first-load performance.\n     * @param reload Optionally re-create the mapping.\n     * @returns Mapping of passive IDs to functions.\n     */\n    function getPassiveEffectToBuffMapping(reload) {\n        if (!mapping$1 || reload) {\n            mapping$1 = new Map();\n            setMapping$1(mapping$1);\n        }\n        return mapping$1;\n    }\n    /**\n     * @description Apply the mapping of passive effect IDs to conversion functions to the given Map object.\n     * @param map Map to add conversion mapping onto.\n     * @returns Does not return anything.\n     * @internal\n     */\n    function setMapping$1(map) {\n        const ELEMENT_MAPPING = {\n            1: UnitElement.Fire,\n            2: UnitElement.Water,\n            3: UnitElement.Earth,\n            4: UnitElement.Thunder,\n            5: UnitElement.Light,\n            6: UnitElement.Dark,\n            X: BuffConditionElement.OmniParadigm,\n        };\n        const TYPE_MAPPING = {\n            1: UnitType.Lord,\n            2: UnitType.Anima,\n            3: UnitType.Breaker,\n            4: UnitType.Guardian,\n            5: UnitType.Oracle,\n            6: UnitType.Rex,\n        };\n        const AILMENT_MAPPING = {\n            1: Ailment.Poison,\n            2: Ailment.Weak,\n            3: Ailment.Sick,\n            4: Ailment.Injury,\n            5: Ailment.Curse,\n            6: Ailment.Paralysis,\n            7: Ailment.AttackReduction,\n            8: Ailment.DefenseReduction,\n            9: Ailment.RecoveryReduction,\n        };\n        const STATS_ORDER = ['atk', 'def', 'rec', 'crit', 'hp'];\n        const AILMENTS_ORDER = ['poison', 'weak', 'sick', 'injury', 'curse', 'paralysis'];\n        const retrieveCommonInfoForEffects = (effect, context, injectionContext) => {\n            const conditionInfo = ((injectionContext && injectionContext.processExtraSkillConditions) || processExtraSkillConditions)(effect);\n            const targetData = ((injectionContext && injectionContext.getPassiveTargetData) || getPassiveTargetData)(effect, context);\n            const sources = ((injectionContext && injectionContext.createSourcesFromContext) || createSourcesFromContext)(context);\n            return { conditionInfo, targetData, sources };\n        };\n        // Disable rule as this function is only called once it's confirmed that `effect.params` exists\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const splitEffectParams = (effect) => effect.params.split(',');\n        const createUnknownParamsEntry = (unknownParams, { originalId, sources, targetData, conditionInfo, }) => (Object.assign({ id: BuffId.UNKNOWN_PASSIVE_BUFF_PARAMS, originalId,\n            sources, value: unknownParams, conditions: Object.assign({}, conditionInfo) }, targetData));\n        const createUnknownParamsEntryFromExtraParams = (extraParams, startIndex, injectionContext) => {\n            let unknownParams;\n            if (extraParams && extraParams.length > 0) {\n                unknownParams = ((injectionContext && injectionContext.createUnknownParamsValue) || createUnknownParamsValue)(extraParams, startIndex);\n            }\n            return unknownParams;\n        };\n        const parsePassiveWithSingleNumericalParameter = ({ effect, context, injectionContext, originalId, effectKey, buffId, }) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            let value = 0;\n            let unknownParams;\n            if (typedEffect.params) {\n                const [rawValue, ...extraParams] = splitEffectParams(typedEffect);\n                value = parseNumberOrDefault(rawValue);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 1, injectionContext);\n            }\n            else {\n                value = parseNumberOrDefault(typedEffect[effectKey]);\n            }\n            if (value !== 0) {\n                results.push(Object.assign({ id: buffId, originalId,\n                    sources,\n                    value, conditions: Object.assign({}, conditionInfo) }, targetData));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId,\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        };\n        const parsePassiveWithNumericalValueRangeAndChance = ({ effect, context, injectionContext, originalId, effectKeyLow, effectKeyHigh, effectKeyChance, buffKeyLow, buffKeyHigh, defaultEffectChance = 0, parseParamValue = (rawValue) => parseNumberOrDefault(rawValue), generateBaseConditions = () => ({}), buffId, }) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            let valueLow, valueHigh, chance;\n            let unknownParams;\n            if (typedEffect.params) {\n                const [rawLowValue, rawHighValue, rawChance, ...extraParams] = splitEffectParams(typedEffect);\n                valueLow = parseParamValue(rawLowValue);\n                valueHigh = parseParamValue(rawHighValue);\n                chance = parseNumberOrDefault(rawChance);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 3, injectionContext);\n            }\n            else {\n                valueLow = parseNumberOrDefault(typedEffect[effectKeyLow]);\n                valueHigh = parseNumberOrDefault(typedEffect[effectKeyHigh]);\n                chance = parseNumberOrDefault(typedEffect[effectKeyChance], defaultEffectChance);\n            }\n            const results = [Object.assign({ id: buffId, originalId,\n                    sources, value: {\n                        [buffKeyLow]: valueLow,\n                        [buffKeyHigh]: valueHigh,\n                        chance,\n                    }, conditions: Object.assign(Object.assign({}, conditionInfo), generateBaseConditions()) }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId,\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        };\n        map.set('1', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            const stats = {\n                atk: '0',\n                def: '0',\n                rec: '0',\n                crit: '0',\n                hp: '0',\n            };\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                [stats.atk, stats.def, stats.rec, stats.crit, stats.hp, ...extraParams] = splitEffectParams(typedEffect);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n            }\n            else {\n                stats.hp = typedEffect['hp% buff'];\n                stats.atk = typedEffect['atk% buff'];\n                stats.def = typedEffect['def% buff'];\n                stats.rec = typedEffect['rec% buff'];\n                stats.crit = typedEffect['crit% buff'];\n            }\n            STATS_ORDER.forEach((stat) => {\n                const value = parseNumberOrDefault(stats[stat]);\n                if (value !== 0) {\n                    results.push(Object.assign({ id: `passive:1:${stat}`, originalId: '1', sources,\n                        value, conditions: Object.assign({}, conditionInfo) }, targetData));\n                }\n            });\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '1',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('2', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            const stats = {\n                elements: [],\n                atk: '0',\n                def: '0',\n                rec: '0',\n                crit: '0',\n                hp: '0',\n            };\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                let element1, element2;\n                [element1, element2, stats.atk, stats.def, stats.rec, stats.crit, stats.hp, ...extraParams] = splitEffectParams(typedEffect);\n                [element1, element2].forEach((elementValue) => {\n                    if (elementValue && elementValue !== '0') {\n                        stats.elements.push(ELEMENT_MAPPING[elementValue] || BuffConditionElement.Unknown);\n                    }\n                });\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 7, injectionContext);\n            }\n            else {\n                stats.elements = typedEffect['elements buffed'];\n                stats.hp = typedEffect['hp% buff'];\n                stats.atk = typedEffect['atk% buff'];\n                stats.def = typedEffect['def% buff'];\n                stats.rec = typedEffect['rec% buff'];\n                stats.crit = typedEffect['crit% buff'];\n            }\n            const createBaseStatObject = (stat) => (Object.assign({ id: `passive:2:${stat}`, originalId: '2', sources, value: parseNumberOrDefault(stats[stat]) }, targetData));\n            if (stats.elements.length > 0) {\n                stats.elements.forEach((element) => {\n                    STATS_ORDER.forEach((stat) => {\n                        const value = parseNumberOrDefault(stats[stat]);\n                        if (value !== 0) {\n                            results.push(Object.assign(Object.assign({}, createBaseStatObject(stat)), { conditions: Object.assign(Object.assign({}, conditionInfo), { targetElements: [element] }) }));\n                        }\n                    });\n                });\n            }\n            else {\n                STATS_ORDER.forEach((stat) => {\n                    const value = parseNumberOrDefault(stats[stat]);\n                    if (value !== 0) {\n                        results.push(Object.assign(Object.assign({}, createBaseStatObject(stat)), { conditions: Object.assign(Object.assign({}, conditionInfo), { targetElements: [BuffConditionElement.Unknown] }) }));\n                    }\n                });\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '2',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('3', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            const stats = {\n                unitType: '',\n                atk: '0',\n                def: '0',\n                rec: '0',\n                crit: '0',\n                hp: '0',\n            };\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                let unitType;\n                [unitType, stats.atk, stats.def, stats.rec, stats.crit, stats.hp, ...extraParams] = splitEffectParams(typedEffect);\n                if (unitType && unitType !== '0') {\n                    stats.unitType = TYPE_MAPPING[unitType] || 'unknown';\n                }\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n            }\n            else {\n                stats.unitType = typedEffect['unit type buffed'];\n                stats.hp = typedEffect['hp% buff'];\n                stats.atk = typedEffect['atk% buff'];\n                stats.def = typedEffect['def% buff'];\n                stats.rec = typedEffect['rec% buff'];\n                stats.crit = typedEffect['crit% buff'];\n            }\n            const targetUnitType = stats.unitType || 'unknown';\n            STATS_ORDER.forEach((stat) => {\n                const value = parseNumberOrDefault(stats[stat]);\n                if (value !== 0) {\n                    results.push(Object.assign({ id: `passive:3:${stat}`, originalId: '3', sources, value: +value, conditions: Object.assign(Object.assign({}, conditionInfo), { targetUnitType }) }, targetData));\n                }\n            });\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '3',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('4', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            const resistances = {\n                poison: '0',\n                weak: '0',\n                sick: '0',\n                injury: '0',\n                curse: '0',\n                paralysis: '0',\n            };\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                [resistances.poison, resistances.weak, resistances.sick, resistances.injury, resistances.curse, resistances.paralysis, ...extraParams] = splitEffectParams(typedEffect);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n            }\n            else {\n                AILMENTS_ORDER.forEach((ailment) => {\n                    const effectKey = ailment !== 'weak' ? ailment : 'weaken';\n                    resistances[ailment] = typedEffect[`${effectKey} resist%`];\n                });\n            }\n            AILMENTS_ORDER.forEach((ailment) => {\n                const value = parseNumberOrDefault(resistances[ailment]);\n                if (value !== 0) {\n                    results.push(Object.assign({ id: `passive:4:${ailment}`, originalId: '4', sources,\n                        value, conditions: Object.assign({}, conditionInfo) }, targetData));\n                }\n            });\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '4',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('5', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            let element;\n            let mitigation = '0';\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                let rawElement;\n                [rawElement, mitigation, ...extraParams] = splitEffectParams(typedEffect);\n                element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n            }\n            else {\n                element = Object.values(ELEMENT_MAPPING).find((elem) => `${elem} resist%` in effect) || BuffConditionElement.Unknown;\n                if (element !== BuffConditionElement.Unknown) {\n                    mitigation = typedEffect[`${element} resist%`];\n                }\n            }\n            const value = parseNumberOrDefault(mitigation);\n            if (value !== 0) {\n                results.push(Object.assign({ id: `passive:5:${element}`, originalId: '5', sources,\n                    value, conditions: Object.assign({}, conditionInfo) }, targetData));\n            }\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '5',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('8', (effect, context, injectionContext) => {\n            return parsePassiveWithSingleNumericalParameter({\n                effect,\n                context,\n                injectionContext,\n                effectKey: 'dmg% mitigation',\n                buffId: 'passive:8',\n                originalId: '8',\n            });\n        });\n        map.set('9', (effect, context, injectionContext) => {\n            return parsePassiveWithSingleNumericalParameter({\n                effect,\n                context,\n                injectionContext,\n                effectKey: 'bc fill per turn',\n                buffId: 'passive:9',\n                originalId: '9',\n            });\n        });\n        map.set('10', (effect, context, injectionContext) => {\n            return parsePassiveWithSingleNumericalParameter({\n                effect,\n                context,\n                injectionContext,\n                effectKey: 'hc effectiveness%',\n                buffId: 'passive:10',\n                originalId: '10',\n            });\n        });\n        map.set('11', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            const stats = {\n                atk: '0',\n                def: '0',\n                rec: '0',\n                crit: '0',\n            };\n            let requireHpAbove = false;\n            let hpThreshold = 0;\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                let rawRequireHpAboveFlag;\n                let rawHpThreshold;\n                [stats.atk, stats.def, stats.rec, stats.crit, rawHpThreshold, rawRequireHpAboveFlag, ...extraParams] = splitEffectParams(typedEffect);\n                requireHpAbove = rawRequireHpAboveFlag === '1';\n                hpThreshold = parseNumberOrDefault(rawHpThreshold);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n            }\n            else {\n                stats.atk = typedEffect['atk% buff'];\n                stats.def = typedEffect['def% buff'];\n                stats.rec = typedEffect['rec% buff'];\n                stats.crit = typedEffect['crit% buff'];\n                if ('hp above % buff requirement' in typedEffect) {\n                    hpThreshold = parseNumberOrDefault(typedEffect['hp above % buff requirement']);\n                    requireHpAbove = true;\n                }\n                else {\n                    hpThreshold = parseNumberOrDefault(typedEffect['hp below % buff requirement']);\n                    requireHpAbove = false;\n                }\n            }\n            STATS_ORDER.forEach((stat) => {\n                const value = parseNumberOrDefault(stats[stat]);\n                if (stat !== 'hp' && value !== 0) {\n                    const entry = Object.assign({ id: `passive:11:${stat}`, originalId: '11', sources,\n                        value, conditions: Object.assign({}, conditionInfo) }, targetData);\n                    // disabling no-non-null-assertion rule because `conditions` property is defined above\n                    /* eslint-disable @typescript-eslint/no-non-null-assertion */\n                    if (requireHpAbove) {\n                        entry.conditions.hpGreaterThanOrEqualTo = hpThreshold;\n                    }\n                    else {\n                        entry.conditions.hpLessThanOrEqualTo = hpThreshold;\n                    }\n                    /* eslint-enable @typescript-eslint/no-non-null-assertion */\n                    results.push(entry);\n                }\n            });\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '11',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('12', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const DROP_TYPES_ORDER = ['bc', 'hc', 'item', 'zel', 'karma'];\n            const typedEffect = effect;\n            const results = [];\n            const dropRates = {\n                bc: '0',\n                hc: '0',\n                item: '0',\n                zel: '0',\n                karma: '0',\n            };\n            let requireHpAbove = false;\n            let hpThreshold = 0;\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                let rawRequireHpAboveFlag;\n                let rawHpThreshold;\n                [dropRates.bc, dropRates.hc, dropRates.item, dropRates.zel, dropRates.karma, rawHpThreshold, rawRequireHpAboveFlag, ...extraParams] = splitEffectParams(typedEffect);\n                requireHpAbove = rawRequireHpAboveFlag === '1';\n                hpThreshold = parseNumberOrDefault(rawHpThreshold);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 7, injectionContext);\n            }\n            else {\n                DROP_TYPES_ORDER.forEach((dropType) => {\n                    dropRates[dropType] = typedEffect[`${dropType} drop rate% buff`];\n                });\n                if ('hp above % buff requirement' in typedEffect) {\n                    hpThreshold = parseNumberOrDefault(typedEffect['hp above % buff requirement']);\n                    requireHpAbove = true;\n                }\n                else {\n                    hpThreshold = parseNumberOrDefault(typedEffect['hp below % buff requirement']);\n                    requireHpAbove = false;\n                }\n            }\n            DROP_TYPES_ORDER.forEach((dropType) => {\n                const value = parseNumberOrDefault(dropRates[dropType]);\n                if (value !== 0) {\n                    const entry = Object.assign({ id: `passive:12:${dropType}`, originalId: '12', sources,\n                        value, conditions: Object.assign({}, conditionInfo) }, targetData);\n                    // disabling no-non-null-assertion rule because `conditions` property is defined above\n                    /* eslint-disable @typescript-eslint/no-non-null-assertion */\n                    if (requireHpAbove) {\n                        entry.conditions.hpGreaterThanOrEqualTo = hpThreshold;\n                    }\n                    else {\n                        entry.conditions.hpLessThanOrEqualTo = hpThreshold;\n                    }\n                    /* eslint-enable @typescript-eslint/no-non-null-assertion */\n                    results.push(entry);\n                }\n            });\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '12',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('13', (effect, context, injectionContext) => {\n            return parsePassiveWithNumericalValueRangeAndChance({\n                effect,\n                context,\n                injectionContext,\n                originalId: '13',\n                effectKeyLow: 'bc fill on enemy defeat low',\n                effectKeyHigh: 'bc fill on enemy defeat high',\n                effectKeyChance: 'bc fill on enemy defeat%',\n                buffKeyLow: 'fillLow',\n                buffKeyHigh: 'fillHigh',\n                parseParamValue: (rawValue) => parseNumberOrDefault(rawValue) / 100,\n                generateBaseConditions: () => ({ onEnemyDefeat: true }),\n                buffId: 'passive:13',\n            });\n        });\n        map.set('14', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            let damageReduction, chance;\n            let unknownParams;\n            if (typedEffect.params) {\n                const [rawReduction, rawChance, ...extraParams] = splitEffectParams(typedEffect);\n                damageReduction = parseNumberOrDefault(rawReduction);\n                chance = parseNumberOrDefault(rawChance);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n            }\n            else {\n                damageReduction = parseNumberOrDefault(typedEffect['dmg reduction%']);\n                chance = parseNumberOrDefault(typedEffect['dmg reduction chance%']);\n            }\n            const results = [Object.assign({ id: 'passive:14', originalId: '14', sources, value: {\n                        value: damageReduction,\n                        chance,\n                    }, conditions: Object.assign({}, conditionInfo) }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '14',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('15', (effect, context, injectionContext) => {\n            return parsePassiveWithNumericalValueRangeAndChance({\n                effect,\n                context,\n                injectionContext,\n                originalId: '15',\n                effectKeyLow: 'hp% recover on enemy defeat low',\n                effectKeyHigh: 'hp% recover on enemy defeat high',\n                effectKeyChance: 'hp% recover on enemy defeat chance%',\n                buffKeyLow: 'healLow',\n                buffKeyHigh: 'healHigh',\n                generateBaseConditions: () => ({ onEnemyDefeat: true }),\n                defaultEffectChance: 100,\n                buffId: 'passive:15',\n            });\n        });\n        map.set('16', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            let healLow, healHigh;\n            let unknownParams;\n            if (typedEffect.params) {\n                const [rawHealLow, rawHealHigh, ...extraParams] = splitEffectParams(typedEffect);\n                healLow = parseNumberOrDefault(rawHealLow);\n                healHigh = parseNumberOrDefault(rawHealHigh);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n            }\n            else {\n                healLow = parseNumberOrDefault(typedEffect['hp% recover on battle win low']);\n                healHigh = parseNumberOrDefault(typedEffect['hp% recover on battle win high']);\n            }\n            const results = [Object.assign({ id: 'passive:16', originalId: '16', sources, value: {\n                        healLow,\n                        healHigh,\n                    }, conditions: Object.assign(Object.assign({}, conditionInfo), { onBattleWin: true }) }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '16',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('17', (effect, context, injectionContext) => {\n            return parsePassiveWithNumericalValueRangeAndChance({\n                effect,\n                context,\n                injectionContext,\n                originalId: '17',\n                effectKeyLow: 'hp drain% low',\n                effectKeyHigh: 'hp drain% high',\n                effectKeyChance: 'hp drain chance%',\n                buffKeyLow: 'drainHealLow',\n                buffKeyHigh: 'drainHealHigh',\n                buffId: 'passive:17',\n            });\n        });\n        map.set('19', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const DROP_TYPES_ORDER = ['bc', 'hc', 'item', 'zel', 'karma'];\n            const typedEffect = effect;\n            const results = [];\n            const dropRates = {\n                bc: '0',\n                hc: '0',\n                item: '0',\n                zel: '0',\n                karma: '0',\n            };\n            let unknownParams;\n            if (typedEffect.params) {\n                let extraParams;\n                [dropRates.bc, dropRates.hc, dropRates.item, dropRates.zel, dropRates.karma, ...extraParams] = splitEffectParams(typedEffect);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n            }\n            else {\n                DROP_TYPES_ORDER.forEach((dropType) => {\n                    dropRates[dropType] = typedEffect[`${dropType} drop rate% buff`];\n                });\n            }\n            DROP_TYPES_ORDER.forEach((dropType) => {\n                const value = parseNumberOrDefault(dropRates[dropType]);\n                if (value !== 0) {\n                    results.push(Object.assign({ id: `passive:19:${dropType}`, originalId: '19', sources,\n                        value, conditions: Object.assign({}, conditionInfo) }, targetData));\n                }\n            });\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '19',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('20', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const inflictedAilments = [];\n            const typedEffect = effect;\n            let unknownParams;\n            if (typedEffect.params) {\n                let params = splitEffectParams(typedEffect);\n                if (params.length % 2 !== 0 && params[params.length - 1] !== '0') {\n                    unknownParams = createUnknownParamsEntryFromExtraParams(params.slice(-1), params.length - 1, injectionContext);\n                    params = params.slice(0, params.length - 1);\n                }\n                const numParams = params.length;\n                for (let index = 0; index < numParams; index += 2) {\n                    const ailmentValue = params[index];\n                    const chance = parseNumberOrDefault(params[index + 1]);\n                    if (ailmentValue !== '0' || chance !== 0) {\n                        const ailmentType = AILMENT_MAPPING[ailmentValue] || Ailment.Unknown;\n                        inflictedAilments.push({\n                            ailment: ailmentType,\n                            chance,\n                        });\n                    }\n                }\n            }\n            else {\n                Object.values(AILMENT_MAPPING).forEach((ailment) => {\n                    let effectKey;\n                    if (ailment === Ailment.Weak) {\n                        effectKey = 'weaken%';\n                    }\n                    else if (ailment === Ailment.AttackReduction || ailment === Ailment.DefenseReduction || ailment === Ailment.RecoveryReduction) {\n                        effectKey = ailment;\n                    }\n                    else {\n                        effectKey = `${ailment}%`;\n                    }\n                    if (effectKey in effect) {\n                        inflictedAilments.push({\n                            ailment,\n                            chance: parseNumberOrDefault(typedEffect[effectKey]),\n                        });\n                    }\n                });\n            }\n            const results = inflictedAilments.map(({ ailment, chance }) => (Object.assign({ id: `passive:20:${ailment}`, originalId: '20', sources, value: chance, conditions: Object.assign({}, conditionInfo) }, targetData)));\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '20',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('21', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            const results = [];\n            const stats = {\n                atk: '0',\n                def: '0',\n                rec: '0',\n                crit: '0',\n            };\n            let turnDuration = 0;\n            let unknownParams;\n            if (typedEffect.params) {\n                let rawDuration, extraParams;\n                [stats.atk, stats.def, stats.rec, stats.crit, rawDuration, ...extraParams] = splitEffectParams(typedEffect);\n                turnDuration = parseNumberOrDefault(rawDuration);\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n            }\n            else {\n                stats.atk = typedEffect['first x turns atk% (1)'];\n                stats.def = typedEffect['first x turns def% (3)'];\n                stats.rec = typedEffect['first x turns rec% (5)'];\n                stats.crit = typedEffect['first x turns crit% (7)'];\n                turnDuration = parseNumberOrDefault(typedEffect['first x turns']);\n            }\n            STATS_ORDER.forEach((stat) => {\n                const value = parseNumberOrDefault(stats[stat]);\n                if (stat !== 'hp' && value !== 0) {\n                    const entry = Object.assign({ id: `passive:21:${stat}`, originalId: '21', sources,\n                        value, duration: turnDuration, conditions: Object.assign({}, conditionInfo) }, targetData);\n                    results.push(entry);\n                }\n            });\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '21',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('23', (effect, context, injectionContext) => {\n            const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n            const typedEffect = effect;\n            let fillLow, fillHigh;\n            let unknownParams;\n            if (typedEffect.params) {\n                const [rawFillLow, rawFillHigh, ...extraParams] = splitEffectParams(typedEffect);\n                fillLow = parseNumberOrDefault(rawFillLow) / 100;\n                fillHigh = parseNumberOrDefault(rawFillHigh) / 100;\n                unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n            }\n            else {\n                fillLow = parseNumberOrDefault(typedEffect['battle end bc fill low']);\n                fillHigh = parseNumberOrDefault(typedEffect['battle end bc fill high']);\n            }\n            const results = [Object.assign({ id: 'passive:23', originalId: '23', sources, value: {\n                        fillLow,\n                        fillHigh,\n                    }, conditions: Object.assign(Object.assign({}, conditionInfo), { onBattleWin: true }) }, targetData)];\n            if (unknownParams) {\n                results.push(createUnknownParamsEntry(unknownParams, {\n                    originalId: '23',\n                    sources,\n                    targetData,\n                    conditionInfo,\n                }));\n            }\n            return results;\n        });\n        map.set('24', (effect, context, injectionContext) => {\n            return parsePassiveWithNumericalValueRangeAndChance({\n                effect,\n                context,\n                injectionContext,\n                originalId: '24',\n                effectKeyLow: 'dmg% to hp when attacked low',\n                effectKeyHigh: 'dmg% to hp when attacked high',\n                effectKeyChance: 'dmg% to hp when attacked chance%',\n                buffKeyLow: 'healLow',\n                buffKeyHigh: 'healHigh',\n                generateBaseConditions: () => ({ whenAttacked: true }),\n                buffId: 'passive:24',\n            });\n        });\n        map.set('25', (effect, context, injectionContext) => {\n            return parsePassiveWithNumericalValueRangeAndChance({\n                effect,\n                context,\n                injectionContext,\n                originalId: '25',\n                effectKeyLow: 'bc fill when attacked low',\n                effectKeyHigh: 'bc fill when attacked high',\n                effectKeyChance: 'bc fill when attacked%',\n                buffKeyLow: 'fillLow',\n                buffKeyHigh: 'fillHigh',\n                parseParamValue: (rawValue) => parseNumberOrDefault(rawValue) / 100,\n                generateBaseConditions: () => ({ whenAttacked: true }),\n                buffId: 'passive:25',\n            });\n        });\n        map.set('26', (effect, context, injectionContext) => {\n            return parsePassiveWithNumericalValueRangeAndChance({\n                effect,\n                context,\n                injectionContext,\n                originalId: '26',\n                effectKeyLow: 'dmg% reflect low',\n                effectKeyHigh: 'dmg% reflect high',\n                effectKeyChance: 'dmg% reflect chance%',\n                buffKeyLow: 'damageReflectLow',\n                buffKeyHigh: 'damageReflectHigh',\n                generateBaseConditions: () => ({ whenAttacked: true }),\n                buffId: 'passive:26',\n            });\n        });\n        map.set('27', (effect, context, injectionContext) => {\n            return parsePassiveWithSingleNumericalParameter({\n                effect,\n                context,\n                injectionContext,\n                effectKey: 'target% chance',\n                buffId: 'passive:27',\n                originalId: '27',\n            });\n        });\n    }\n\n    /**\n     * @description Default function for all effects that cannot be processed.\n     * @param effect Effect to convert to `IBuff` format.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @returns Converted buff(s) from the given passive effect.\n     */\n    function defaultConversionFunction$1(effect, context) {\n        const id = (isPassiveEffect(effect) && getEffectId(effect)) || KNOWN_PASSIVE_ID.Unknown;\n        return [{\n                id: BuffId.UNKNOWN_PASSIVE_EFFECT_ID,\n                originalId: id,\n                sources: createSourcesFromContext(context),\n            }];\n    }\n    /**\n     * @description Extract the buff(s) from a given passive effect object.\n     * If the buff is not supported, the resulting buff type will be `BuffStackType.Unknown` (see {@link BuffStackType} for more info).\n     * @param effect Passive effect object to extract buffs from.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @returns A collection of one or more buffs found in the given passive effect object.\n     */\n    function convertPassiveEffectToBuffs(effect, context) {\n        if (!effect || typeof effect !== 'object') {\n            throw new TypeError('effect parameter should be an object');\n        }\n        if (!context || typeof context !== 'object') {\n            throw new TypeError('context parameter should be an object');\n        }\n        const id = (isPassiveEffect(effect) && getEffectId(effect));\n        const conversionFunction = (id && getPassiveEffectToBuffMapping(context.reloadMapping).get(id));\n        // TODO: warning if result is empty?\n        return typeof conversionFunction === 'function'\n            ? conversionFunction(effect, context)\n            : defaultConversionFunction$1(effect, context);\n    }\n\n    const BUFF_METADATA = Object.freeze(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ 'UNKNOWN_PASSIVE_EFFECT_ID': {\n            id: BuffId.UNKNOWN_PASSIVE_EFFECT_ID,\n            name: 'Unknown Passive Effect',\n            stackType: BuffStackType.Unknown,\n            icons: () => [IconId.UNKNOWN],\n        }, 'UNKNOWN_PASSIVE_BUFF_PARAMS': {\n            id: BuffId.UNKNOWN_PASSIVE_BUFF_PARAMS,\n            name: 'Unknown Passive Buff Parameters',\n            stackType: BuffStackType.Unknown,\n            icons: () => [IconId.UNKNOWN],\n        }, 'TURN_DURATION_MODIFICATION': {\n            id: BuffId.TURN_DURATION_MODIFICATION,\n            name: 'Passive Turn Duration Modification',\n            stat: UnitStat.turnDurationModification,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [\n                (buff && buff.value &&\n                    buff.value.duration &&\n                    buff.value.duration < 0) ?\n                    IconId.TURN_DURATION_DOWN : IconId.TURN_DURATION_UP\n            ],\n        }, 'passive:1:hp': {\n            id: BuffId['passive:1:hp'],\n            name: 'Passive HP Boost',\n            stat: UnitStat.hp,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPDOWN : IconId.BUFF_HPUP],\n        }, 'passive:1:atk': {\n            id: BuffId['passive:1:atk'],\n            name: 'Passive Attack Boost',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_ATKDOWN : IconId.BUFF_ATKUP],\n        }, 'passive:1:def': {\n            id: BuffId['passive:1:def'],\n            name: 'Passive Defense Boost',\n            stat: UnitStat.def,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_DEFDOWN : IconId.BUFF_DEFUP],\n        }, 'passive:1:rec': {\n            id: BuffId['passive:1:rec'],\n            name: 'Passive Recovery Boost',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_RECDOWN : IconId.BUFF_RECUP],\n        }, 'passive:1:crit': {\n            id: BuffId['passive:1:crit'],\n            name: 'Passive Critical Hit Rate Boost',\n            stat: UnitStat.crit,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_CRTRATEDOWN : IconId.BUFF_CRTRATEUP],\n        } }, (() => {\n        const createIconGetterForStat = (stat) => {\n            return (buff) => {\n                let element = '';\n                let polarity = 'UP';\n                if (buff) {\n                    if (buff.value && buff.value < 0) {\n                        polarity = 'DOWN';\n                    }\n                    if (buff.conditions && buff.conditions.targetElements) {\n                        element = buff.conditions.targetElements[0];\n                    }\n                }\n                if (typeof element !== 'string') {\n                    element = '';\n                }\n                let iconKey = `BUFF_${element.toUpperCase()}${stat}${polarity}`;\n                if (!element || !(iconKey in IconId)) {\n                    iconKey = `BUFF_ELEMENT${stat}${polarity}`;\n                }\n                return [IconId[iconKey]];\n            };\n        };\n        return {\n            'passive:2:hp': {\n                id: BuffId['passive:2:hp'],\n                name: 'Passive Elemental HP Boost',\n                stat: UnitStat.hp,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('HP'),\n            },\n            'passive:2:atk': {\n                id: BuffId['passive:2:atk'],\n                name: 'Passive Elemental Attack Boost',\n                stat: UnitStat.atk,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('ATK'),\n            },\n            'passive:2:def': {\n                id: BuffId['passive:2:def'],\n                name: 'Passive Elemental Defense Boost',\n                stat: UnitStat.def,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('DEF'),\n            },\n            'passive:2:rec': {\n                id: BuffId['passive:2:rec'],\n                name: 'Passive Elemental Recovery Boost',\n                stat: UnitStat.rec,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('REC'),\n            },\n            'passive:2:crit': {\n                id: BuffId['passive:2:crit'],\n                name: 'Passive Elemental Critical Hit Rate Boost',\n                stat: UnitStat.crit,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('CRTRATE'),\n            },\n        };\n    })()), (() => {\n        const createIconGetterForStat = (stat) => {\n            return (buff) => {\n                let unitType = '';\n                let polarity = 'UP';\n                if (buff) {\n                    if (buff.value && buff.value < 0) {\n                        polarity = 'DOWN';\n                    }\n                    if (buff.conditions) {\n                        unitType = buff.conditions.targetUnitType || '';\n                    }\n                }\n                if (typeof unitType !== 'string' || !unitType) {\n                    unitType = 'unknown';\n                }\n                let iconKey = `BUFF_${unitType.toUpperCase()}${stat}${polarity}`;\n                if (!unitType || !(iconKey in IconId)) {\n                    iconKey = `BUFF_UNITTYPE${stat}${polarity}`;\n                }\n                return [IconId[iconKey]];\n            };\n        };\n        return {\n            'passive:3:hp': {\n                id: BuffId['passive:3:hp'],\n                name: 'Passive Type-Based HP Boost',\n                stat: UnitStat.hp,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('HP'),\n            },\n            'passive:3:atk': {\n                id: BuffId['passive:3:atk'],\n                name: 'Passive Type-Based Attack Boost',\n                stat: UnitStat.atk,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('ATK'),\n            },\n            'passive:3:def': {\n                id: BuffId['passive:3:def'],\n                name: 'Passive Type-Based Defense Boost',\n                stat: UnitStat.def,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('DEF'),\n            },\n            'passive:3:rec': {\n                id: BuffId['passive:3:rec'],\n                name: 'Passive Type-Based Recovery Boost',\n                stat: UnitStat.rec,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('REC'),\n            },\n            'passive:3:crit': {\n                id: BuffId['passive:3:crit'],\n                name: 'Passive Type-Based Critical Hit Rate Boost',\n                stat: UnitStat.crit,\n                stackType: BuffStackType.Passive,\n                icons: createIconGetterForStat('CRTRATE'),\n            },\n        };\n    })()), { 'passive:4:poison': {\n            id: BuffId['passive:4:poison'],\n            name: 'Passive Poison Resist',\n            stat: UnitStat.poisonResist,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_POISONBLK],\n        }, 'passive:4:weak': {\n            id: BuffId['passive:4:weak'],\n            name: 'Passive Weak Resist',\n            stat: UnitStat.weakResist,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_WEAKBLK],\n        }, 'passive:4:sick': {\n            id: BuffId['passive:4:sick'],\n            name: 'Passive Sick Resist',\n            stat: UnitStat.sickResist,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_SICKBLK],\n        }, 'passive:4:injury': {\n            id: BuffId['passive:4:injury'],\n            name: 'Passive Injury Resist',\n            stat: UnitStat.injuryResist,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_INJURYBLK],\n        }, 'passive:4:curse': {\n            id: BuffId['passive:4:curse'],\n            name: 'Passive Curse Resist',\n            stat: UnitStat.curseResist,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_CURSEBLK],\n        }, 'passive:4:paralysis': {\n            id: BuffId['passive:4:paralysis'],\n            name: 'Passive Paralysis Resist',\n            stat: UnitStat.poisonResist,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_PARALYSISBLK],\n        }, 'passive:5:fire': {\n            id: BuffId['passive:5:fire'],\n            name: 'Passive Fire Damage Reduction',\n            stat: UnitStat.fireMitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_FIREDMGDOWN],\n        }, 'passive:5:water': {\n            id: BuffId['passive:5:water'],\n            name: 'Passive Water Damage Reduction',\n            stat: UnitStat.waterMitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_WATERDMGDOWN],\n        }, 'passive:5:earth': {\n            id: BuffId['passive:5:earth'],\n            name: 'Passive Earth Damage Reduction',\n            stat: UnitStat.earthMitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_EARTHDMGDOWN],\n        }, 'passive:5:thunder': {\n            id: BuffId['passive:5:thunder'],\n            name: 'Passive Thunder Damage Reduction',\n            stat: UnitStat.thunderMitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_THUNDERDMGDOWN],\n        }, 'passive:5:light': {\n            id: BuffId['passive:5:light'],\n            name: 'Passive Light Damage Reduction',\n            stat: UnitStat.lightMitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_LIGHTDMGDOWN],\n        }, 'passive:5:dark': {\n            id: BuffId['passive:5:dark'],\n            name: 'Passive Dark Damage Reduction',\n            stat: UnitStat.darkMitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_DARKDMGDOWN],\n        }, 'passive:5:unknown': {\n            id: BuffId['passive:5:unknown'],\n            name: 'Passive Elemental Damage Reduction (Unspecified Element)',\n            stat: UnitStat.mitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ELEMENTDMGDOWN],\n        }, 'passive:8': {\n            id: BuffId['passive:8'],\n            name: 'Passive Damage Reduction',\n            stat: UnitStat.mitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_DAMAGECUT],\n        }, 'passive:9': {\n            id: BuffId['passive:9'],\n            name: 'Passive Gradual BB Gauge Fill',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_BBREC],\n        }, 'passive:10': {\n            id: BuffId['passive:10'],\n            name: 'Passive HC Efficacy',\n            stat: UnitStat.hcEfficacy,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_HCREC],\n        }, 'passive:11:atk': {\n            id: BuffId['passive:11:atk'],\n            name: 'Passive HP-Conditional Attack Boost',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHATKDOWN : IconId.BUFF_HPTHRESHATKUP],\n        }, 'passive:11:def': {\n            id: BuffId['passive:11:def'],\n            name: 'Passive HP-Conditional Defense Boost',\n            stat: UnitStat.def,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHDEFDOWN : IconId.BUFF_HPTHRESHDEFUP],\n        }, 'passive:11:rec': {\n            id: BuffId['passive:11:rec'],\n            name: 'Passive HP-Conditional Recovery Boost',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHRECDOWN : IconId.BUFF_HPTHRESHRECUP],\n        }, 'passive:11:crit': {\n            id: BuffId['passive:11:crit'],\n            name: 'Passive HP-Conditional Critical Hit Rate Boost',\n            stat: UnitStat.crit,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHCRTRATEDOWN : IconId.BUFF_HPTHRESHCRTRATEUP],\n        }, 'passive:12:bc': {\n            id: BuffId['passive:12:bc'],\n            name: 'Passive Battle Crystal Drop Rate Boost',\n            stat: UnitStat.bcDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_BCDOWN : IconId.BUFF_BCDROP],\n        }, 'passive:12:hc': {\n            id: BuffId['passive:12:hc'],\n            name: 'Passive Heart Crystal Drop Rate Boost',\n            stat: UnitStat.hcDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_HCDOWN : IconId.BUFF_HCDROP],\n        }, 'passive:12:item': {\n            id: BuffId['passive:12:item'],\n            name: 'Passive Item Drop Rate Boost',\n            stat: UnitStat.itemDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ITEMDOWN : IconId.BUFF_ITEMDROP],\n        }, 'passive:12:zel': {\n            id: BuffId['passive:12:zel'],\n            name: 'Passive Zel Drop Rate Boost',\n            stat: UnitStat.zelDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ZELDOWN : IconId.BUFF_ZELDROP],\n        }, 'passive:12:karma': {\n            id: BuffId['passive:12:karma'],\n            name: 'Passive Karma Drop Rate Boost',\n            stat: UnitStat.karmaDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_KARMADOWN : IconId.BUFF_KARMADROP],\n        }, 'passive:13': {\n            id: BuffId['passive:13'],\n            name: 'Passive BB Gauge Fill on Enemy Defeat',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_BBREC],\n        }, 'passive:14': {\n            id: BuffId['passive:14'],\n            name: 'Passive Damage Reduction (Chance)',\n            stat: UnitStat.mitigation,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_DAMAGECUT],\n        }, 'passive:15': {\n            id: BuffId['passive:15'],\n            name: 'Passive Heal on Enemy Defeat',\n            stat: UnitStat.hpRecovery,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_HPREC],\n        }, 'passive:16': {\n            id: BuffId['passive:16'],\n            name: 'Passive Heal on Battle Win',\n            stat: UnitStat.hpRecovery,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_HPREC],\n        }, 'passive:17': {\n            id: BuffId['passive:17'],\n            name: 'HP Absorption',\n            stat: UnitStat.hpRecovery,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_HPABS],\n        }, 'passive:19:bc': {\n            id: BuffId['passive:19:bc'],\n            name: 'Passive Battle Crystal Drop Rate Boost',\n            stat: UnitStat.bcDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_BCDOWN : IconId.BUFF_BCDROP],\n        }, 'passive:19:hc': {\n            id: BuffId['passive:19:hc'],\n            name: 'Passive Heart Crystal Drop Rate Boost',\n            stat: UnitStat.hcDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_HCDOWN : IconId.BUFF_HCDROP],\n        }, 'passive:19:item': {\n            id: BuffId['passive:19:item'],\n            name: 'Passive Item Drop Rate Boost',\n            stat: UnitStat.itemDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ITEMDOWN : IconId.BUFF_ITEMDROP],\n        }, 'passive:19:zel': {\n            id: BuffId['passive:19:zel'],\n            name: 'Passive Zel Drop Rate Boost',\n            stat: UnitStat.zelDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ZELDOWN : IconId.BUFF_ZELDROP],\n        }, 'passive:19:karma': {\n            id: BuffId['passive:19:karma'],\n            name: 'Passive Karma Drop Rate Boost',\n            stat: UnitStat.karmaDropRate,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_KARMADOWN : IconId.BUFF_KARMADROP],\n        }, 'passive:20:poison': {\n            id: BuffId['passive:20:poison'],\n            name: 'Passive Poison Infliction',\n            stat: UnitStat.poisonInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDPOISON],\n        }, 'passive:20:weak': {\n            id: BuffId['passive:20:weak'],\n            name: 'Passive Weak Infliction',\n            stat: UnitStat.weakInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDWEAK],\n        }, 'passive:20:sick': {\n            id: BuffId['passive:20:sick'],\n            name: 'Passive Sick Infliction',\n            stat: UnitStat.sickInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDSICK],\n        }, 'passive:20:injury': {\n            id: BuffId['passive:20:injury'],\n            name: 'Passive Injury Infliction',\n            stat: UnitStat.injuryInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDINJURY],\n        }, 'passive:20:curse': {\n            id: BuffId['passive:20:curse'],\n            name: 'Passive Curse Infliction',\n            stat: UnitStat.curseInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDCURSE],\n        }, 'passive:20:paralysis': {\n            id: BuffId['passive:20:paralysis'],\n            name: 'Passive Paralysis Infliction',\n            stat: UnitStat.poisonInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDPARA],\n        }, 'passive:20:atk down': {\n            id: BuffId['passive:20:atk down'],\n            name: 'Passive Attack Reduction Infliction',\n            stat: UnitStat.atkDownInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDATKDOWN],\n        }, 'passive:20:def down': {\n            id: BuffId['passive:20:def down'],\n            name: 'Passive Defense Reduction Infliction',\n            stat: UnitStat.defDownInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDDEFDOWN],\n        }, 'passive:20:rec down': {\n            id: BuffId['passive:20:rec down'],\n            name: 'Passive Recovery Reduction Infliction',\n            stat: UnitStat.recDownInflict,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_ADDRECDOWN],\n        }, 'passive:20:unknown': {\n            id: BuffId['passive:20:unknown'],\n            name: 'Passive Unknown Ailment Infliction',\n            stackType: BuffStackType.Unknown,\n            icons: () => [IconId.BUFF_ADDAILMENT],\n        }, 'passive:21:atk': {\n            id: BuffId['passive:21:atk'],\n            name: 'Attack Boost for X Turns',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.ConditionalTimed,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_ATKDOWN : IconId.BUFF_ATKUP],\n        }, 'passive:21:def': {\n            id: BuffId['passive:21:def'],\n            name: 'Defense Boost for X Turns',\n            stat: UnitStat.def,\n            stackType: BuffStackType.ConditionalTimed,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_DEFDOWN : IconId.BUFF_DEFUP],\n        }, 'passive:21:rec': {\n            id: BuffId['passive:21:rec'],\n            name: 'Recovery Boost for X Turns',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.ConditionalTimed,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_RECDOWN : IconId.BUFF_RECUP],\n        }, 'passive:21:crit': {\n            id: BuffId['passive:21:crit'],\n            name: 'Critical Hit Rate Boost for X Turns',\n            stat: UnitStat.crit,\n            stackType: BuffStackType.ConditionalTimed,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_CRTRATEDOWN : IconId.BUFF_CRTRATEUP],\n        }, 'passive:23': {\n            id: BuffId['passive:23'],\n            name: 'Passive BC Fill on Battle Win',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_BBREC],\n        }, 'passive:24': {\n            id: BuffId['passive:24'],\n            name: 'Passive Heal when Attacked',\n            stat: UnitStat.hpRecovery,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_BEENATK_HPREC],\n        }, 'passive:25': {\n            id: BuffId['passive:25'],\n            name: 'Passive BC Fill when Attacked',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_DAMAGEBB],\n        }, 'passive:26': {\n            id: BuffId['passive:26'],\n            name: 'Passive Damage Counter',\n            stat: UnitStat.damageReflect,\n            stackType: BuffStackType.Passive,\n            icons: () => [IconId.BUFF_COUNTERDAMAGE],\n        }, 'passive:27': {\n            id: BuffId['passive:27'],\n            name: 'Passive Target Chance Modification',\n            stat: UnitStat.targetingModification,\n            stackType: BuffStackType.Passive,\n            icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_REPENEATT : IconId.BUFF_GETENEATT],\n        }, 'UNKNOWN_PROC_EFFECT_ID': {\n            id: BuffId.UNKNOWN_PROC_EFFECT_ID,\n            name: 'Unknown Proc Effect',\n            stackType: BuffStackType.Unknown,\n            icons: () => [IconId.UNKNOWN],\n        }, 'UNKNOWN_PROC_BUFF_PARAMS': {\n            id: BuffId.UNKNOWN_PROC_BUFF_PARAMS,\n            name: 'Unknown Proc Buff Parameters',\n            stackType: BuffStackType.Unknown,\n            icons: () => [IconId.UNKNOWN],\n        }, 'proc:1': {\n            id: BuffId['proc:1'],\n            name: 'Regular Damage',\n            stackType: BuffStackType.Attack,\n            icons: (buff) => [(buff && buff.targetArea === TargetArea.Single) ? IconId.ATK_ST : IconId.ATK_AOE],\n        }, 'proc:2': {\n            id: BuffId['proc:2'],\n            name: 'Burst Heal',\n            stat: UnitStat.hpRecovery,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_HPREC],\n        }, 'proc:3': {\n            id: BuffId['proc:3'],\n            name: 'Active Gradual Heal',\n            stat: UnitStat.hpRecovery,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_HPREC],\n        }, 'proc:4:flat': {\n            id: BuffId['proc:4:flat'],\n            name: 'Burst BB Gauge Fill (Flat Amount)',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_BBREC],\n        }, 'proc:4:percent': {\n            id: BuffId['proc:4:percent'],\n            name: 'Burst BB Gauge Fill (Percentage)',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_BBREC],\n        } }), (() => {\n        const createIconGetterForStat = (stat) => {\n            return (buff) => {\n                let element = '';\n                let hasElement = false;\n                let polarity = 'UP';\n                if (buff) {\n                    if (buff.value && buff.value < 0) {\n                        polarity = 'DOWN';\n                    }\n                    if (buff.conditions && buff.conditions.targetElements) {\n                        element = buff.conditions.targetElements[0];\n                        hasElement = true;\n                    }\n                }\n                if (typeof element !== 'string') {\n                    element = '';\n                }\n                let iconKey = `BUFF_${element.toUpperCase()}${stat}${polarity}`;\n                if (!element || !(iconKey in IconId)) {\n                    iconKey = `BUFF_${hasElement ? 'ELEMENT' : ''}${stat}${polarity}`;\n                }\n                return [IconId[iconKey]];\n            };\n        };\n        return {\n            'proc:5:atk': {\n                id: BuffId['proc:5:atk'],\n                name: 'Active Regular/Elemental Attack Boost',\n                stat: UnitStat.atk,\n                stackType: BuffStackType.Active,\n                icons: createIconGetterForStat('ATK'),\n            },\n            'proc:5:def': {\n                id: BuffId['proc:5:def'],\n                name: 'Active Regular/Elemental Defense Boost',\n                stat: UnitStat.def,\n                stackType: BuffStackType.Active,\n                icons: createIconGetterForStat('DEF'),\n            },\n            'proc:5:rec': {\n                id: BuffId['proc:5:rec'],\n                name: 'Active Regular/Elemental Recovery Boost',\n                stat: UnitStat.rec,\n                stackType: BuffStackType.Active,\n                icons: createIconGetterForStat('REC'),\n            },\n            'proc:5:crit': {\n                id: BuffId['proc:5:crit'],\n                name: 'Active Regular/Elemental Critical Hit Rate Boost',\n                stat: UnitStat.crit,\n                stackType: BuffStackType.Active,\n                icons: createIconGetterForStat('CRTRATE'),\n            },\n        };\n    })()), { 'proc:6:bc': {\n            id: BuffId['proc:6:bc'],\n            name: 'Active Battle Crystal Drop Rate Boost',\n            stat: UnitStat.bcDropRate,\n            stackType: BuffStackType.Active,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_BCDOWN : IconId.BUFF_BCDROP],\n        }, 'proc:6:hc': {\n            id: BuffId['proc:6:hc'],\n            name: 'Active Heart Crystal Drop Rate Boost',\n            stat: UnitStat.hcDropRate,\n            stackType: BuffStackType.Active,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_HCDOWN : IconId.BUFF_HCDROP],\n        }, 'proc:6:item': {\n            id: BuffId['proc:6:item'],\n            name: 'Active Item Drop Rate Boost',\n            stat: UnitStat.itemDropRate,\n            stackType: BuffStackType.Active,\n            icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ITEMDOWN : IconId.BUFF_ITEMDROP],\n        }, 'proc:7': {\n            id: BuffId['proc:7'],\n            name: 'Guaranteed KO Resistance',\n            stat: UnitStat.koResistance,\n            stackType: BuffStackType.Singleton,\n            icons: () => [IconId.BUFF_KOBLK],\n        }, 'proc:8:flat': {\n            id: BuffId['proc:8:flat'],\n            name: 'Max HP Boost (Flat Amount)',\n            stat: UnitStat.hp,\n            stackType: BuffStackType.Singleton,\n            icons: () => [IconId.BUFF_HPUP],\n        }, 'proc:8:percent': {\n            id: BuffId['proc:8:percent'],\n            name: 'Max HP Boost (Percentage)',\n            stat: UnitStat.hp,\n            stackType: BuffStackType.Singleton,\n            icons: () => [IconId.BUFF_HPUP],\n        } }), (() => {\n        const createIconGetterForStat = (stat) => {\n            return (buff) => {\n                let element = '';\n                let hasElement = false;\n                let polarity = 'DOWN'; // default to down since these are reduction buffs\n                if (buff) {\n                    if (buff.value && buff.value > 0) {\n                        polarity = 'UP';\n                    }\n                    if (buff.conditions && buff.conditions.targetElements) {\n                        element = buff.conditions.targetElements[0];\n                        hasElement = true;\n                    }\n                }\n                if (typeof element !== 'string') {\n                    element = '';\n                }\n                let iconKey = `BUFF_${element.toUpperCase()}${stat}${polarity}`;\n                if (!element || !(iconKey in IconId)) {\n                    iconKey = `BUFF_${hasElement ? 'ELEMENT' : ''}${stat}${polarity}`;\n                }\n                return [IconId[iconKey]];\n            };\n        };\n        return {\n            'proc:9:atk': {\n                id: BuffId['proc:9:atk'],\n                name: 'Active Regular/Elemental Attack Reduction',\n                stat: UnitStat.atk,\n                stackType: BuffStackType.Active,\n                icons: createIconGetterForStat('ATK'),\n            },\n            'proc:9:def': {\n                id: BuffId['proc:9:def'],\n                name: 'Active Regular/Elemental Defense Reduction',\n                stat: UnitStat.def,\n                stackType: BuffStackType.Active,\n                icons: createIconGetterForStat('DEF'),\n            },\n            'proc:9:rec': {\n                id: BuffId['proc:9:rec'],\n                name: 'Active Regular/Elemental Recovery Reduction',\n                stat: UnitStat.rec,\n                stackType: BuffStackType.Active,\n                icons: createIconGetterForStat('REC'),\n            },\n            'proc:9:unknown': {\n                id: BuffId['proc:9:unknown'],\n                name: 'Active Regular/Elemental Unknown Stat Reduction',\n                stackType: BuffStackType.Active,\n                icons: () => [IconId.UNKNOWN],\n            },\n        };\n    })()), { 'proc:10:poison': {\n            id: BuffId['proc:10:poison'],\n            name: 'Poison Cleanse',\n            stat: UnitStat.poisonResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_POISONBLK],\n        }, 'proc:10:weak': {\n            id: BuffId['proc:10:weak'],\n            name: 'Weak Cleanse',\n            stat: UnitStat.weakResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_WEAKBLK],\n        }, 'proc:10:sick': {\n            id: BuffId['proc:10:sick'],\n            name: 'Sick Cleanse',\n            stat: UnitStat.sickResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_SICKBLK],\n        }, 'proc:10:injury': {\n            id: BuffId['proc:10:injury'],\n            name: 'Injury Cleanse',\n            stat: UnitStat.injuryResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_INJURYBLK],\n        }, 'proc:10:curse': {\n            id: BuffId['proc:10:curse'],\n            name: 'Curse Cleanse',\n            stat: UnitStat.curseResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_CURSEBLK],\n        }, 'proc:10:paralysis': {\n            id: BuffId['proc:10:paralysis'],\n            name: 'Paralysis Cleanse',\n            stat: UnitStat.poisonResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_PARALYSISBLK],\n        }, 'proc:10:atk down': {\n            id: BuffId['proc:10:atk down'],\n            name: 'Attack Reduction Cleanse',\n            stat: UnitStat.atkDownResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_ATKDOWNBLK],\n        }, 'proc:10:def down': {\n            id: BuffId['proc:10:def down'],\n            name: 'Defense Reduction Cleanse',\n            stat: UnitStat.defDownResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_DEFDOWNBLK],\n        }, 'proc:10:rec down': {\n            id: BuffId['proc:10:rec down'],\n            name: 'Recovery Reduction Cleanse',\n            stat: UnitStat.recDownResist,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_RECDOWNBLK],\n        }, 'proc:10:unknown': {\n            id: BuffId['proc:10:unknown'],\n            name: 'Unknown Ailment Cleanse',\n            stackType: BuffStackType.Unknown,\n            icons: () => [IconId.BUFF_AILMENTBLK],\n        }, 'proc:11:poison': {\n            id: BuffId['proc:11:poison'],\n            name: 'Poison Infliction',\n            stat: UnitStat.poisonInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.DEBUFF_POISON],\n        }, 'proc:11:weak': {\n            id: BuffId['proc:11:weak'],\n            name: 'Weak Infliction',\n            stat: UnitStat.weakInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.DEBUFF_WEAK],\n        }, 'proc:11:sick': {\n            id: BuffId['proc:11:sick'],\n            name: 'Sick Infliction',\n            stat: UnitStat.sickInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.DEBUFF_SICK],\n        }, 'proc:11:injury': {\n            id: BuffId['proc:11:injury'],\n            name: 'Injury Infliction',\n            stat: UnitStat.injuryInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.DEBUFF_INJURY],\n        }, 'proc:11:curse': {\n            id: BuffId['proc:11:curse'],\n            name: 'Curse Infliction',\n            stat: UnitStat.curseInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.DEBUFF_CURSE],\n        }, 'proc:11:paralysis': {\n            id: BuffId['proc:11:paralysis'],\n            name: 'Paralysis Infliction',\n            stat: UnitStat.poisonInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.DEBUFF_PARALYSIS],\n        }, 'proc:11:atk down': {\n            id: BuffId['proc:11:atk down'],\n            name: 'Attack Reduction Infliction',\n            stat: UnitStat.atkDownInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_ATKDOWN],\n        }, 'proc:11:def down': {\n            id: BuffId['proc:11:def down'],\n            name: 'Defense Reduction Infliction',\n            stat: UnitStat.defDownInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_DEFDOWN],\n        }, 'proc:11:rec down': {\n            id: BuffId['proc:11:rec down'],\n            name: 'Recovery Reduction Infliction',\n            stat: UnitStat.recDownInflict,\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_RECDOWN],\n        }, 'proc:11:unknown': {\n            id: BuffId['proc:11:unknown'],\n            name: 'Unknown Ailment Infliction',\n            stackType: BuffStackType.Unknown,\n            icons: () => [IconId.DEBUFF_AILMENT],\n        }, 'proc:12': {\n            id: BuffId['proc:12'],\n            name: 'Instant Revive (Guaranteed)',\n            stackType: BuffStackType.Burst,\n            icons: () => [IconId.BUFF_KOBLK],\n        }, 'proc:13': {\n            id: BuffId['proc:13'],\n            name: 'Random Target Damage',\n            stackType: BuffStackType.Attack,\n            icons: () => [IconId.ATK_RT],\n        }, 'proc:14': {\n            id: BuffId['proc:14'],\n            name: 'Lifesteal Damage',\n            stackType: BuffStackType.Attack,\n            icons: (buff) => [(buff && buff.targetArea === TargetArea.Single) ? IconId.ATK_ST_HPREC : IconId.ATK_AOE_HPREC],\n        }, 'proc:16:fire': {\n            id: BuffId['proc:16:fire'],\n            name: 'Active Fire Damage Reduction',\n            stat: UnitStat.fireMitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_FIREDMGDOWN],\n        }, 'proc:16:water': {\n            id: BuffId['proc:16:water'],\n            name: 'Active Water Damage Reduction',\n            stat: UnitStat.waterMitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_WATERDMGDOWN],\n        }, 'proc:16:earth': {\n            id: BuffId['proc:16:earth'],\n            name: 'Active Earth Damage Reduction',\n            stat: UnitStat.earthMitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_EARTHDMGDOWN],\n        }, 'proc:16:thunder': {\n            id: BuffId['proc:16:thunder'],\n            name: 'Active Thunder Damage Reduction',\n            stat: UnitStat.thunderMitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_THUNDERDMGDOWN],\n        }, 'proc:16:light': {\n            id: BuffId['proc:16:light'],\n            name: 'Active Light Damage Reduction',\n            stat: UnitStat.lightMitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_LIGHTDMGDOWN],\n        }, 'proc:16:dark': {\n            id: BuffId['proc:16:dark'],\n            name: 'Active Dark Damage Reduction',\n            stat: UnitStat.darkMitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_DARKDMGDOWN],\n        }, 'proc:16:all': {\n            id: BuffId['proc:16:all'],\n            name: 'Active Elemental Damage Reduction (All Elements)',\n            stat: UnitStat.mitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_ELEMENTDMGDOWN],\n        }, 'proc:16:unknown': {\n            id: BuffId['proc:16:unknown'],\n            name: 'Active Elemental Damage Reduction (Unspecified Element)',\n            stat: UnitStat.mitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_ELEMENTDMGDOWN],\n        }, 'proc:17:poison': {\n            id: BuffId['proc:17:poison'],\n            name: 'Active Poison Resist',\n            stat: UnitStat.poisonResist,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_POISONBLK],\n        }, 'proc:17:weak': {\n            id: BuffId['proc:17:weak'],\n            name: 'Active Weak Resist',\n            stat: UnitStat.weakResist,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_WEAKBLK],\n        }, 'proc:17:sick': {\n            id: BuffId['proc:17:sick'],\n            name: 'Active Sick Resist',\n            stat: UnitStat.sickResist,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_SICKBLK],\n        }, 'proc:17:injury': {\n            id: BuffId['proc:17:injury'],\n            name: 'Active Injury Resist',\n            stat: UnitStat.injuryResist,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_INJURYBLK],\n        }, 'proc:17:curse': {\n            id: BuffId['proc:17:curse'],\n            name: 'Active Curse Resist',\n            stat: UnitStat.curseResist,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_CURSEBLK],\n        }, 'proc:17:paralysis': {\n            id: BuffId['proc:17:paralysis'],\n            name: 'Active Paralysis Resist',\n            stat: UnitStat.poisonResist,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_PARALYSISBLK],\n        }, 'proc:18': {\n            id: BuffId['proc:18'],\n            name: 'Active Damage Reduction',\n            stat: UnitStat.mitigation,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_DAMAGECUT],\n        }, 'proc:19': {\n            id: BuffId['proc:19'],\n            name: 'Active Gradual BB Gauge Fill',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_BBREC],\n        }, 'proc:20': {\n            id: BuffId['proc:20'],\n            name: 'Active BC Fill when attacked',\n            stat: UnitStat.bbGauge,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_DAMAGEBB],\n        }, 'proc:22': {\n            id: BuffId['proc:22'],\n            name: 'Active Defense Ignore',\n            stat: UnitStat.defenseIgnore,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_IGNOREDEF],\n        }, 'proc:23': {\n            id: BuffId['proc:23'],\n            name: 'Active Spark Damage Boost',\n            stat: UnitStat.sparkDamage,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_SPARKUP],\n        }, 'proc:24:atk': {\n            id: BuffId['proc:24:atk'],\n            name: 'Active Converted Attack Boost',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.Active,\n            icons: (buff) => [(buff && buff.value && buff.value.value && buff.value.value < 0) ? IconId.BUFF_CONVERTATKDOWN : IconId.BUFF_CONVERTATKUP],\n        }, 'proc:24:def': {\n            id: BuffId['proc:24:def'],\n            name: 'Active Converted Defense Boost',\n            stat: UnitStat.def,\n            stackType: BuffStackType.Active,\n            icons: (buff) => [(buff && buff.value && buff.value.value && buff.value.value < 0) ? IconId.BUFF_CONVERTDEFDOWN : IconId.BUFF_CONVERTDEFUP],\n        }, 'proc:24:rec': {\n            id: BuffId['proc:24:rec'],\n            name: 'Active Converted Recovery Boost',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.Active,\n            icons: (buff) => [(buff && buff.value && buff.value.value && buff.value.value < 0) ? IconId.BUFF_CONVERTRECDOWN : IconId.BUFF_CONVERTRECUP],\n        }, 'proc:26': {\n            id: BuffId['proc:26'],\n            name: 'Active Hit Count Boost',\n            stat: UnitStat.hitCountModification,\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.BUFF_HITUP],\n        }, 'proc:27': {\n            id: BuffId['proc:27'],\n            name: 'Proportional Damage',\n            stackType: BuffStackType.Attack,\n            icons: (buff) => [(buff && buff.targetArea === TargetArea.Single) ? IconId.ATK_ST_PROPORTIONAL : IconId.ATK_AOE_PROPORTIONAL],\n        } }));\n\n    /**\n     * @description Get the associated metadata entry for a given buff ID.\n     * @param id Buff ID to get metadata for.\n     * @param metadata Optional source to use as metadata; defaults to internal buff metadata.\n     * @returns Corresponding buff metadata entry if it exists, undefined otherwise.\n     */\n    function getMetadataForBuff(id, metadata = BUFF_METADATA) {\n        return (!!metadata && typeof metadata === 'object') && Object.hasOwnProperty.call(metadata, id)\n            ? metadata[id]\n            : (void 0);\n    }\n\n    var index$1 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        convertProcEffectToBuffs: convertProcEffectToBuffs,\n        convertPassiveEffectToBuffs: convertPassiveEffectToBuffs,\n        get BuffSource () { return BuffSource; },\n        get BuffStackType () { return BuffStackType; },\n        BUFF_METADATA: BUFF_METADATA,\n        getMetadataForBuff: getMetadataForBuff\n    });\n\n    var index$2 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        constants: constants,\n        parsers: index$1,\n        getMetadataForProc: getMetadataForProc,\n        getMetadataForPassive: getMetadataForPassive,\n        isAttackingProcId: isAttackingProcId,\n        getNameForProc: getNameForProc,\n        getNameForPassive: getNameForPassive,\n        isProcEffect: isProcEffect,\n        isPassiveEffect: isPassiveEffect,\n        combineEffectsAndDamageFrames: combineEffectsAndDamageFrames,\n        getEffectId: getEffectId,\n        getEffectName: getEffectName,\n        get ProcBuffType () { return ProcBuffType; },\n        PASSIVE_METADATA: PASSIVE_METADATA,\n        PROC_METADATA: PROC_METADATA\n    });\n\n    /**\n     * @description Get the effects of a given extra skill.\n     * @param skill Extra skill to get the effects of.\n     * @returns Effects of the given extra skill if they exist, an empty array otherwise.\n     */\n    function getEffectsForExtraSkill(skill) {\n        return (skill && Array.isArray(skill.effects)) ? skill.effects : [];\n    }\n\n    var index$3 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getEffectsForExtraSkill: getEffectsForExtraSkill\n    });\n\n    /**\n     * @description Get the effects of a given item.\n     * @param item Item to get the effects of, if any are present,\n     * @returns Effects of the given item if they exist, an empty array otherwise.\n     */\n    function getEffectsForItem(item) {\n        let result = [];\n        if (item && item.effect) {\n            if (Array.isArray(item.effect)) {\n                result = item.effect;\n            }\n            else if (Array.isArray(item.effect.effect)) {\n                const { effect, target_area: targetArea, target_type: targetType } = item.effect;\n                result = effect.map(e => {\n                    // apply target data to each effect\n                    const fullProcEffect = Object.assign({}, e);\n                    fullProcEffect['target area'] = targetArea;\n                    fullProcEffect['target type'] = targetType;\n                    return fullProcEffect;\n                });\n            }\n        }\n        return result;\n    }\n\n    /**\n     * @description Generate a URL to display the image with the given item thumbnail filename.\n     * @param baseContentUrl Base URL of the server.\n     * @param fileName Name of the file that represents the thumbnail image for a given item.\n     * @returns Generated URL based on the given content URL and file name.\n     */\n    function getItemImageUrl(baseContentUrl, fileName) {\n        return `${baseContentUrl || ''}/item/${fileName || ''}`;\n    }\n\n    var index$4 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getEffectsForItem: getEffectsForItem,\n        getItemImageUrl: getItemImageUrl\n    });\n\n    /**\n     * @description Get the effects of a given leader skill.\n     * @param skill Leader skill to get the effects of.\n     * @returns Effects of the given leader skill if they exist, an empty array otherwise.\n     */\n    function getEffectsForLeaderSkill(skill) {\n        return skill && Array.isArray(skill.effects) ? skill.effects : [];\n    }\n\n    var index$5 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getEffectsForLeaderSkill: getEffectsForLeaderSkill\n    });\n\n    /**\n     * @description Generate the file names for each of the image type for a given unit ID.\n     * @param id Unit ID to use to generate the file names.\n     * @param suffix Optional parameter that's useful for things like alternate art.\n     * @returns Set of file names for each image type (spritesheet, battle avatar, guide avatar, full illustration).\n     */\n    function getUnitImageFileNames(id, suffix = '') {\n        const fileNameSuffix = `${id || ''}${suffix || ''}.png`;\n        return {\n            spritesheet: `unit_anime_${fileNameSuffix}`,\n            battleAvatar: `unit_ills_battle_${fileNameSuffix}`,\n            guideAvatar: `unit_ills_thum_${fileNameSuffix}`,\n            fullIllustration: `unit_ills_full_${fileNameSuffix}`,\n        };\n    }\n\n    /**\n     * @description Generate a URL to display the image with the given unit filename.\n     * @param baseContentUrl Base URL of the server.\n     * @param fileName Name of the file that represents an image for a given unit.\n     * @returns Generated URL based on the given content URL and file name.\n     */\n    function getUnitImageUrl(baseContentUrl, fileName) {\n        return `${baseContentUrl || ''}/unit/img/${fileName || ''}`;\n    }\n\n    var index$6 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getUnitImageFileNames: getUnitImageFileNames,\n        getUnitImageUrl: getUnitImageUrl\n    });\n\n    /**\n     * @description Get the effects of a given SP Enhancement Entry.\n     * @param entry SP Enhancement Entry to get the effects of.\n     * @returns Effects of the given SP Enhancement Entry if they exist, an empty array otherwise.\n     */\n    function getEffectsForSpEnhancement(entry) {\n        const result = [];\n        if (entry && entry.skill && Array.isArray(entry.skill.effects)) {\n            const effectWrappers = entry.skill.effects;\n            effectWrappers.forEach(effectWrapper => {\n                Object.keys(effectWrapper).forEach(spType => {\n                    const originalEffect = effectWrapper[spType];\n                    const unwrappedEffect = Object.assign(Object.assign({}, originalEffect), { sp_type: spType });\n                    result.push(unwrappedEffect);\n                });\n            });\n        }\n        return result;\n    }\n\n    /**\n     * @description Get the associated category name with a given category ID.\n     * @param categoryId Category ID to get the name of.\n     * @returns Name of the given category ID or the string 'Unknown'.\n     */\n    function getSpCategoryName(categoryId) {\n        let result;\n        const numericalCategoryId = +categoryId;\n        switch (numericalCategoryId) {\n            case 1:\n                result = SpCategoryName['Parameter Boost'];\n                break;\n            case 2:\n                result = SpCategoryName.Spark;\n                break;\n            case 3:\n                result = SpCategoryName['Critical Hits'];\n                break;\n            case 4:\n                result = SpCategoryName['Attack Boost'];\n                break;\n            case 5:\n                result = SpCategoryName['BB Gauge'];\n                break;\n            case 6:\n                result = SpCategoryName['HP Recovery'];\n                break;\n            case 7:\n                result = SpCategoryName.Drops;\n                break;\n            case 8:\n                result = SpCategoryName['Ailment Resistance'];\n                break;\n            case 9:\n                result = SpCategoryName['Ailment Infliction'];\n                break;\n            case 10:\n                result = SpCategoryName['Damage Reduction'];\n                break;\n            case 11:\n                result = SpCategoryName.Special;\n                break;\n            default:\n                result = SpCategoryName.Unknown;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * @ignore\n     */\n    const CHARACTER_CODE_FOR_UPPERCASE_A = 'A'.charCodeAt(0);\n    /**\n     * @ignore\n     */\n    const CHARACTER_CODE_FOR_LOWERCASE_A = 'a'.charCodeAt(0);\n    /**\n     * @ignore\n     */\n    const CHARACTER_CODE_FOR_NUMBER_0 = '0'.charCodeAt(0);\n\n    /**\n     * @description Get the corresponding character code for a given index.\n     * It expects an index between 0 and 61 inclusive; will return an empty string if\n     * the given value is outside of the range.\n     * @param index Index of an SP entry in a given skills array.\n     * @returns Corresponding single alphanumeric character to the given index\n     * or an empty string if the index is invalid.\n     */\n    function spIndexToCode(index) {\n        let result = '';\n        let correspondingCharacterCode = -1;\n        if (Number.isInteger(index)) {\n            if (index >= 0 && index <= 25) { // A-Z\n                correspondingCharacterCode = index + CHARACTER_CODE_FOR_UPPERCASE_A;\n            }\n            else if (index >= 26 && index <= 51) { // a-z\n                correspondingCharacterCode = (index - 26) + CHARACTER_CODE_FOR_LOWERCASE_A;\n            }\n            else if (index >= 52 && index <= 61) { // 0-9\n                correspondingCharacterCode = (index - 52) + CHARACTER_CODE_FOR_NUMBER_0;\n            }\n        }\n        if (correspondingCharacterCode !== -1) {\n            result = String.fromCharCode(correspondingCharacterCode);\n        }\n        return result;\n    }\n\n    /**\n     * @description Get the corresponding index for a given character code.\n     * It expects an alphanumeric character and will return -1 otherwise.\n     * @param code Character code an SP entry in a given skills array.\n     * @returns Corresponding index to the given character or -1 if the\n     * character is invalid.\n     */\n    function spCodeToIndex(code) {\n        let result = -1;\n        let characterCodeOffset = -1;\n        if (!!code && typeof code === 'string' && code.length === 1) {\n            if (code >= 'A' && code <= 'Z') {\n                characterCodeOffset = CHARACTER_CODE_FOR_UPPERCASE_A;\n            }\n            else if (code >= 'a' && code <= 'z') {\n                characterCodeOffset = CHARACTER_CODE_FOR_LOWERCASE_A - 26;\n            }\n            else if (code >= '0' && code <= '9') {\n                characterCodeOffset = CHARACTER_CODE_FOR_NUMBER_0 - 52;\n            }\n        }\n        if (characterCodeOffset !== -1) {\n            result = code.charCodeAt(0) - characterCodeOffset;\n        }\n        return result;\n    }\n\n    /**\n     * @description Extract the ID of a string in the format of `number@actualId`. If there\n     * is no value after the @ character or if no @ character is present, the original ID is returned.\n     * This is particularly useful for extracting the ID of [[ISpEnhancementEntry.dependency|`ISpEnhancementEntry.dependency`]].\n     * @param id Original SP Enhancement Entry ID.\n     * @returns The ID of a string in the format of `number@actualId`, or the original input if\n     * there is no @ character or no value after the @ character.\n     */\n    function getSpEntryId(id) {\n        return (typeof id === 'string' && id.split('@')[1]) || id;\n    }\n\n    /**\n     * @description Get the first SP Enhancement Entry that matches the given SP Entry ID, if it exists.\n     * @param id SP Enhancement entry ID.\n     * @param entries Collection of SP Enhancement entries to search in.\n     * @returns Corresponding SP Enhancement entry with the given SP ID, undefined otherwise.\n     */\n    function getSpEntryWithId(id, entries) {\n        const spId = getSpEntryId(id);\n        return (id && Array.isArray(entries) && entries.find(e => getSpEntryId(e && e.id) === spId)) || void 0;\n    }\n\n    /**\n     * @description Get all SP Enhancement entries that one would need to unlock the given SP entry.\n     * @param entry SP Entry to get dependencies for.\n     * @param allEntries Collection of SP Entries to search in.\n     * @param addedEntries Entries that have already been added to the resulting collection; used to handle circular references.\n     * @returns Collection of SP Enhancement entries (if any) that are required to unlock the given SP entry.\n     */\n    function getAllDependenciesForSpEntry(entry, allEntries, addedEntries = new Set()) {\n        let dependencies = [];\n        if (entry && entry.dependency && Array.isArray(allEntries) && allEntries.length > 0) {\n            const dependencyId = getSpEntryId(entry.dependency);\n            const dependencyEntry = allEntries.find(s => getSpEntryId(s && s.id) === dependencyId);\n            if (dependencyEntry && !addedEntries.has(dependencyEntry)) {\n                addedEntries.add(dependencyEntry);\n                const subDependencies = getAllDependenciesForSpEntry(dependencyEntry, allEntries, addedEntries);\n                dependencies = [dependencyEntry].concat(subDependencies);\n            }\n        }\n        return dependencies;\n    }\n\n    /**\n     * @description Get all SP Enhancement entries that require the given SP entry in order to be unlockable.\n     * @param entry SP Entry to get dependents for.\n     * @param allEntries Collection of SP Entries to search in.\n     * @param addedEntries Entries that have already been added to the resulting collection; used to handle circular references.\n     * @returns Collection of SP Enhancement entries (if any) that require the given SP entry in order to be unlockable.\n     */\n    function getAllEntriesThatDependOnSpEntry(entry, allEntries, addedEntries = new Set()) {\n        let dependents = [];\n        if (entry && entry.id && Array.isArray(allEntries) && allEntries.length > 0) {\n            const entryId = entry.id;\n            dependents = allEntries\n                .filter(s => {\n                return s.dependency &&\n                    s.dependency.includes(entryId) &&\n                    !addedEntries.has(s);\n            });\n            dependents.forEach(dependent => {\n                addedEntries.add(dependent);\n                const subDependents = getAllEntriesThatDependOnSpEntry(dependent, allEntries, addedEntries);\n                dependents = dependents.concat(subDependents);\n            });\n        }\n        return dependents;\n    }\n\n    var index$7 = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getEffectsForSpEnhancement: getEffectsForSpEnhancement,\n        getSpCategoryName: getSpCategoryName,\n        spIndexToCode: spIndexToCode,\n        spCodeToIndex: spCodeToIndex,\n        getSpEntryId: getSpEntryId,\n        getSpEntryWithId: getSpEntryWithId,\n        getAllDependenciesForSpEntry: getAllDependenciesForSpEntry,\n        getAllEntriesThatDependOnSpEntry: getAllEntriesThatDependOnSpEntry\n    });\n\n    /* NOTE: this file is automatically generated; do not edit this file */\n    var version = '0.7.0';\n\n    exports.buffs = index$2;\n    exports.bursts = index;\n    exports.datamineTypes = datamineTypes;\n    exports.extraSkills = index$3;\n    exports.items = index$4;\n    exports.leaderSkills = index$5;\n    exports.spEnhancements = index$7;\n    exports.units = index$6;\n    exports.version = version;\n\n    return exports;\n\n}({}));\n\n","/**\n * @description Get the level entry of a burst at a given level (or the last level if no level is given).\n * @param burst Burst to get level entry from.\n * @param level Optional 1-indexed level to get; if not specified, the last level of the burst is used.\n * @returns Level entry of a burst at a given level (or last level if no level is given) if it exists, undefined otherwise.\n */\nexport default function getLevelEntryForBurst(burst, level) {\n    const burstEffectsByLevel = (burst && Array.isArray(burst.levels)) ? burst.levels : [];\n    let levelIndex;\n    if (level !== null && !isNaN(level)) {\n        // 1-indexed\n        levelIndex = (+level - 1);\n    }\n    else {\n        // default to last entry in burst\n        levelIndex = burstEffectsByLevel.length - 1;\n    }\n    return burstEffectsByLevel[levelIndex];\n}\n","/**\n * @description Get the proc/passive ID of a given object.\n * @param effect Object to get the effect ID from.\n * @returns Proc/passive ID of the input effect if it exists; empty string otherwise.\n */\nexport default function getEffectId(effect) {\n    let resultId = '';\n    if (effect) {\n        resultId = effect['proc id'] || effect['unknown proc id'] ||\n            effect['passive id'] || effect['unknown passive id'] || '';\n    }\n    return resultId;\n}\n","export var KNOWN_PROC_ID;\n(function (KNOWN_PROC_ID) {\n    KNOWN_PROC_ID[\"BurstHeal\"] = \"2\";\n    KNOWN_PROC_ID[\"Unknown\"] = \"UNKNOWN_PROC_EFFECT_ID\";\n})(KNOWN_PROC_ID || (KNOWN_PROC_ID = {}));\nexport var KNOWN_PASSIVE_ID;\n(function (KNOWN_PASSIVE_ID) {\n    KNOWN_PASSIVE_ID[\"TriggeredEffect\"] = \"66\";\n    KNOWN_PASSIVE_ID[\"Unknown\"] = \"UNKNOWN_PASSIVE_EFFECT_ID\";\n})(KNOWN_PASSIVE_ID || (KNOWN_PASSIVE_ID = {}));\n","export var ProcBuffType;\n(function (ProcBuffType) {\n    ProcBuffType[\"Attack\"] = \"Attack\";\n})(ProcBuffType || (ProcBuffType = {}));\n/* eslint-disable */\n/**\n * @ignore\n */\nexport const PASSIVE_METADATA = Object.freeze({\n    \"1\": {\n        \"ID\": \"1\",\n        \"Name\": \"Parameter Boost\"\n    },\n    \"2\": {\n        \"ID\": \"2\",\n        \"Name\": \"Elemental Parameter Boost\"\n    },\n    \"3\": {\n        \"ID\": \"3\",\n        \"Name\": \"Type-Based Parameter Boost\"\n    },\n    \"4\": {\n        \"ID\": \"4\",\n        \"Name\": \"Status Negation\"\n    },\n    \"5\": {\n        \"ID\": \"5\",\n        \"Name\": \"Elemental Damage Reduction\"\n    },\n    \"6\": {\n        \"ID\": \"6\",\n        \"Name\": \"\"\n    },\n    \"8\": {\n        \"ID\": \"8\",\n        \"Name\": \"Damage Reduction\"\n    },\n    \"9\": {\n        \"ID\": \"9\",\n        \"Name\": \"Gradual BB Gauge Boost\"\n    },\n    \"10\": {\n        \"ID\": \"10\",\n        \"Name\": \"HC Efficacy\"\n    },\n    \"11\": {\n        \"ID\": \"11\",\n        \"Name\": \"HP-Conditional Parameter Boost\"\n    },\n    \"12\": {\n        \"ID\": \"12\",\n        \"Name\": \"HP-Conditional Drop Rate Boost\"\n    },\n    \"13\": {\n        \"ID\": \"13\",\n        \"Name\": \"BC Fill on Enemy Defeat\"\n    },\n    \"14\": {\n        \"ID\": \"14\",\n        \"Name\": \"Damage Reduction (Chance)\"\n    },\n    \"15\": {\n        \"ID\": \"15\",\n        \"Name\": \"Heal on Enemy Defeat\"\n    },\n    \"16\": {\n        \"ID\": \"16\",\n        \"Name\": \"Heal on Battle Victory\"\n    },\n    \"17\": {\n        \"ID\": \"17\",\n        \"Name\": \"HP Absorption\"\n    },\n    \"19\": {\n        \"ID\": \"19\",\n        \"Name\": \"Drop Rate Boost\"\n    },\n    \"20\": {\n        \"ID\": \"20\",\n        \"Name\": \"Status Infliction\"\n    },\n    \"21\": {\n        \"ID\": \"21\",\n        \"Name\": \"Parameter Boost for First X Turns\"\n    },\n    \"23\": {\n        \"ID\": \"23\",\n        \"Name\": \"BC Fill on Battle Victory\"\n    },\n    \"24\": {\n        \"ID\": \"24\",\n        \"Name\": \"Heal when Attacked (Chance)\"\n    },\n    \"25\": {\n        \"ID\": \"25\",\n        \"Name\": \"BC Fill when Hit (Chance)\"\n    },\n    \"26\": {\n        \"ID\": \"26\",\n        \"Name\": \"Damage Counter (Chance)\"\n    },\n    \"27\": {\n        \"ID\": \"27\",\n        \"Name\": \"Increased Target Chance\"\n    },\n    \"28\": {\n        \"ID\": \"28\",\n        \"Name\": \"Decreased Target Chance\"\n    },\n    \"29\": {\n        \"ID\": \"29\",\n        \"Name\": \"Defense Ignore (Chance)\"\n    },\n    \"30\": {\n        \"ID\": \"30\",\n        \"Name\": \"BB Conditional Parameter Boost\"\n    },\n    \"31\": {\n        \"ID\": \"31\",\n        \"Name\": \"Spark Damage Boost, Boost Drop Rate on Spark\"\n    },\n    \"32\": {\n        \"ID\": \"32\",\n        \"Name\": \"BC Efficacy\"\n    },\n    \"33\": {\n        \"ID\": \"33\",\n        \"Name\": \"Heal over Time\"\n    },\n    \"34\": {\n        \"ID\": \"34\",\n        \"Name\": \"Critical Damage Boost\"\n    },\n    \"35\": {\n        \"ID\": \"35\",\n        \"Name\": \"BC Fill when Normal Attacking\"\n    },\n    \"36\": {\n        \"ID\": \"36\",\n        \"Name\": \"Extra Action\"\n    },\n    \"37\": {\n        \"ID\": \"37\",\n        \"Name\": \"Hit Count Boost\"\n    },\n    \"38\": {\n        \"ID\": \"38\",\n        \"Name\": \"\"\n    },\n    \"39\": {\n        \"ID\": \"39\",\n        \"Name\": \"\"\n    },\n    \"40\": {\n        \"ID\": \"40\",\n        \"Name\": \"Parameter Conversion\"\n    },\n    \"41\": {\n        \"ID\": \"41\",\n        \"Name\": \"Unique Element Count Conditional Parameter Boost\"\n    },\n    \"42\": {\n        \"ID\": \"42\",\n        \"Name\": \"Gender Parameter Boost\"\n    },\n    \"43\": {\n        \"ID\": \"43\",\n        \"Name\": \"Damage Reduction to 1\"\n    },\n    \"44\": {\n        \"ID\": \"44\",\n        \"Name\": \"Flat Parameter Boost\"\n    },\n    \"45\": {\n        \"ID\": \"45\",\n        \"Name\": \"Critical Damage Negation\"\n    },\n    \"46\": {\n        \"ID\": \"46\",\n        \"Name\": \"Parameter Boost Relative to HP Remainaing\"\n    },\n    \"47\": {\n        \"ID\": \"47\",\n        \"Name\": \"BC Fill on Spark\"\n    },\n    \"48\": {\n        \"ID\": \"48\",\n        \"Name\": \"BC Cost Reduction\"\n    },\n    \"49\": {\n        \"ID\": \"49\",\n        \"Name\": \"BB Gauge Consumption Reduction\"\n    },\n    \"50\": {\n        \"ID\": \"50\",\n        \"Name\": \"Elemental Damage Boost\"\n    },\n    \"52\": {\n        \"ID\": \"52\",\n        \"Name\": \"\"\n    },\n    \"53\": {\n        \"ID\": \"53\",\n        \"Name\": \"Critical/Elemental Weakness Damage Negation\"\n    },\n    \"55\": {\n        \"ID\": \"55\",\n        \"Name\": \"Conditional Effect based on HP Threshold\"\n    },\n    \"58\": {\n        \"ID\": \"58\",\n        \"Name\": \"Damage Reduction when Guarding\"\n    },\n    \"59\": {\n        \"ID\": \"59\",\n        \"Name\": \"BC Fill when Attacked when Guarding\"\n    },\n    \"61\": {\n        \"ID\": \"61\",\n        \"Name\": \"BC Fill on Guard\"\n    },\n    \"62\": {\n        \"ID\": \"62\",\n        \"Name\": \"Elemental Damage Reduction\"\n    },\n    \"63\": {\n        \"ID\": \"63\",\n        \"Name\": \"Elemental Damage Reduction for first X Turns\"\n    },\n    \"64\": {\n        \"ID\": \"64\",\n        \"Name\": \"BB Atk Boost\"\n    },\n    \"65\": {\n        \"ID\": \"65\",\n        \"Name\": \"BC Fill on Critical\"\n    },\n    \"66\": {\n        \"ID\": \"66\",\n        \"Name\": \"Add buff to Brave Burst\"\n    },\n    \"69\": {\n        \"ID\": \"69\",\n        \"Name\": \"Chance KO Resistance (Angel Idol)\"\n    },\n    \"70\": {\n        \"ID\": \"70\",\n        \"Name\": \"OD Gauge Fill Rate Boost\"\n    },\n    \"71\": {\n        \"ID\": \"71\",\n        \"Name\": \"Status Counter\"\n    },\n    \"72\": {\n        \"ID\": \"72\",\n        \"Name\": \"Turn End Effects Activate at Turn Start\"\n    },\n    \"73\": {\n        \"ID\": \"73\",\n        \"Name\": \"Parameter Reduction Negation\"\n    },\n    \"74\": {\n        \"ID\": \"74\",\n        \"Name\": \"Attack Boost on Status Afflicted Foes\"\n    },\n    \"75\": {\n        \"ID\": \"75\",\n        \"Name\": \"Spark Vulnerability\"\n    },\n    \"77\": {\n        \"ID\": \"77\",\n        \"Name\": \"Spark Damage Reduction\"\n    },\n    \"78\": {\n        \"ID\": \"78\",\n        \"Name\": \"Conditional Effect after Damage Received Threshold\"\n    },\n    \"79\": {\n        \"ID\": \"79\",\n        \"Name\": \"BC Fill after Damage Received Threshold\"\n    },\n    \"80\": {\n        \"ID\": \"80\",\n        \"Name\": \"Conditional Effect after Damage Dealt Threshold\"\n    },\n    \"81\": {\n        \"ID\": \"81\",\n        \"Name\": \"BC Fill after Damage Dealt Threshold\"\n    },\n    \"82\": {\n        \"ID\": \"82\",\n        \"Name\": \"Conditional Effect after BC Received Threshold\"\n    },\n    \"84\": {\n        \"ID\": \"84\",\n        \"Name\": \"Conditional Effect after HC Received Threshold\"\n    },\n    \"85\": {\n        \"ID\": \"85\",\n        \"Name\": \"BC Fill after HC Received Threshold\"\n    },\n    \"86\": {\n        \"ID\": \"86\",\n        \"Name\": \"Conditional Effect after Spark Threshold\"\n    },\n    \"88\": {\n        \"ID\": \"88\",\n        \"Name\": \"Conditional Effect on Guard\"\n    },\n    \"89\": {\n        \"ID\": \"89\",\n        \"Name\": \"Conditional Effect on Critical\"\n    },\n    \"90\": {\n        \"ID\": \"90\",\n        \"Name\": \"Status Infliction on Critical\"\n    },\n    \"91\": {\n        \"ID\": \"91\",\n        \"Name\": \"\"\n    },\n    \"92\": {\n        \"ID\": \"92\",\n        \"Name\": \"Negate Defense Ignore\"\n    },\n    \"93\": {\n        \"ID\": \"93\",\n        \"Name\": \"Added Elements\"\n    },\n    \"96\": {\n        \"ID\": \"96\",\n        \"Name\": \"Normal Attacks Hit All Foes\"\n    },\n    \"97\": {\n        \"ID\": \"97\",\n        \"Name\": \"Player EXP Boost\"\n    },\n    \"99\": {\n        \"ID\": \"99\",\n        \"Name\": \"\"\n    },\n    \"100\": {\n        \"ID\": \"100\",\n        \"Name\": \"Spark Critical\"\n    },\n    \"101\": {\n        \"ID\": \"101\",\n        \"Name\": \"Heal on Spark\"\n    },\n    \"102\": {\n        \"ID\": \"102\",\n        \"Name\": \"Added Elements\"\n    },\n    \"103\": {\n        \"ID\": \"103\",\n        \"Name\": \"BB Atk Boost when HP Passes Threshold\"\n    },\n    \"104\": {\n        \"ID\": \"104\",\n        \"Name\": \"Spark Boost when HP Passes Threshold\"\n    },\n    \"105\": {\n        \"ID\": \"105\",\n        \"Name\": \"Turn-Based Parameter Boost\"\n    },\n    \"106\": {\n        \"ID\": \"106\",\n        \"Name\": \"Conditional Effect after Activating Overdrive\"\n    },\n    \"107\": {\n        \"ID\": \"107\",\n        \"Name\": \"Add Effect to Leader Skill\"\n    },\n    \"109\": {\n        \"ID\": \"109\",\n        \"Name\": \"BB Gauge Reduction (Chance)\"\n    },\n    \"110\": {\n        \"ID\": \"110\",\n        \"Name\": \"BC Efficacy Reduction (Chance)\"\n    },\n    \"111\": {\n        \"ID\": \"111\",\n        \"Name\": \"Increase Brave Burst Activation Rate\"\n    },\n    \"112\": {\n        \"ID\": \"112\",\n        \"Name\": \"ABP/CBP Boost\"\n    },\n    \"113\": {\n        \"ID\": \"113\",\n        \"Name\": \"Conditional Effect after HP Threshold\"\n    },\n    \"114\": {\n        \"ID\": \"114\",\n        \"Name\": \"Inflict Buff when Attacked\"\n    },\n    \"127\": {\n        \"ID\": \"127\",\n        \"Name\": \"Additional Damage (Damage over Time) Reduction\"\n    },\n    \"128\": {\n        \"ID\": \"128\",\n        \"Name\": \"Damage Reduction from Normal Attacks\"\n    },\n    \"143\": {\n        \"ID\": \"143\",\n        \"Name\": \"Break Atk Parameter Limit\"\n    },\n    \"10008\": {\n        \"ID\": \"10008\",\n        \"Name\": \"Damage Reduction from Specific Sources\"\n    },\n    \"11004\": {\n        \"ID\": \"11004\",\n        \"Name\": \"Elemental Spark Damage Boost\"\n    },\n    \"11005\": {\n        \"ID\": \"11005\",\n        \"Name\": \"Elemental Critical Damage Boost\"\n    },\n    \"11006\": {\n        \"ID\": \"11006\",\n        \"Name\": \"Summoner EXP Boost\"\n    },\n    \"11009\": {\n        \"ID\": \"11009\",\n        \"Name\": \"Effect Duration Boost\"\n    },\n    \"66,1\": {\n        \"ID\": \"66,1\",\n        \"Name\": \"\"\n    }\n});\n/**\n * @ignore\n */\nexport const PROC_METADATA = Object.freeze({\n    \"0\": {\n        \"ID\": \"0\",\n        \"Name\": \"\",\n        \"Type\": \"\"\n    },\n    \"1\": {\n        \"ID\": \"1\",\n        \"Name\": \"Regular Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"2\": {\n        \"ID\": \"2\",\n        \"Name\": \"Burst Heal\",\n        \"Type\": \"\"\n    },\n    \"3\": {\n        \"ID\": \"3\",\n        \"Name\": \"Heal over Time\",\n        \"Type\": \"\"\n    },\n    \"4\": {\n        \"ID\": \"4\",\n        \"Name\": \"BB Gauge Refill\",\n        \"Type\": \"\"\n    },\n    \"5\": {\n        \"ID\": \"5\",\n        \"Name\": \"Parameter Boost\",\n        \"Type\": \"\"\n    },\n    \"6\": {\n        \"ID\": \"6\",\n        \"Name\": \"Drop Rate\",\n        \"Type\": \"\"\n    },\n    \"7\": {\n        \"ID\": \"7\",\n        \"Name\": \"Guaranteed KO Resistance (Angel Idol)\",\n        \"Type\": \"\"\n    },\n    \"8\": {\n        \"ID\": \"8\",\n        \"Name\": \"Max HP Boost\",\n        \"Type\": \"\"\n    },\n    \"9\": {\n        \"ID\": \"9\",\n        \"Name\": \"Parameter Reduction\",\n        \"Type\": \"\"\n    },\n    \"10\": {\n        \"ID\": \"10\",\n        \"Name\": \"Status Cleanse\",\n        \"Type\": \"\"\n    },\n    \"11\": {\n        \"ID\": \"11\",\n        \"Name\": \"Status Infliction\",\n        \"Type\": \"\"\n    },\n    \"12\": {\n        \"ID\": \"12\",\n        \"Name\": \"Revive (Guaranteed)\",\n        \"Type\": \"\"\n    },\n    \"13\": {\n        \"ID\": \"13\",\n        \"Name\": \"Random Target Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"14\": {\n        \"ID\": \"14\",\n        \"Name\": \"Lifesteal Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"16\": {\n        \"ID\": \"16\",\n        \"Name\": \"Elemental Damage Reduction\",\n        \"Type\": \"\"\n    },\n    \"17\": {\n        \"ID\": \"17\",\n        \"Name\": \"Status Negation\",\n        \"Type\": \"\"\n    },\n    \"18\": {\n        \"ID\": \"18\",\n        \"Name\": \"Damage Reduction\",\n        \"Type\": \"\"\n    },\n    \"19\": {\n        \"ID\": \"19\",\n        \"Name\": \"Gradual BB Gauge Boost\",\n        \"Type\": \"\"\n    },\n    \"20\": {\n        \"ID\": \"20\",\n        \"Name\": \"BC Fill on Hit\",\n        \"Type\": \"\"\n    },\n    \"22\": {\n        \"ID\": \"22\",\n        \"Name\": \"Defense Ignore\",\n        \"Type\": \"\"\n    },\n    \"23\": {\n        \"ID\": \"23\",\n        \"Name\": \"Spark Boost\",\n        \"Type\": \"\"\n    },\n    \"24\": {\n        \"ID\": \"24\",\n        \"Name\": \"Parameter Conversion\",\n        \"Type\": \"\"\n    },\n    \"26\": {\n        \"ID\": \"26\",\n        \"Name\": \"Hit Count Boost\",\n        \"Type\": \"\"\n    },\n    \"27\": {\n        \"ID\": \"27\",\n        \"Name\": \"Proportional Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"28\": {\n        \"ID\": \"28\",\n        \"Name\": \"Fixed Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"29\": {\n        \"ID\": \"29\",\n        \"Name\": \"Multi-Element Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"30\": {\n        \"ID\": \"30\",\n        \"Name\": \"Add Elements\",\n        \"Type\": \"\"\n    },\n    \"31\": {\n        \"ID\": \"31\",\n        \"Name\": \"Instant BB Gauge Fill\",\n        \"Type\": \"\"\n    },\n    \"32\": {\n        \"ID\": \"32\",\n        \"Name\": \"Element Shift\",\n        \"Type\": \"\"\n    },\n    \"33\": {\n        \"ID\": \"33\",\n        \"Name\": \"Buff Removal (Chance)\",\n        \"Type\": \"\"\n    },\n    \"34\": {\n        \"ID\": \"34\",\n        \"Name\": \"BB Gauge Reduction (Chance)\",\n        \"Type\": \"\"\n    },\n    \"36\": {\n        \"ID\": \"36\",\n        \"Name\": \"Leader Skill Lock (Chance)\",\n        \"Type\": \"\"\n    },\n    \"37\": {\n        \"ID\": \"37\",\n        \"Name\": \"Summon Unit\",\n        \"Type\": \"\"\n    },\n    \"38\": {\n        \"ID\": \"38\",\n        \"Name\": \"Status Cure\",\n        \"Type\": \"\"\n    },\n    \"39\": {\n        \"ID\": \"39\",\n        \"Name\": \"Elemental Damage Reduction\",\n        \"Type\": \"\"\n    },\n    \"40\": {\n        \"ID\": \"40\",\n        \"Name\": \"Status Infliction Added to Attack\",\n        \"Type\": \"\"\n    },\n    \"42\": {\n        \"ID\": \"42\",\n        \"Name\": \"\",\n        \"Type\": \"\"\n    },\n    \"43\": {\n        \"ID\": \"43\",\n        \"Name\": \"Instant OD Fill\",\n        \"Type\": \"\"\n    },\n    \"44\": {\n        \"ID\": \"44\",\n        \"Name\": \"Damage over Time (Additional Damage)\",\n        \"Type\": \"\"\n    },\n    \"45\": {\n        \"ID\": \"45\",\n        \"Name\": \"BB Atk Boost\",\n        \"Type\": \"\"\n    },\n    \"46\": {\n        \"ID\": \"46\",\n        \"Name\": \"Non-Lethal Proportional Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"47\": {\n        \"ID\": \"47\",\n        \"Name\": \"HP Scaled Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"48\": {\n        \"ID\": \"48\",\n        \"Name\": \"Piercing Proportional Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"49\": {\n        \"ID\": \"49\",\n        \"Name\": \"Retire\",\n        \"Type\": \"\"\n    },\n    \"50\": {\n        \"ID\": \"50\",\n        \"Name\": \"Damage Counter\",\n        \"Type\": \"\"\n    },\n    \"51\": {\n        \"ID\": \"51\",\n        \"Name\": \"Parameter Reduction Added to Attack\",\n        \"Type\": \"\"\n    },\n    \"52\": {\n        \"ID\": \"52\",\n        \"Name\": \"BC Efficacy\",\n        \"Type\": \"\"\n    },\n    \"53\": {\n        \"ID\": \"53\",\n        \"Name\": \"Status Counter\",\n        \"Type\": \"\"\n    },\n    \"54\": {\n        \"ID\": \"54\",\n        \"Name\": \"Critical Damage Boost\",\n        \"Type\": \"\"\n    },\n    \"55\": {\n        \"ID\": \"55\",\n        \"Name\": \"Elemental Damage Boost\",\n        \"Type\": \"\"\n    },\n    \"56\": {\n        \"ID\": \"56\",\n        \"Name\": \"Chance KO Resistance (Angel Idol)\",\n        \"Type\": \"\"\n    },\n    \"57\": {\n        \"ID\": \"57\",\n        \"Name\": \"BC Efficacy Reduction\",\n        \"Type\": \"\"\n    },\n    \"58\": {\n        \"ID\": \"58\",\n        \"Name\": \"Spark Vulnerability\",\n        \"Type\": \"\"\n    },\n    \"59\": {\n        \"ID\": \"59\",\n        \"Name\": \"BB Atk Reduction\",\n        \"Type\": \"\"\n    },\n    \"60\": {\n        \"ID\": \"60\",\n        \"Name\": \"\",\n        \"Type\": \"\"\n    },\n    \"61\": {\n        \"ID\": \"61\",\n        \"Name\": \"BB-Scaled Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"62\": {\n        \"ID\": \"62\",\n        \"Name\": \"Barrier\",\n        \"Type\": \"\"\n    },\n    \"63\": {\n        \"ID\": \"63\",\n        \"Name\": \"Selective Buff Wipe\",\n        \"Type\": \"\"\n    },\n    \"64\": {\n        \"ID\": \"64\",\n        \"Name\": \"Consecutive Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"65\": {\n        \"ID\": \"65\",\n        \"Name\": \"Attack Boost on Status Afflicted Foes\",\n        \"Type\": \"\"\n    },\n    \"66\": {\n        \"ID\": \"66\",\n        \"Name\": \"Revive (Chance)\",\n        \"Type\": \"\"\n    },\n    \"67\": {\n        \"ID\": \"67\",\n        \"Name\": \"BC Fill on Spark\",\n        \"Type\": \"\"\n    },\n    \"68\": {\n        \"ID\": \"68\",\n        \"Name\": \"Damage Reduction when Guarding\",\n        \"Type\": \"\"\n    },\n    \"69\": {\n        \"ID\": \"69\",\n        \"Name\": \"BC Fill on Guard\",\n        \"Type\": \"\"\n    },\n    \"70\": {\n        \"ID\": \"70\",\n        \"Name\": \"\",\n        \"Type\": \"\"\n    },\n    \"71\": {\n        \"ID\": \"71\",\n        \"Name\": \"BB Gauge Fill Rate Debuff\",\n        \"Type\": \"\"\n    },\n    \"73\": {\n        \"ID\": \"73\",\n        \"Name\": \"Parameter Reduction Negation\",\n        \"Type\": \"\"\n    },\n    \"75\": {\n        \"ID\": \"75\",\n        \"Name\": \"Element Squad-Scaled Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"76\": {\n        \"ID\": \"76\",\n        \"Name\": \"Extra Action\",\n        \"Type\": \"\"\n    },\n    \"78\": {\n        \"ID\": \"78\",\n        \"Name\": \"Self Parameter Boost\",\n        \"Type\": \"\"\n    },\n    \"79\": {\n        \"ID\": \"79\",\n        \"Name\": \"Player EXP Boost\",\n        \"Type\": \"\"\n    },\n    \"82\": {\n        \"ID\": \"82\",\n        \"Name\": \"\",\n        \"Type\": \"\"\n    },\n    \"83\": {\n        \"ID\": \"83\",\n        \"Name\": \"Spark Critical\",\n        \"Type\": \"\"\n    },\n    \"84\": {\n        \"ID\": \"84\",\n        \"Name\": \"OD Gauge Fill Rate\",\n        \"Type\": \"\"\n    },\n    \"85\": {\n        \"ID\": \"85\",\n        \"Name\": \"Heal when Attacked\",\n        \"Type\": \"\"\n    },\n    \"86\": {\n        \"ID\": \"86\",\n        \"Name\": \"HP Absorption\",\n        \"Type\": \"\"\n    },\n    \"87\": {\n        \"ID\": \"87\",\n        \"Name\": \"Heal on Spark\",\n        \"Type\": \"\"\n    },\n    \"88\": {\n        \"ID\": \"88\",\n        \"Name\": \"Self Spark Boost\",\n        \"Type\": \"\"\n    },\n    \"89\": {\n        \"ID\": \"89\",\n        \"Name\": \"Self Parameter Conversion\",\n        \"Type\": \"\"\n    },\n    \"92\": {\n        \"ID\": \"92\",\n        \"Name\": \"Self Max HP Boost\",\n        \"Type\": \"\"\n    },\n    \"93\": {\n        \"ID\": \"93\",\n        \"Name\": \"Spark/Critical/Elemental Weakness Damage Reduction\",\n        \"Type\": \"\"\n    },\n    \"94\": {\n        \"ID\": \"94\",\n        \"Name\": \"Normal Attacks Hit All Foes\",\n        \"Type\": \"\"\n    },\n    \"95\": {\n        \"ID\": \"95\",\n        \"Name\": \"Nullify Sphere Effects (Sphere Lock)\",\n        \"Type\": \"\"\n    },\n    \"96\": {\n        \"ID\": \"96\",\n        \"Name\": \"Nullify Extra Skill Effects (ES Lock)\",\n        \"Type\": \"\"\n    },\n    \"97\": {\n        \"ID\": \"97\",\n        \"Name\": \"Element Target Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"113\": {\n        \"ID\": \"113\",\n        \"Name\": \"Gradual OD Fill\",\n        \"Type\": \"\"\n    },\n    \"119\": {\n        \"ID\": \"119\",\n        \"Name\": \"Gradual BC Drain\",\n        \"Type\": \"\"\n    },\n    \"123\": {\n        \"ID\": \"123\",\n        \"Name\": \"OD Gauge Reduction\",\n        \"Type\": \"\"\n    },\n    \"126\": {\n        \"ID\": \"126\",\n        \"Name\": \"Damage over Time (Additional Damage) Mitigation\",\n        \"Type\": \"\"\n    },\n    \"127\": {\n        \"ID\": \"127\",\n        \"Name\": \"Lock On\",\n        \"Type\": \"\"\n    },\n    \"130\": {\n        \"ID\": \"130\",\n        \"Name\": \"Parameter Reduction Counter\",\n        \"Type\": \"\"\n    },\n    \"131\": {\n        \"ID\": \"131\",\n        \"Name\": \"\",\n        \"Type\": \"\"\n    },\n    \"132\": {\n        \"ID\": \"132\",\n        \"Name\": \"Critical/Elemental Weakness Vulnerability\",\n        \"Type\": \"\"\n    },\n    \"901\": {\n        \"ID\": \"901\",\n        \"Name\": \"Raid Heal (on Map)\",\n        \"Type\": \"\"\n    },\n    \"902\": {\n        \"ID\": \"902\",\n        \"Name\": \"Raid Parameter Boost\",\n        \"Type\": \"\"\n    },\n    \"903\": {\n        \"ID\": \"903\",\n        \"Name\": \"Raid Boss Reveal\",\n        \"Type\": \"\"\n    },\n    \"905\": {\n        \"ID\": \"905\",\n        \"Name\": \"Raid Teleport\",\n        \"Type\": \"\"\n    },\n    \"906\": {\n        \"ID\": \"906\",\n        \"Name\": \"Raid Flee\",\n        \"Type\": \"\"\n    },\n    \"907\": {\n        \"ID\": \"907\",\n        \"Name\": \"Raid Damage Reduction\",\n        \"Type\": \"\"\n    },\n    \"908\": {\n        \"ID\": \"908\",\n        \"Name\": \"Raid Item Drop Rate Boost\",\n        \"Type\": \"\"\n    },\n    \"10000\": {\n        \"ID\": \"10000\",\n        \"Name\": \"Taunt\",\n        \"Type\": \"\"\n    },\n    \"10001\": {\n        \"ID\": \"10001\",\n        \"Name\": \"Stealth\",\n        \"Type\": \"\"\n    },\n    \"10002\": {\n        \"ID\": \"10002\",\n        \"Name\": \"Shield (old)\",\n        \"Type\": \"\"\n    },\n    \"10003\": {\n        \"ID\": \"10003\",\n        \"Name\": \"Nullify Sphere Effects (Sphere Lock)\",\n        \"Type\": \"\"\n    },\n    \"10004\": {\n        \"ID\": \"10004\",\n        \"Name\": \"Damage Immunity\",\n        \"Type\": \"\"\n    },\n    \"10005\": {\n        \"ID\": \"10005\",\n        \"Name\": \"Turn Skip (short duration)\",\n        \"Type\": \"\"\n    },\n    \"10006\": {\n        \"ID\": \"10006\",\n        \"Name\": \"Turn Skip (long duration)\",\n        \"Type\": \"\"\n    },\n    \"10007\": {\n        \"ID\": \"10007\",\n        \"Name\": \"Evasion\",\n        \"Type\": \"\"\n    },\n    \"10009\": {\n        \"ID\": \"10009\",\n        \"Name\": \"\",\n        \"Type\": \"\"\n    },\n    \"10012\": {\n        \"ID\": \"10012\",\n        \"Name\": \"OD Drain\",\n        \"Type\": \"\"\n    },\n    \"10015\": {\n        \"ID\": \"10015\",\n        \"Name\": \"Elemental Spark Boost\",\n        \"Type\": \"\"\n    },\n    \"10016\": {\n        \"ID\": \"10016\",\n        \"Name\": \"Element Critical Damage Boost\",\n        \"Type\": \"\"\n    },\n    \"10017\": {\n        \"ID\": \"10017\",\n        \"Name\": \"Elemental Shield\",\n        \"Type\": \"\"\n    },\n    \"10018\": {\n        \"ID\": \"10018\",\n        \"Name\": \"Max HP Reduction\",\n        \"Type\": \"\"\n    },\n    \"10019\": {\n        \"ID\": \"10019\",\n        \"Name\": \"Effect Purge\",\n        \"Type\": \"\"\n    },\n    \"10020\": {\n        \"ID\": \"10020\",\n        \"Name\": \"Piercing Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"10021\": {\n        \"ID\": \"10021\",\n        \"Name\": \"Active Healing Reduction\",\n        \"Type\": \"\"\n    },\n    \"10022\": {\n        \"ID\": \"10022\",\n        \"Name\": \"Passive Healing Reduction\",\n        \"Type\": \"\"\n    },\n    \"10023\": {\n        \"ID\": \"10023\",\n        \"Name\": \"HC Efficacy Reduction\",\n        \"Type\": \"\"\n    },\n    \"10025\": {\n        \"ID\": \"10025\",\n        \"Name\": \"KO Resistance Negation\",\n        \"Type\": \"\"\n    },\n    \"10026\": {\n        \"ID\": \"10026\",\n        \"Name\": \"Doom\",\n        \"Type\": \"\"\n    },\n    \"11000\": {\n        \"ID\": \"11000\",\n        \"Name\": \"Negative HP-Scaled Damage\",\n        \"Type\": \"Attack\"\n    },\n    \"11001\": {\n        \"ID\": \"11001\",\n        \"Name\": \"Max HP% DoT of Weaker Element Enemies\",\n        \"Type\": \"\"\n    },\n    \"11002\": {\n        \"ID\": \"11002\",\n        \"Name\": \"HP Limit Break, Convert to HP\",\n        \"Type\": \"\"\n    },\n    \"11003\": {\n        \"ID\": \"11003\",\n        \"Name\": \"Effect Negation\",\n        \"Type\": \"\"\n    },\n    \"70001\": {\n        \"ID\": \"70001\",\n        \"Name\": \"Mana Bubble Shield\",\n        \"Type\": \"\"\n    },\n    \"70002\": {\n        \"ID\": \"70002\",\n        \"Name\": \"Recast\",\n        \"Type\": \"\"\n    },\n    \"2-5\": {\n        \"ID\": \"2-5\",\n        \"Name\": \"Burst Heal and DEF/REC Boost\",\n        \"Type\": \"\"\n    }\n});\n","import { PROC_METADATA } from './effect-metadata';\n/**\n * @description Get the associated metadata entry for a given proc ID.\n * @param id Proc ID to get metadata for.\n * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n * @returns Corresponding proc metadata entry if it exists, undefined otherwise.\n */\nexport default function getMetadataForProc(id, metadata = PROC_METADATA) {\n    return (!!metadata && typeof metadata === 'object') && Object.hasOwnProperty.call(metadata, id)\n        ? metadata[id]\n        : (void 0);\n}\n","import getMetadataForProc from './getMetadataForProc';\nimport { ProcBuffType } from './effect-metadata';\n/**\n * @description Determine if a given proc ID's type is an attack.\n * @param id Proc ID to check.\n * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n * @returns Whether the given ID corresponds to a proc ID whose type is attack.\n */\nexport default function isAttackingProcId(id, metadata) {\n    const metadataEntry = getMetadataForProc(id, metadata);\n    return !!metadataEntry && metadataEntry.Type === ProcBuffType.Attack;\n}\n","export var Ailment;\n(function (Ailment) {\n    Ailment[\"Poison\"] = \"poison\";\n    Ailment[\"Weak\"] = \"weak\";\n    Ailment[\"Sick\"] = \"sick\";\n    Ailment[\"Injury\"] = \"injury\";\n    Ailment[\"Curse\"] = \"curse\";\n    Ailment[\"Paralysis\"] = \"paralysis\";\n    Ailment[\"AttackReduction\"] = \"atk down\";\n    Ailment[\"DefenseReduction\"] = \"def down\";\n    Ailment[\"RecoveryReduction\"] = \"rec down\";\n    Ailment[\"Unknown\"] = \"unknown\";\n})(Ailment || (Ailment = {}));\nexport var ArenaCondition;\n(function (ArenaCondition) {\n    ArenaCondition[\"hp_50pr_under\"] = \"hp_50pr_under\";\n    ArenaCondition[\"hp_50pr_over\"] = \"hp_50pr_over\";\n    ArenaCondition[\"hp_75pr_under\"] = \"hp_75pr_under\";\n    ArenaCondition[\"hp_25pr_under\"] = \"hp_25pr_under\";\n    ArenaCondition[\"hp_min\"] = \"hp_min\";\n    ArenaCondition[\"hp_max\"] = \"hp_max\";\n    ArenaCondition[\"atk_max\"] = \"atk_max\";\n    ArenaCondition[\"random\"] = \"random\";\n})(ArenaCondition || (ArenaCondition = {}));\nexport var MoveType;\n(function (MoveType) {\n    MoveType[\"Moving\"] = \"1\";\n    MoveType[\"Teleporting\"] = \"2\";\n    MoveType[\"NonMoving\"] = \"3\";\n})(MoveType || (MoveType = {}));\nexport var TargetArea;\n(function (TargetArea) {\n    TargetArea[\"Aoe\"] = \"aoe\";\n    TargetArea[\"Single\"] = \"single\";\n    TargetArea[\"Random\"] = \"random\";\n})(TargetArea || (TargetArea = {}));\nexport var TargetAreaShorthand;\n(function (TargetAreaShorthand) {\n    TargetAreaShorthand[\"Aoe\"] = \"AOE\";\n    TargetAreaShorthand[\"Single\"] = \"ST\";\n    TargetAreaShorthand[\"Random\"] = \"RT\";\n})(TargetAreaShorthand || (TargetAreaShorthand = {}));\nexport var TargetType;\n(function (TargetType) {\n    TargetType[\"Self\"] = \"self\";\n    TargetType[\"Party\"] = \"party\";\n    TargetType[\"Enemy\"] = \"enemy\";\n})(TargetType || (TargetType = {}));\nexport var SpPassiveType;\n(function (SpPassiveType) {\n    SpPassiveType[\"AddPassive\"] = \"passive\";\n    SpPassiveType[\"EnhanceBb\"] = \"add to bb\";\n    SpPassiveType[\"EnhanceSbb\"] = \"add to sbb\";\n    SpPassiveType[\"EnhanceUbb\"] = \"add to ubb\";\n    SpPassiveType[\"EnhancePassive\"] = \"add to passive\";\n})(SpPassiveType || (SpPassiveType = {}));\nexport var SphereTypeName;\n(function (SphereTypeName) {\n    SphereTypeName[\"None\"] = \"None\";\n    SphereTypeName[\"Status Enhancing\"] = \"Status Enhancing\";\n    SphereTypeName[\"Critical\"] = \"Critical\";\n    SphereTypeName[\"Drop\"] = \"Drop\";\n    SphereTypeName[\"Ailment Inducing\"] = \"Ailment Inducing\";\n    SphereTypeName[\"Element Fusion\"] = \"Element Fusion\";\n    SphereTypeName[\"BB Gauge\"] = \"BB Gauge\";\n    SphereTypeName[\"HP Recovery\"] = \"HP Recovery\";\n    SphereTypeName[\"Target Setting\"] = \"Target Setting\";\n    SphereTypeName[\"Damage Deflecting\"] = \"Damage Deflecting\";\n    SphereTypeName[\"Damage Reducing\"] = \"Damage Reducing\";\n    SphereTypeName[\"Spark\"] = \"Spark\";\n    SphereTypeName[\"Defense Piercing\"] = \"Defense Piercing\";\n    SphereTypeName[\"Attack Boosting\"] = \"Attack Boosting\";\n    SphereTypeName[\"Special\"] = \"Special\";\n})(SphereTypeName || (SphereTypeName = {}));\nexport var SphereTypeId;\n(function (SphereTypeId) {\n    SphereTypeId[SphereTypeId[\"None\"] = 0] = \"None\";\n    SphereTypeId[SphereTypeId[\"Status Enhancing\"] = 1] = \"Status Enhancing\";\n    SphereTypeId[SphereTypeId[\"Critical\"] = 2] = \"Critical\";\n    SphereTypeId[SphereTypeId[\"Drop\"] = 3] = \"Drop\";\n    SphereTypeId[SphereTypeId[\"Ailment Inducing\"] = 4] = \"Ailment Inducing\";\n    SphereTypeId[SphereTypeId[\"Element Fusion\"] = 5] = \"Element Fusion\";\n    SphereTypeId[SphereTypeId[\"BB Gauge\"] = 6] = \"BB Gauge\";\n    SphereTypeId[SphereTypeId[\"HP Recovery\"] = 7] = \"HP Recovery\";\n    SphereTypeId[SphereTypeId[\"Target Setting\"] = 8] = \"Target Setting\";\n    SphereTypeId[SphereTypeId[\"Damage Deflecting\"] = 9] = \"Damage Deflecting\";\n    SphereTypeId[SphereTypeId[\"Damage Reducing\"] = 10] = \"Damage Reducing\";\n    SphereTypeId[SphereTypeId[\"Spark\"] = 11] = \"Spark\";\n    SphereTypeId[SphereTypeId[\"Defense Piercing\"] = 12] = \"Defense Piercing\";\n    SphereTypeId[SphereTypeId[\"Attack Boosting\"] = 13] = \"Attack Boosting\";\n    SphereTypeId[SphereTypeId[\"Special\"] = 14] = \"Special\";\n})(SphereTypeId || (SphereTypeId = {}));\nexport var SpCategoryName;\n(function (SpCategoryName) {\n    SpCategoryName[\"Parameter Boost\"] = \"Parameter Boost\";\n    SpCategoryName[\"Spark\"] = \"Spark\";\n    SpCategoryName[\"Critical Hits\"] = \"Critical Hits\";\n    SpCategoryName[\"Attack Boost\"] = \"Attack Boost\";\n    SpCategoryName[\"BB Gauge\"] = \"BB Gauge\";\n    SpCategoryName[\"HP Recovery\"] = \"HP Recovery\";\n    SpCategoryName[\"Drops\"] = \"Drops\";\n    SpCategoryName[\"Ailment Resistance\"] = \"Ailment Resistance\";\n    SpCategoryName[\"Ailment Infliction\"] = \"Ailment Infliction\";\n    SpCategoryName[\"Damage Reduction\"] = \"Damage Reduction\";\n    SpCategoryName[\"Special\"] = \"Special\";\n    SpCategoryName[\"Unknown\"] = \"Unknown\";\n})(SpCategoryName || (SpCategoryName = {}));\nexport var SpCategoryId;\n(function (SpCategoryId) {\n    SpCategoryId[\"Parameter Boost\"] = \"1\";\n    SpCategoryId[\"Spark\"] = \"2\";\n    SpCategoryId[\"Critical Hits\"] = \"3\";\n    SpCategoryId[\"Attack Boost\"] = \"4\";\n    SpCategoryId[\"BB Gauge\"] = \"5\";\n    SpCategoryId[\"HP Recovery\"] = \"6\";\n    SpCategoryId[\"Drops\"] = \"7\";\n    SpCategoryId[\"Ailment Resistance\"] = \"8\";\n    SpCategoryId[\"Ailment Infliction\"] = \"9\";\n    SpCategoryId[\"Damage Reduction\"] = \"10\";\n    SpCategoryId[\"Special\"] = \"11\";\n})(SpCategoryId || (SpCategoryId = {}));\nexport var UnitAnimationKey;\n(function (UnitAnimationKey) {\n    UnitAnimationKey[\"Attack\"] = \"attack\";\n    UnitAnimationKey[\"Idle\"] = \"idle\";\n    UnitAnimationKey[\"Move\"] = \"move\";\n})(UnitAnimationKey || (UnitAnimationKey = {}));\nexport var UnitElement;\n(function (UnitElement) {\n    UnitElement[\"Fire\"] = \"fire\";\n    UnitElement[\"Water\"] = \"water\";\n    UnitElement[\"Earth\"] = \"earth\";\n    UnitElement[\"Thunder\"] = \"thunder\";\n    UnitElement[\"Light\"] = \"light\";\n    UnitElement[\"Dark\"] = \"dark\";\n})(UnitElement || (UnitElement = {}));\nexport var UnitGender;\n(function (UnitGender) {\n    UnitGender[\"Male\"] = \"male\";\n    UnitGender[\"Female\"] = \"female\";\n    UnitGender[\"Other\"] = \"other\";\n})(UnitGender || (UnitGender = {}));\nexport var UnitGettingType;\n(function (UnitGettingType) {\n    UnitGettingType[\"Ineligible\"] = \"not eligible for achievement\";\n    UnitGettingType[\"Farmable\"] = \"farmable\";\n    UnitGettingType[\"RareSummon\"] = \"rare summon\";\n    UnitGettingType[\"ExtraSkillElgif\"] = \"extra skill elgif\";\n})(UnitGettingType || (UnitGettingType = {}));\nexport var UnitKind;\n(function (UnitKind) {\n    UnitKind[\"Normal\"] = \"normal\";\n    UnitKind[\"Evolution\"] = \"evo\";\n    UnitKind[\"Enhancing\"] = \"enhancing\";\n    UnitKind[\"Sale\"] = \"sale\";\n})(UnitKind || (UnitKind = {}));\nexport var UnitType;\n(function (UnitType) {\n    UnitType[\"Lord\"] = \"lord\";\n    UnitType[\"Anima\"] = \"anima\";\n    UnitType[\"Breaker\"] = \"breaker\";\n    UnitType[\"Guardian\"] = \"guardian\";\n    UnitType[\"Oracle\"] = \"oracle\";\n    UnitType[\"Rex\"] = \"rex\";\n})(UnitType || (UnitType = {}));\nexport var ItemType;\n(function (ItemType) {\n    ItemType[\"Consumable\"] = \"consumable\";\n    ItemType[\"Material\"] = \"material\";\n    ItemType[\"Sphere\"] = \"sphere\";\n    ItemType[\"EvolutionMaterial\"] = \"evomat\";\n    ItemType[\"SummonerConsumable\"] = \"summoner_consumable\";\n    ItemType[\"LeaderSkillSphere\"] = \"ls_sphere\";\n})(ItemType || (ItemType = {}));\nexport var MimicUnitIds;\n(function (MimicUnitIds) {\n    MimicUnitIds[\"Mimic\"] = \"60142\";\n    MimicUnitIds[\"BatMimic\"] = \"60143\";\n    MimicUnitIds[\"DragonMimic\"] = \"60144\";\n    MimicUnitIds[\"MetalMimic\"] = \"60224\";\n})(MimicUnitIds || (MimicUnitIds = {}));\n/**\n * @description Known values for the monster groups used in {@link IMimicInfo}.\n */\nexport const MimicMonsterGroupMapping = {\n    '1000': MimicUnitIds.Mimic,\n    '1100': MimicUnitIds.BatMimic,\n    '1101': MimicUnitIds.BatMimic,\n    '1200': MimicUnitIds.DragonMimic,\n    '1300': MimicUnitIds.MetalMimic,\n};\n","import getLevelEntryForBurst from './getLevelEntryForBurst';\n/**\n * @description Get the effects at the level entry of a burst at a given level (or the last level if no level is given).\n * @param burst Burst to get effects from.\n * @param level Optional 1-indexed level to get entries from; if not specified, the last level of the burst is used.\n * @returns Effects at the level entry of a burst at a given level (or last level if no level is given) if it exists, an empty array otherwise.\n */\nexport default function getEffectsForBurst(burst, level) {\n    const levelEntry = getLevelEntryForBurst(burst, level);\n    return (levelEntry && Array.isArray(levelEntry.effects)) ? levelEntry.effects : [];\n}\n","import getEffectId from '../buffs/getEffectId';\nimport { KNOWN_PROC_ID } from '../buffs/constants';\nimport isAttackingProcId from '../buffs/isAttackingProcId';\n/**\n * @description Get the extra attack damage frames entry based on the damage frames of a burst. Also apply the given effect delay to the resulting damage frames entry.\n * @param damageFrames Damage frames that each have their own proc ID.\n * @param effectDelay Optional effect delay to apply to the resulting damage frames entry.\n * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n * @returns Damage frames entry whose frames are based on the input damage frames.\n */\nexport default function getExtraAttackDamageFramesEntry(damageFrames, effectDelay = '0.0/0', metadata) {\n    // relevant frames are all effects for healing or attacking\n    const inputFrames = Array.isArray(damageFrames) ? damageFrames : [];\n    const relevantFrames = inputFrames.filter(frame => {\n        const procId = getEffectId(frame);\n        return procId === KNOWN_PROC_ID.BurstHeal || isAttackingProcId(procId, metadata);\n    });\n    const unifiedFrames = relevantFrames.reduce((acc, frameEntry, index) => {\n        const keepFirstFrame = index === 0;\n        const numFrames = frameEntry['frame times'].length;\n        const damageDistribution = frameEntry['hit dmg% distribution'];\n        const frameTimes = frameEntry['frame times'];\n        for (let frameIndex = keepFirstFrame ? 0 : 1; frameIndex < numFrames; ++frameIndex) {\n            acc.push({\n                damage: damageDistribution[frameIndex],\n                time: frameTimes[frameIndex],\n            });\n        }\n        return acc;\n    }, []);\n    const resultDamageFramesEntry = {\n        'effect delay time(ms)/frame': effectDelay,\n        'frame times': [],\n        'hit dmg% distribution': [],\n        'hit dmg% distribution (total)': 0,\n        hits: 0,\n    };\n    unifiedFrames.sort((a, b) => a.time - b.time)\n        .forEach(({ time, damage }) => {\n        resultDamageFramesEntry['frame times'].push(time);\n        resultDamageFramesEntry['hit dmg% distribution'].push(damage);\n        resultDamageFramesEntry['hit dmg% distribution (total)'] += damage;\n    });\n    resultDamageFramesEntry.hits = resultDamageFramesEntry['frame times'].length;\n    return resultDamageFramesEntry;\n}\n","import { PASSIVE_METADATA } from './effect-metadata';\n/**\n * @description Get the associated metadata entry for a given passive ID.\n * @param id Passive ID to get metadata for.\n * @param metadata Optional source to use as metadata; defaults to internal passive metadata.\n * @returns Corresponding passive metadata entry if it exists, undefined otherwise.\n */\nexport default function getMetadataForPassive(id, metadata = PASSIVE_METADATA) {\n    return (!!metadata && typeof metadata === 'object') && Object.hasOwnProperty.call(metadata, id)\n        ? metadata[id]\n        : (void 0);\n}\n","import getMetadataForProc from './getMetadataForProc';\n/**\n * @description Get the associated name for a given proc ID.\n * @param id Proc ID to get the name of.\n * @param metadata Optional source to use as metadata; defaults to internal proc metadata.\n * @returns Name of the proc ID if it exists, empty string otherwise.\n */\nexport default function getNameForProc(id, metadata) {\n    const metadataEntry = getMetadataForProc(id, metadata);\n    return (!!metadataEntry && metadataEntry.Name) || '';\n}\n","import getMetadataForPassive from './getMetadataForPassive';\n/**\n * @description Get the associated name for a given passive ID.\n * @param id Passive ID to get the name of.\n * @param metadata Optional source to use as metadata; defaults to internal passive metadata.\n * @returns Name of the passive ID if it exists, empty string otherwise.\n */\nexport default function getNameForPassive(id, metadata) {\n    const metadataEntry = getMetadataForPassive(id, metadata);\n    return (!!metadataEntry && metadataEntry.Name) || '';\n}\n","/**\n * @description Determine if a given effect object is a proc effect based on existing properties.\n * Do note that it does not check the validity of each property, only the existence.\n * @param effect Object to check.\n * @returns Whether the given effect object is considered a proc effect based on its properties.\n */\nexport default function isProcEffect(effect) {\n    return !!effect &&\n        typeof effect === 'object' &&\n        (Object.hasOwnProperty.call(effect, 'proc id') || Object.hasOwnProperty.call(effect, 'unknown proc id'));\n}\n","/**\n * @description Determine if a given effect object is a passive effect based on existing properties.\n * Do note that it does not check the validity of each property, only the existence.\n * @param effect Object to check.\n * @returns Whether the given effect object is considered a passive effect based on its properties.\n */\nexport default function isPassiveEffect(effect) {\n    return !!effect &&\n        typeof effect === 'object' &&\n        (Object.hasOwnProperty.call(effect, 'passive id') || Object.hasOwnProperty.call(effect, 'unknown passive id'));\n}\n","/**\n * @description Provides info at a glance regarding a buff's source and how it stacks.\n */\nexport var BuffStackType;\n(function (BuffStackType) {\n    /**\n     * @description The buff is activated via some skill and lasts for a number of turns.\n     * Sometimes referred to as procs. Buffs of the same type do not stack unless if they're\n     * from different levels. Two possible levels of sources are:\n     * 1. Brave Burst or Super Brave Burst (also includes enemy skills)\n     * 2. Ultimate Brave Burst or Dual Brave Burst\n     */\n    BuffStackType[\"Active\"] = \"active\";\n    /**\n     * @description The buff is always active provided that the source is not nullified.\n     * Most passive buffs can stack with themselves.\n     */\n    BuffStackType[\"Passive\"] = \"passive\";\n    /**\n     * @description The buff is applied for a number of turns once a certain condition is met.\n     * Buffs of the same type are not able to stack.\n     */\n    BuffStackType[\"ConditionalTimed\"] = \"conditionalTimed\";\n    /**\n     * @description Only one instance of the buff can be active at a time and can last indefinitely.\n     * A couple examples of this are Barrier and Max HP Boost.\n     */\n    BuffStackType[\"Singleton\"] = \"singleton\";\n    /**\n     * @description The buff's effects immediately apply to the target(s). This differs from singleton\n     * in that these values aren't permanent and some effects can \"stack\" (e.g. using two burst heals results\n     * in the HP bar filling by the sum of those burst heals).\n     */\n    BuffStackType[\"Burst\"] = \"burst\";\n    /**\n     * @description A specific subset of `Burst` type buffs that deal damage to the target.\n     */\n    BuffStackType[\"Attack\"] = \"attack\";\n    /**\n     * @description Only for buffs that cannot be processed by the library yet.\n     */\n    BuffStackType[\"Unknown\"] = \"unknown\";\n})(BuffStackType || (BuffStackType = {}));\nexport var BuffSource;\n(function (BuffSource) {\n    BuffSource[\"BraveBurst\"] = \"bb\";\n    BuffSource[\"SuperBraveBurst\"] = \"sbb\";\n    BuffSource[\"UltimateBraveBurst\"] = \"ubb\";\n    BuffSource[\"DualBraveBurst\"] = \"dbb\";\n    BuffSource[\"BondedBraveBurst\"] = \"bbb\";\n    BuffSource[\"BondedSuperBraveBurst\"] = \"dsbb\";\n    BuffSource[\"SpEnhancement\"] = \"sp\";\n    BuffSource[\"Item\"] = \"item\";\n    BuffSource[\"LeaderSkill\"] = \"ls\";\n    BuffSource[\"ExtraSkill\"] = \"es\";\n    /**\n     * @description Buffs that result of having a number of OE+ units in the squad.\n     */\n    BuffSource[\"OmniParadigm\"] = \"omniParadigm\";\n    /**\n     * @description Buffs based on a units type. See {@link UnitType}.\n     */\n    BuffSource[\"UnitTypeBonus\"] = \"unitTypeBonus\";\n    /**\n     * @description Examples include the passive bonuses available in Frontier Gates and Frontier Rifts\n     * as well as ambient turn reductions present in some late-game quests.\n     */\n    BuffSource[\"Quest\"] = \"quest\";\n})(BuffSource || (BuffSource = {}));\n/**\n * @description Extra element values that can be used in addition to {@link UnitElement}.\n */\nexport var BuffConditionElement;\n(function (BuffConditionElement) {\n    BuffConditionElement[\"Unknown\"] = \"unknown\";\n    BuffConditionElement[\"OmniParadigm\"] = \"omniParadigm\";\n    BuffConditionElement[\"All\"] = \"all\";\n})(BuffConditionElement || (BuffConditionElement = {}));\n/**\n * @description Stats on a unit that a buff can affect.\n */\nexport var UnitStat;\n(function (UnitStat) {\n    UnitStat[\"hp\"] = \"hp\";\n    UnitStat[\"atk\"] = \"atk\";\n    UnitStat[\"def\"] = \"def\";\n    UnitStat[\"rec\"] = \"rec\";\n    UnitStat[\"crit\"] = \"crit\";\n    UnitStat[\"hpRecovery\"] = \"hpRecovery\";\n    UnitStat[\"bbGauge\"] = \"bbGauge\";\n    UnitStat[\"bcDropRate\"] = \"bcDropRate\";\n    UnitStat[\"hcDropRate\"] = \"hcDropRate\";\n    UnitStat[\"itemDropRate\"] = \"itemDropRate\";\n    UnitStat[\"zelDropRate\"] = \"zelDropRate\";\n    UnitStat[\"karmaDropRate\"] = \"karmaDropRate\";\n    UnitStat[\"hcEfficacy\"] = \"hcEfficacy\";\n    UnitStat[\"poisonResist\"] = \"poisonResist\";\n    UnitStat[\"weakResist\"] = \"weakResist\";\n    UnitStat[\"sickResist\"] = \"sickResist\";\n    UnitStat[\"injuryResist\"] = \"injuryResist\";\n    UnitStat[\"curseResist\"] = \"curseResist\";\n    UnitStat[\"paralysisResist\"] = \"paralysisResist\";\n    UnitStat[\"poisonInflict\"] = \"poisonInflict\";\n    UnitStat[\"weakInflict\"] = \"weakInflict\";\n    UnitStat[\"sickInflict\"] = \"sickInflict\";\n    UnitStat[\"injuryInflict\"] = \"injuryInflict\";\n    UnitStat[\"curseInflict\"] = \"curseInflict\";\n    UnitStat[\"paralysisInflict\"] = \"paralysisInflict\";\n    UnitStat[\"atkDownResist\"] = \"atkDownResist\";\n    UnitStat[\"defDownResist\"] = \"defDownResist\";\n    UnitStat[\"recDownResist\"] = \"recDownResist\";\n    UnitStat[\"atkDownInflict\"] = \"atkDownInflict\";\n    UnitStat[\"defDownInflict\"] = \"defDownInflict\";\n    UnitStat[\"recDownInflict\"] = \"recDownInflict\";\n    UnitStat[\"mitigation\"] = \"mitigation\";\n    UnitStat[\"fireMitigation\"] = \"fireMitigation\";\n    UnitStat[\"waterMitigation\"] = \"waterMitigation\";\n    UnitStat[\"earthMitigation\"] = \"earthMitigation\";\n    UnitStat[\"thunderMitigation\"] = \"thunderMitigation\";\n    UnitStat[\"lightMitigation\"] = \"lightMitigation\";\n    UnitStat[\"darkMitigation\"] = \"darkMitigation\";\n    UnitStat[\"turnDurationModification\"] = \"turnDurationModification\";\n    UnitStat[\"koResistance\"] = \"koResistance\";\n    UnitStat[\"revive\"] = \"revive\";\n    UnitStat[\"defenseIgnore\"] = \"defenseIgnore\";\n    UnitStat[\"sparkDamage\"] = \"sparkDamage\";\n    UnitStat[\"hitCountModification\"] = \"hitCountModification\";\n    UnitStat[\"damageReflect\"] = \"damageReflect\";\n    UnitStat[\"targetingModification\"] = \"targetingModification\";\n})(UnitStat || (UnitStat = {}));\nexport var IconId;\n(function (IconId) {\n    IconId[\"UNKNOWN\"] = \"UNKNOWN\";\n    IconId[\"TURN_DURATION_UP\"] = \"TURN_DURATION_UP\";\n    IconId[\"TURN_DURATION_DOWN\"] = \"TURN_DURATION_DOWN\";\n    IconId[\"BUFF_HPUP\"] = \"BUFF_HPUP\";\n    IconId[\"BUFF_HPDOWN\"] = \"BUFF_HPDOWN\";\n    IconId[\"BUFF_ATKUP\"] = \"BUFF_ATKUP\";\n    IconId[\"BUFF_ATKDOWN\"] = \"BUFF_ATKDOWN\";\n    IconId[\"BUFF_DEFUP\"] = \"BUFF_DEFUP\";\n    IconId[\"BUFF_DEFDOWN\"] = \"BUFF_DEFDOWN\";\n    IconId[\"BUFF_RECUP\"] = \"BUFF_RECUP\";\n    IconId[\"BUFF_RECDOWN\"] = \"BUFF_RECDOWN\";\n    IconId[\"BUFF_CRTRATEUP\"] = \"BUFF_CRTRATEUP\";\n    IconId[\"BUFF_CRTRATEDOWN\"] = \"BUFF_CRTRATEDOWN\";\n    IconId[\"BUFF_HPTHRESHATKUP\"] = \"BUFF_HPTHRESHATKUP\";\n    IconId[\"BUFF_HPTHRESHATKDOWN\"] = \"BUFF_HPTHRESHATKDOWN\";\n    IconId[\"BUFF_HPTHRESHDEFUP\"] = \"BUFF_HPTHRESHDEFUP\";\n    IconId[\"BUFF_HPTHRESHDEFDOWN\"] = \"BUFF_HPTHRESHDEFDOWN\";\n    IconId[\"BUFF_HPTHRESHRECUP\"] = \"BUFF_HPTHRESHRECUP\";\n    IconId[\"BUFF_HPTHRESHRECDOWN\"] = \"BUFF_HPTHRESHRECDOWN\";\n    IconId[\"BUFF_HPTHRESHCRTRATEUP\"] = \"BUFF_HPTHRESHCRTRATEUP\";\n    IconId[\"BUFF_HPTHRESHCRTRATEDOWN\"] = \"BUFF_HPTHRESHCRTRATEDOWN\";\n    IconId[\"BUFF_HPREC\"] = \"BUFF_HPREC\";\n    IconId[\"BUFF_BBREC\"] = \"BUFF_BBREC\";\n    IconId[\"BUFF_DAMAGEBB\"] = \"BUFF_DAMAGEBB\";\n    IconId[\"BUFF_BEENATK_HPREC\"] = \"BUFF_BEENATK_HPREC\";\n    IconId[\"BUFF_FIREHPUP\"] = \"BUFF_FIREHPUP\";\n    IconId[\"BUFF_FIREHPDOWN\"] = \"BUFF_FIREHPDOWN\";\n    IconId[\"BUFF_FIREATKUP\"] = \"BUFF_FIREATKUP\";\n    IconId[\"BUFF_FIREATKDOWN\"] = \"BUFF_FIREATKDOWN\";\n    IconId[\"BUFF_FIREDEFUP\"] = \"BUFF_FIREDEFUP\";\n    IconId[\"BUFF_FIREDEFDOWN\"] = \"BUFF_FIREDEFDOWN\";\n    IconId[\"BUFF_FIRERECUP\"] = \"BUFF_FIRERECUP\";\n    IconId[\"BUFF_FIRERECDOWN\"] = \"BUFF_FIRERECDOWN\";\n    IconId[\"BUFF_FIRECRTRATEUP\"] = \"BUFF_FIRECRTRATEUP\";\n    IconId[\"BUFF_FIRECRTRATEDOWN\"] = \"BUFF_FIRECRTRATEDOWN\";\n    IconId[\"BUFF_WATERHPUP\"] = \"BUFF_WATERHPUP\";\n    IconId[\"BUFF_WATERHPDOWN\"] = \"BUFF_WATERHPDOWN\";\n    IconId[\"BUFF_WATERATKUP\"] = \"BUFF_WATERATKUP\";\n    IconId[\"BUFF_WATERATKDOWN\"] = \"BUFF_WATERATKDOWN\";\n    IconId[\"BUFF_WATERDEFUP\"] = \"BUFF_WATERDEFUP\";\n    IconId[\"BUFF_WATERDEFDOWN\"] = \"BUFF_WATERDEFDOWN\";\n    IconId[\"BUFF_WATERRECUP\"] = \"BUFF_WATERRECUP\";\n    IconId[\"BUFF_WATERRECDOWN\"] = \"BUFF_WATERRECDOWN\";\n    IconId[\"BUFF_WATERCRTRATEUP\"] = \"BUFF_WATERCRTRATEUP\";\n    IconId[\"BUFF_WATERCRTRATEDOWN\"] = \"BUFF_WATERCRTRATEDOWN\";\n    IconId[\"BUFF_EARTHHPUP\"] = \"BUFF_EARTHHPUP\";\n    IconId[\"BUFF_EARTHHPDOWN\"] = \"BUFF_EARTHHPDOWN\";\n    IconId[\"BUFF_EARTHATKUP\"] = \"BUFF_EARTHATKUP\";\n    IconId[\"BUFF_EARTHATKDOWN\"] = \"BUFF_EARTHATKDOWN\";\n    IconId[\"BUFF_EARTHDEFUP\"] = \"BUFF_EARTHDEFUP\";\n    IconId[\"BUFF_EARTHDEFDOWN\"] = \"BUFF_EARTHDEFDOWN\";\n    IconId[\"BUFF_EARTHRECUP\"] = \"BUFF_EARTHRECUP\";\n    IconId[\"BUFF_EARTHRECDOWN\"] = \"BUFF_EARTHRECDOWN\";\n    IconId[\"BUFF_EARTHCRTRATEUP\"] = \"BUFF_EARTHCRTRATEUP\";\n    IconId[\"BUFF_EARTHCRTRATEDOWN\"] = \"BUFF_EARTHCRTRATEDOWN\";\n    IconId[\"BUFF_THUNDERHPUP\"] = \"BUFF_THUNDERHPUP\";\n    IconId[\"BUFF_THUNDERHPDOWN\"] = \"BUFF_THUNDERHPDOWN\";\n    IconId[\"BUFF_THUNDERATKUP\"] = \"BUFF_THUNDERATKUP\";\n    IconId[\"BUFF_THUNDERATKDOWN\"] = \"BUFF_THUNDERATKDOWN\";\n    IconId[\"BUFF_THUNDERDEFUP\"] = \"BUFF_THUNDERDEFUP\";\n    IconId[\"BUFF_THUNDERDEFDOWN\"] = \"BUFF_THUNDERDEFDOWN\";\n    IconId[\"BUFF_THUNDERRECUP\"] = \"BUFF_THUNDERRECUP\";\n    IconId[\"BUFF_THUNDERRECDOWN\"] = \"BUFF_THUNDERRECDOWN\";\n    IconId[\"BUFF_THUNDERCRTRATEUP\"] = \"BUFF_THUNDERCRTRATEUP\";\n    IconId[\"BUFF_THUNDERCRTRATEDOWN\"] = \"BUFF_THUNDERCRTRATEDOWN\";\n    IconId[\"BUFF_LIGHTHPUP\"] = \"BUFF_LIGHTHPUP\";\n    IconId[\"BUFF_LIGHTHPDOWN\"] = \"BUFF_LIGHTHPDOWN\";\n    IconId[\"BUFF_LIGHTATKUP\"] = \"BUFF_LIGHTATKUP\";\n    IconId[\"BUFF_LIGHTATKDOWN\"] = \"BUFF_LIGHTATKDOWN\";\n    IconId[\"BUFF_LIGHTDEFUP\"] = \"BUFF_LIGHTDEFUP\";\n    IconId[\"BUFF_LIGHTDEFDOWN\"] = \"BUFF_LIGHTDEFDOWN\";\n    IconId[\"BUFF_LIGHTRECUP\"] = \"BUFF_LIGHTRECUP\";\n    IconId[\"BUFF_LIGHTRECDOWN\"] = \"BUFF_LIGHTRECDOWN\";\n    IconId[\"BUFF_LIGHTCRTRATEUP\"] = \"BUFF_LIGHTCRTRATEUP\";\n    IconId[\"BUFF_LIGHTCRTRATEDOWN\"] = \"BUFF_LIGHTCRTRATEDOWN\";\n    IconId[\"BUFF_DARKHPUP\"] = \"BUFF_DARKHPUP\";\n    IconId[\"BUFF_DARKHPDOWN\"] = \"BUFF_DARKHPDOWN\";\n    IconId[\"BUFF_DARKATKUP\"] = \"BUFF_DARKATKUP\";\n    IconId[\"BUFF_DARKATKDOWN\"] = \"BUFF_DARKATKDOWN\";\n    IconId[\"BUFF_DARKDEFUP\"] = \"BUFF_DARKDEFUP\";\n    IconId[\"BUFF_DARKDEFDOWN\"] = \"BUFF_DARKDEFDOWN\";\n    IconId[\"BUFF_DARKRECUP\"] = \"BUFF_DARKRECUP\";\n    IconId[\"BUFF_DARKRECDOWN\"] = \"BUFF_DARKRECDOWN\";\n    IconId[\"BUFF_DARKCRTRATEUP\"] = \"BUFF_DARKCRTRATEUP\";\n    IconId[\"BUFF_DARKCRTRATEDOWN\"] = \"BUFF_DARKCRTRATEDOWN\";\n    IconId[\"BUFF_ELEMENTHPUP\"] = \"BUFF_ELEMENTHPUP\";\n    IconId[\"BUFF_ELEMENTHPDOWN\"] = \"BUFF_ELEMENTHPDOWN\";\n    IconId[\"BUFF_ELEMENTATKUP\"] = \"BUFF_ELEMENTATKUP\";\n    IconId[\"BUFF_ELEMENTATKDOWN\"] = \"BUFF_ELEMENTATKDOWN\";\n    IconId[\"BUFF_ELEMENTDEFUP\"] = \"BUFF_ELEMENTDEFUP\";\n    IconId[\"BUFF_ELEMENTDEFDOWN\"] = \"BUFF_ELEMENTDEFDOWN\";\n    IconId[\"BUFF_ELEMENTRECUP\"] = \"BUFF_ELEMENTRECUP\";\n    IconId[\"BUFF_ELEMENTRECDOWN\"] = \"BUFF_ELEMENTRECDOWN\";\n    IconId[\"BUFF_ELEMENTCRTRATEUP\"] = \"BUFF_ELEMENTCRTRATEUP\";\n    IconId[\"BUFF_ELEMENTCRTRATEDOWN\"] = \"BUFF_ELEMENTCRTRATEDOWN\";\n    IconId[\"BUFF_LORDHPUP\"] = \"BUFF_LORDHPUP\";\n    IconId[\"BUFF_LORDHPDOWN\"] = \"BUFF_LORDHPDOWN\";\n    IconId[\"BUFF_LORDATKUP\"] = \"BUFF_LORDATKUP\";\n    IconId[\"BUFF_LORDATKDOWN\"] = \"BUFF_LORDATKDOWN\";\n    IconId[\"BUFF_LORDDEFUP\"] = \"BUFF_LORDDEFUP\";\n    IconId[\"BUFF_LORDDEFDOWN\"] = \"BUFF_LORDDEFDOWN\";\n    IconId[\"BUFF_LORDRECUP\"] = \"BUFF_LORDRECUP\";\n    IconId[\"BUFF_LORDRECDOWN\"] = \"BUFF_LORDRECDOWN\";\n    IconId[\"BUFF_LORDCRTRATEUP\"] = \"BUFF_LORDCRTRATEUP\";\n    IconId[\"BUFF_LORDCRTRATEDOWN\"] = \"BUFF_LORDCRTRATEDOWN\";\n    IconId[\"BUFF_ANIMAHPUP\"] = \"BUFF_ANIMAHPUP\";\n    IconId[\"BUFF_ANIMAHPDOWN\"] = \"BUFF_ANIMAHPDOWN\";\n    IconId[\"BUFF_ANIMAATKUP\"] = \"BUFF_ANIMAATKUP\";\n    IconId[\"BUFF_ANIMAATKDOWN\"] = \"BUFF_ANIMAATKDOWN\";\n    IconId[\"BUFF_ANIMADEFUP\"] = \"BUFF_ANIMADEFUP\";\n    IconId[\"BUFF_ANIMADEFDOWN\"] = \"BUFF_ANIMADEFDOWN\";\n    IconId[\"BUFF_ANIMARECUP\"] = \"BUFF_ANIMARECUP\";\n    IconId[\"BUFF_ANIMARECDOWN\"] = \"BUFF_ANIMARECDOWN\";\n    IconId[\"BUFF_ANIMACRTRATEUP\"] = \"BUFF_ANIMACRTRATEUP\";\n    IconId[\"BUFF_ANIMACRTRATEDOWN\"] = \"BUFF_ANIMACRTRATEDOWN\";\n    IconId[\"BUFF_BREAKERHPUP\"] = \"BUFF_BREAKERHPUP\";\n    IconId[\"BUFF_BREAKERHPDOWN\"] = \"BUFF_BREAKERHPDOWN\";\n    IconId[\"BUFF_BREAKERATKUP\"] = \"BUFF_BREAKERATKUP\";\n    IconId[\"BUFF_BREAKERATKDOWN\"] = \"BUFF_BREAKERATKDOWN\";\n    IconId[\"BUFF_BREAKERDEFUP\"] = \"BUFF_BREAKERDEFUP\";\n    IconId[\"BUFF_BREAKERDEFDOWN\"] = \"BUFF_BREAKERDEFDOWN\";\n    IconId[\"BUFF_BREAKERRECUP\"] = \"BUFF_BREAKERRECUP\";\n    IconId[\"BUFF_BREAKERRECDOWN\"] = \"BUFF_BREAKERRECDOWN\";\n    IconId[\"BUFF_BREAKERCRTRATEUP\"] = \"BUFF_BREAKERCRTRATEUP\";\n    IconId[\"BUFF_BREAKERCRTRATEDOWN\"] = \"BUFF_BREAKERCRTRATEDOWN\";\n    IconId[\"BUFF_GUARDIANHPUP\"] = \"BUFF_GUARDIANHPUP\";\n    IconId[\"BUFF_GUARDIANHPDOWN\"] = \"BUFF_GUARDIANHPDOWN\";\n    IconId[\"BUFF_GUARDIANATKUP\"] = \"BUFF_GUARDIANATKUP\";\n    IconId[\"BUFF_GUARDIANATKDOWN\"] = \"BUFF_GUARDIANATKDOWN\";\n    IconId[\"BUFF_GUARDIANDEFUP\"] = \"BUFF_GUARDIANDEFUP\";\n    IconId[\"BUFF_GUARDIANDEFDOWN\"] = \"BUFF_GUARDIANDEFDOWN\";\n    IconId[\"BUFF_GUARDIANRECUP\"] = \"BUFF_GUARDIANRECUP\";\n    IconId[\"BUFF_GUARDIANRECDOWN\"] = \"BUFF_GUARDIANRECDOWN\";\n    IconId[\"BUFF_GUARDIANCRTRATEUP\"] = \"BUFF_GUARDIANCRTRATEUP\";\n    IconId[\"BUFF_GUARDIANCRTRATEDOWN\"] = \"BUFF_GUARDIANCRTRATEDOWN\";\n    IconId[\"BUFF_ORACLEHPUP\"] = \"BUFF_ORACLEHPUP\";\n    IconId[\"BUFF_ORACLEHPDOWN\"] = \"BUFF_ORACLEHPDOWN\";\n    IconId[\"BUFF_ORACLEATKUP\"] = \"BUFF_ORACLEATKUP\";\n    IconId[\"BUFF_ORACLEATKDOWN\"] = \"BUFF_ORACLEATKDOWN\";\n    IconId[\"BUFF_ORACLEDEFUP\"] = \"BUFF_ORACLEDEFUP\";\n    IconId[\"BUFF_ORACLEDEFDOWN\"] = \"BUFF_ORACLEDEFDOWN\";\n    IconId[\"BUFF_ORACLERECUP\"] = \"BUFF_ORACLERECUP\";\n    IconId[\"BUFF_ORACLERECDOWN\"] = \"BUFF_ORACLERECDOWN\";\n    IconId[\"BUFF_ORACLECRTRATEUP\"] = \"BUFF_ORACLECRTRATEUP\";\n    IconId[\"BUFF_ORACLECRTRATEDOWN\"] = \"BUFF_ORACLECRTRATEDOWN\";\n    IconId[\"BUFF_REXHPUP\"] = \"BUFF_REXHPUP\";\n    IconId[\"BUFF_REXHPDOWN\"] = \"BUFF_REXHPDOWN\";\n    IconId[\"BUFF_REXATKUP\"] = \"BUFF_REXATKUP\";\n    IconId[\"BUFF_REXATKDOWN\"] = \"BUFF_REXATKDOWN\";\n    IconId[\"BUFF_REXDEFUP\"] = \"BUFF_REXDEFUP\";\n    IconId[\"BUFF_REXDEFDOWN\"] = \"BUFF_REXDEFDOWN\";\n    IconId[\"BUFF_REXRECUP\"] = \"BUFF_REXRECUP\";\n    IconId[\"BUFF_REXRECDOWN\"] = \"BUFF_REXRECDOWN\";\n    IconId[\"BUFF_REXCRTRATEUP\"] = \"BUFF_REXCRTRATEUP\";\n    IconId[\"BUFF_REXCRTRATEDOWN\"] = \"BUFF_REXCRTRATEDOWN\";\n    IconId[\"BUFF_UNITTYPEHPUP\"] = \"BUFF_UNITTYPEHPUP\";\n    IconId[\"BUFF_UNITTYPEHPDOWN\"] = \"BUFF_UNITTYPEHPDOWN\";\n    IconId[\"BUFF_UNITTYPEATKUP\"] = \"BUFF_UNITTYPEATKUP\";\n    IconId[\"BUFF_UNITTYPEATKDOWN\"] = \"BUFF_UNITTYPEATKDOWN\";\n    IconId[\"BUFF_UNITTYPEDEFUP\"] = \"BUFF_UNITTYPEDEFUP\";\n    IconId[\"BUFF_UNITTYPEDEFDOWN\"] = \"BUFF_UNITTYPEDEFDOWN\";\n    IconId[\"BUFF_UNITTYPERECUP\"] = \"BUFF_UNITTYPERECUP\";\n    IconId[\"BUFF_UNITTYPERECDOWN\"] = \"BUFF_UNITTYPERECDOWN\";\n    IconId[\"BUFF_UNITTYPECRTRATEUP\"] = \"BUFF_UNITTYPECRTRATEUP\";\n    IconId[\"BUFF_UNITTYPECRTRATEDOWN\"] = \"BUFF_UNITTYPECRTRATEDOWN\";\n    IconId[\"BUFF_CONVERTATKUP\"] = \"BUFF_CONVERTATKUP\";\n    IconId[\"BUFF_CONVERTATKDOWN\"] = \"BUFF_CONVERTATKDOWN\";\n    IconId[\"BUFF_CONVERTDEFUP\"] = \"BUFF_CONVERTDEFUP\";\n    IconId[\"BUFF_CONVERTDEFDOWN\"] = \"BUFF_CONVERTDEFDOWN\";\n    IconId[\"BUFF_CONVERTRECUP\"] = \"BUFF_CONVERTRECUP\";\n    IconId[\"BUFF_CONVERTRECDOWN\"] = \"BUFF_CONVERTRECDOWN\";\n    IconId[\"BUFF_POISONBLK\"] = \"BUFF_POISONBLK\";\n    IconId[\"BUFF_WEAKBLK\"] = \"BUFF_WEAKBLK\";\n    IconId[\"BUFF_SICKBLK\"] = \"BUFF_SICKBLK\";\n    IconId[\"BUFF_INJURYBLK\"] = \"BUFF_INJURYBLK\";\n    IconId[\"BUFF_CURSEBLK\"] = \"BUFF_CURSEBLK\";\n    IconId[\"BUFF_PARALYSISBLK\"] = \"BUFF_PARALYSISBLK\";\n    IconId[\"BUFF_ATKDOWNBLK\"] = \"BUFF_ATKDOWNBLK\";\n    IconId[\"BUFF_DEFDOWNBLK\"] = \"BUFF_DEFDOWNBLK\";\n    IconId[\"BUFF_RECDOWNBLK\"] = \"BUFF_RECDOWNBLK\";\n    IconId[\"BUFF_AILMENTBLK\"] = \"BUFF_AILMENTBLK\";\n    IconId[\"DEBUFF_POISON\"] = \"DEBUFF_POISON\";\n    IconId[\"DEBUFF_WEAK\"] = \"DEBUFF_WEAK\";\n    IconId[\"DEBUFF_SICK\"] = \"DEBUFF_SICK\";\n    IconId[\"DEBUFF_INJURY\"] = \"DEBUFF_INJURY\";\n    IconId[\"DEBUFF_CURSE\"] = \"DEBUFF_CURSE\";\n    IconId[\"DEBUFF_PARALYSIS\"] = \"DEBUFF_PARALYSIS\";\n    IconId[\"DEBUFF_AILMENT\"] = \"DEBUFF_AILMENT\";\n    IconId[\"BUFF_ADDPOISON\"] = \"BUFF_ADDPOISON\";\n    IconId[\"BUFF_ADDWEAK\"] = \"BUFF_ADDWEAK\";\n    IconId[\"BUFF_ADDSICK\"] = \"BUFF_ADDSICK\";\n    IconId[\"BUFF_ADDINJURY\"] = \"BUFF_ADDINJURY\";\n    IconId[\"BUFF_ADDCURSE\"] = \"BUFF_ADDCURSE\";\n    IconId[\"BUFF_ADDPARA\"] = \"BUFF_ADDPARA\";\n    IconId[\"BUFF_ADDAILMENT\"] = \"BUFF_ADDAILMENT\";\n    IconId[\"BUFF_ADDATKDOWN\"] = \"BUFF_ADDATKDOWN\";\n    IconId[\"BUFF_ADDDEFDOWN\"] = \"BUFF_ADDDEFDOWN\";\n    IconId[\"BUFF_ADDRECDOWN\"] = \"BUFF_ADDRECDOWN\";\n    IconId[\"BUFF_DAMAGECUT\"] = \"BUFF_DAMAGECUT\";\n    IconId[\"BUFF_FIREDMGDOWN\"] = \"BUFF_FIREDMGDOWN\";\n    IconId[\"BUFF_WATERDMGDOWN\"] = \"BUFF_WATERDMGDOWN\";\n    IconId[\"BUFF_EARTHDMGDOWN\"] = \"BUFF_EARTHDMGDOWN\";\n    IconId[\"BUFF_THUNDERDMGDOWN\"] = \"BUFF_THUNDERDMGDOWN\";\n    IconId[\"BUFF_LIGHTDMGDOWN\"] = \"BUFF_LIGHTDMGDOWN\";\n    IconId[\"BUFF_DARKDMGDOWN\"] = \"BUFF_DARKDMGDOWN\";\n    IconId[\"BUFF_ELEMENTDMGDOWN\"] = \"BUFF_ELEMENTDMGDOWN\";\n    IconId[\"BUFF_HCDROP\"] = \"BUFF_HCDROP\";\n    IconId[\"BUFF_HCDOWN\"] = \"BUFF_HCDOWN\";\n    IconId[\"BUFF_BCDROP\"] = \"BUFF_BCDROP\";\n    IconId[\"BUFF_BCDOWN\"] = \"BUFF_BCDOWN\";\n    IconId[\"BUFF_ITEMDROP\"] = \"BUFF_ITEMDROP\";\n    IconId[\"BUFF_ITEMDOWN\"] = \"BUFF_ITEMDOWN\";\n    IconId[\"BUFF_ZELDROP\"] = \"BUFF_ZELDROP\";\n    IconId[\"BUFF_ZELDOWN\"] = \"BUFF_ZELDOWN\";\n    IconId[\"BUFF_KARMADROP\"] = \"BUFF_KARMADROP\";\n    IconId[\"BUFF_KARMADOWN\"] = \"BUFF_KARMADOWN\";\n    IconId[\"BUFF_HCREC\"] = \"BUFF_HCREC\";\n    IconId[\"BUFF_KOBLK\"] = \"BUFF_KOBLK\";\n    IconId[\"BUFF_HPABS\"] = \"BUFF_HPABS\";\n    IconId[\"BUFF_IGNOREDEF\"] = \"BUFF_IGNOREDEF\";\n    IconId[\"BUFF_SPARKUP\"] = \"BUFF_SPARKUP\";\n    IconId[\"BUFF_HITUP\"] = \"BUFF_HITUP\";\n    IconId[\"BUFF_COUNTERDAMAGE\"] = \"BUFF_COUNTERDAMAGE\";\n    IconId[\"BUFF_GETENEATT\"] = \"BUFF_GETENEATT\";\n    IconId[\"BUFF_REPENEATT\"] = \"BUFF_REPENEATT\";\n    IconId[\"ATK_ST\"] = \"ATK_ST\";\n    IconId[\"ATK_AOE\"] = \"ATK_AOE\";\n    IconId[\"ATK_RT\"] = \"ATK_RT\";\n    IconId[\"ATK_ST_HPREC\"] = \"ATK_ST_HPREC\";\n    IconId[\"ATK_AOE_HPREC\"] = \"ATK_AOE_HPREC\";\n    IconId[\"ATK_ST_PROPORTIONAL\"] = \"ATK_ST_PROPORTIONAL\";\n    IconId[\"ATK_AOE_PROPORTIONAL\"] = \"ATK_AOE_PROPORTIONAL\";\n})(IconId || (IconId = {}));\n/**\n * @description Format of these IDs are `<passive|proc>:<original effect ID>:<stat>`.\n * Usage of passive/proc and original effect ID are for easy tracking of the original effect\n * source of a given buff.\n */\nexport var BuffId;\n(function (BuffId) {\n    BuffId[\"UNKNOWN_PASSIVE_EFFECT_ID\"] = \"UNKNOWN_PASSIVE_EFFECT_ID\";\n    BuffId[\"UNKNOWN_PASSIVE_BUFF_PARAMS\"] = \"UNKNOWN_PASSIVE_BUFF_PARAMS\";\n    BuffId[\"TURN_DURATION_MODIFICATION\"] = \"TURN_DURATION_MODIFICATION\";\n    BuffId[\"passive:1:hp\"] = \"passive:1:hp\";\n    BuffId[\"passive:1:atk\"] = \"passive:1:atk\";\n    BuffId[\"passive:1:def\"] = \"passive:1:def\";\n    BuffId[\"passive:1:rec\"] = \"passive:1:rec\";\n    BuffId[\"passive:1:crit\"] = \"passive:1:crit\";\n    BuffId[\"passive:2:hp\"] = \"passive:2:hp\";\n    BuffId[\"passive:2:atk\"] = \"passive:2:atk\";\n    BuffId[\"passive:2:def\"] = \"passive:2:def\";\n    BuffId[\"passive:2:rec\"] = \"passive:2:rec\";\n    BuffId[\"passive:2:crit\"] = \"passive:2:crit\";\n    BuffId[\"passive:3:hp\"] = \"passive:3:hp\";\n    BuffId[\"passive:3:atk\"] = \"passive:3:atk\";\n    BuffId[\"passive:3:def\"] = \"passive:3:def\";\n    BuffId[\"passive:3:rec\"] = \"passive:3:rec\";\n    BuffId[\"passive:3:crit\"] = \"passive:3:crit\";\n    BuffId[\"passive:4:poison\"] = \"passive:4:poison\";\n    BuffId[\"passive:4:weak\"] = \"passive:4:weak\";\n    BuffId[\"passive:4:sick\"] = \"passive:4:sick\";\n    BuffId[\"passive:4:injury\"] = \"passive:4:injury\";\n    BuffId[\"passive:4:curse\"] = \"passive:4:curse\";\n    BuffId[\"passive:4:paralysis\"] = \"passive:4:paralysis\";\n    BuffId[\"passive:5:fire\"] = \"passive:5:fire\";\n    BuffId[\"passive:5:water\"] = \"passive:5:water\";\n    BuffId[\"passive:5:earth\"] = \"passive:5:earth\";\n    BuffId[\"passive:5:thunder\"] = \"passive:5:thunder\";\n    BuffId[\"passive:5:light\"] = \"passive:5:light\";\n    BuffId[\"passive:5:dark\"] = \"passive:5:dark\";\n    BuffId[\"passive:5:unknown\"] = \"passive:5:unknown\";\n    BuffId[\"passive:8\"] = \"passive:8\";\n    BuffId[\"passive:9\"] = \"passive:9\";\n    BuffId[\"passive:10\"] = \"passive:10\";\n    BuffId[\"passive:11:atk\"] = \"passive:11:atk\";\n    BuffId[\"passive:11:def\"] = \"passive:11:def\";\n    BuffId[\"passive:11:rec\"] = \"passive:11:rec\";\n    BuffId[\"passive:11:crit\"] = \"passive:11:crit\";\n    BuffId[\"passive:12:bc\"] = \"passive:12:bc\";\n    BuffId[\"passive:12:hc\"] = \"passive:12:hc\";\n    BuffId[\"passive:12:item\"] = \"passive:12:item\";\n    BuffId[\"passive:12:zel\"] = \"passive:12:zel\";\n    BuffId[\"passive:12:karma\"] = \"passive:12:karma\";\n    BuffId[\"passive:13\"] = \"passive:13\";\n    BuffId[\"passive:14\"] = \"passive:14\";\n    BuffId[\"passive:15\"] = \"passive:15\";\n    BuffId[\"passive:16\"] = \"passive:16\";\n    BuffId[\"passive:17\"] = \"passive:17\";\n    BuffId[\"passive:19:bc\"] = \"passive:19:bc\";\n    BuffId[\"passive:19:hc\"] = \"passive:19:hc\";\n    BuffId[\"passive:19:item\"] = \"passive:19:item\";\n    BuffId[\"passive:19:zel\"] = \"passive:19:zel\";\n    BuffId[\"passive:19:karma\"] = \"passive:19:karma\";\n    BuffId[\"passive:20:poison\"] = \"passive:20:poison\";\n    BuffId[\"passive:20:weak\"] = \"passive:20:weak\";\n    BuffId[\"passive:20:sick\"] = \"passive:20:sick\";\n    BuffId[\"passive:20:injury\"] = \"passive:20:injury\";\n    BuffId[\"passive:20:curse\"] = \"passive:20:curse\";\n    BuffId[\"passive:20:paralysis\"] = \"passive:20:paralysis\";\n    BuffId[\"passive:20:atk down\"] = \"passive:20:atk down\";\n    BuffId[\"passive:20:def down\"] = \"passive:20:def down\";\n    BuffId[\"passive:20:rec down\"] = \"passive:20:rec down\";\n    BuffId[\"passive:20:unknown\"] = \"passive:20:unknown\";\n    BuffId[\"passive:21:atk\"] = \"passive:21:atk\";\n    BuffId[\"passive:21:def\"] = \"passive:21:def\";\n    BuffId[\"passive:21:rec\"] = \"passive:21:rec\";\n    BuffId[\"passive:21:crit\"] = \"passive:21:crit\";\n    BuffId[\"passive:23\"] = \"passive:23\";\n    BuffId[\"passive:24\"] = \"passive:24\";\n    BuffId[\"passive:25\"] = \"passive:25\";\n    BuffId[\"passive:26\"] = \"passive:26\";\n    BuffId[\"passive:27\"] = \"passive:27\";\n    BuffId[\"UNKNOWN_PROC_EFFECT_ID\"] = \"UNKNOWN_PROC_EFFECT_ID\";\n    BuffId[\"UNKNOWN_PROC_BUFF_PARAMS\"] = \"UNKNOWN_PROC_BUFF_PARAMS\";\n    BuffId[\"proc:1\"] = \"proc:1\";\n    BuffId[\"proc:2\"] = \"proc:2\";\n    BuffId[\"proc:3\"] = \"proc:3\";\n    BuffId[\"proc:4:flat\"] = \"proc:4:flat\";\n    BuffId[\"proc:4:percent\"] = \"proc:4:percent\";\n    BuffId[\"proc:5:atk\"] = \"proc:5:atk\";\n    BuffId[\"proc:5:def\"] = \"proc:5:def\";\n    BuffId[\"proc:5:rec\"] = \"proc:5:rec\";\n    BuffId[\"proc:5:crit\"] = \"proc:5:crit\";\n    BuffId[\"proc:6:bc\"] = \"proc:6:bc\";\n    BuffId[\"proc:6:hc\"] = \"proc:6:hc\";\n    BuffId[\"proc:6:item\"] = \"proc:6:item\";\n    BuffId[\"proc:7\"] = \"proc:7\";\n    BuffId[\"proc:8:flat\"] = \"proc:8:flat\";\n    BuffId[\"proc:8:percent\"] = \"proc:8:percent\";\n    BuffId[\"proc:9:atk\"] = \"proc:9:atk\";\n    BuffId[\"proc:9:def\"] = \"proc:9:def\";\n    BuffId[\"proc:9:rec\"] = \"proc:9:rec\";\n    BuffId[\"proc:9:unknown\"] = \"proc:9:unknown\";\n    BuffId[\"proc:10:poison\"] = \"proc:10:poison\";\n    BuffId[\"proc:10:weak\"] = \"proc:10:weak\";\n    BuffId[\"proc:10:sick\"] = \"proc:10:sick\";\n    BuffId[\"proc:10:injury\"] = \"proc:10:injury\";\n    BuffId[\"proc:10:curse\"] = \"proc:10:curse\";\n    BuffId[\"proc:10:paralysis\"] = \"proc:10:paralysis\";\n    BuffId[\"proc:10:atk down\"] = \"proc:10:atk down\";\n    BuffId[\"proc:10:def down\"] = \"proc:10:def down\";\n    BuffId[\"proc:10:rec down\"] = \"proc:10:rec down\";\n    BuffId[\"proc:10:unknown\"] = \"proc:10:unknown\";\n    BuffId[\"proc:11:poison\"] = \"proc:11:poison\";\n    BuffId[\"proc:11:weak\"] = \"proc:11:weak\";\n    BuffId[\"proc:11:sick\"] = \"proc:11:sick\";\n    BuffId[\"proc:11:injury\"] = \"proc:11:injury\";\n    BuffId[\"proc:11:curse\"] = \"proc:11:curse\";\n    BuffId[\"proc:11:paralysis\"] = \"proc:11:paralysis\";\n    BuffId[\"proc:11:atk down\"] = \"proc:11:atk down\";\n    BuffId[\"proc:11:def down\"] = \"proc:11:def down\";\n    BuffId[\"proc:11:rec down\"] = \"proc:11:rec down\";\n    BuffId[\"proc:11:unknown\"] = \"proc:11:unknown\";\n    BuffId[\"proc:12\"] = \"proc:12\";\n    BuffId[\"proc:13\"] = \"proc:13\";\n    BuffId[\"proc:14\"] = \"proc:14\";\n    BuffId[\"proc:16:fire\"] = \"proc:16:fire\";\n    BuffId[\"proc:16:water\"] = \"proc:16:water\";\n    BuffId[\"proc:16:earth\"] = \"proc:16:earth\";\n    BuffId[\"proc:16:thunder\"] = \"proc:16:thunder\";\n    BuffId[\"proc:16:light\"] = \"proc:16:light\";\n    BuffId[\"proc:16:dark\"] = \"proc:16:dark\";\n    BuffId[\"proc:16:all\"] = \"proc:16:all\";\n    BuffId[\"proc:16:unknown\"] = \"proc:16:unknown\";\n    BuffId[\"proc:17:poison\"] = \"proc:17:poison\";\n    BuffId[\"proc:17:weak\"] = \"proc:17:weak\";\n    BuffId[\"proc:17:sick\"] = \"proc:17:sick\";\n    BuffId[\"proc:17:injury\"] = \"proc:17:injury\";\n    BuffId[\"proc:17:curse\"] = \"proc:17:curse\";\n    BuffId[\"proc:17:paralysis\"] = \"proc:17:paralysis\";\n    BuffId[\"proc:18\"] = \"proc:18\";\n    BuffId[\"proc:19\"] = \"proc:19\";\n    BuffId[\"proc:20\"] = \"proc:20\";\n    BuffId[\"proc:22\"] = \"proc:22\";\n    BuffId[\"proc:23\"] = \"proc:23\";\n    BuffId[\"proc:24:atk\"] = \"proc:24:atk\";\n    BuffId[\"proc:24:def\"] = \"proc:24:def\";\n    BuffId[\"proc:24:rec\"] = \"proc:24:rec\";\n    BuffId[\"proc:26\"] = \"proc:26\";\n    BuffId[\"proc:27\"] = \"proc:27\";\n})(BuffId || (BuffId = {}));\n","import { BuffSource, } from './buff-types';\nimport { SpPassiveType, TargetType, TargetArea, } from '../../datamine-types';\n/**\n * @description Helper function for creating an entry to be used in the `sources`\n * property of {@link IBuff}.\n * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n * @returns Entry in the format of `<BuffSource>-<ID of Buff Source>`.\n */\nexport function createSourceEntryFromContext(context) {\n    return `${context.source}-${context.sourceId}`;\n}\n/**\n * @description Helper function for creating an entries array to be used in the `sources`\n * property of {@link IBuff}. It handles setting the order of the sources.\n * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n * @returns List of entries in the format of `<BuffSource>-<ID of Buff Source>`.\n */\nexport function createSourcesFromContext(context) {\n    const resultArray = Array.isArray(context.previousSources)\n        ? context.previousSources.slice()\n        : [];\n    // Ensure that the current source is at the beginning of the array\n    resultArray.unshift(createSourceEntryFromContext(context));\n    return resultArray;\n}\n/**\n * @description Given the conditions in an extra skill effect, normalize them into\n * a simpler object containing the IDs of each condition type.\n * @param effect Extra skill effect to process conditions from.\n * @returns Conditions based on type, otherwise an empty object if no conditions are found.\n */\nexport function processExtraSkillConditions(effect) {\n    const conditions = (effect && Array.isArray(effect.conditions) && effect.conditions) || [];\n    const aggregate = {\n        units: new Set(),\n        items: new Set(),\n        sphereTypes: new Set(),\n        unknowns: new Set(),\n    };\n    conditions.forEach((condition, index) => {\n        if ('sphere category required (raw)' in condition) {\n            aggregate.sphereTypes.add(condition['sphere category required (raw)']);\n        }\n        else if ('item required' in condition) {\n            condition['item required'].forEach((item) => {\n                aggregate.items.add(item);\n            });\n        }\n        else if ('unit required' in condition) {\n            condition['unit required'].forEach((unit) => {\n                aggregate.units.add(`${unit.id}`);\n            });\n        }\n        else {\n            aggregate.unknowns.add(`type:${condition.type_id || index},condition:${condition.condition_id || index}`);\n        }\n    });\n    // filter out properties that have no entries\n    const result = Object.entries(aggregate)\n        .filter((entry) => entry[1].size > 0)\n        .reduce((acc, entry) => {\n        acc[entry[0]] = Array.from(entry[1]);\n        return acc;\n    }, {});\n    return result;\n}\n/**\n * @description Extract the target type and target area of a given passive effect.\n * @param effect Passive effect to extract target data from.\n * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n * @returns The target data for the given effect and context. There are only two possible values:\n * party (`targetType` is party and `targetArea` is aoe ) and single (`targetType` is self and `targetArea` is single)\n */\nexport function getPassiveTargetData(effect, context) {\n    const isLeaderSkillEffect = context.source === BuffSource.LeaderSkill ||\n        (effect.sp_type === SpPassiveType.EnhancePassive);\n    const isPartyEffect = isLeaderSkillEffect || effect['passive target'] === TargetType.Party;\n    return {\n        targetType: isPartyEffect ? TargetType.Party : TargetType.Self,\n        targetArea: isPartyEffect ? TargetArea.Aoe : TargetArea.Single,\n    };\n}\n/**\n * @description Extract the target type and target area of a given proc effect.\n * @param effect Proc effect to extract target data from.\n * @returns The target data for the given effect and context.\n */\nexport function getProcTargetData(effect) {\n    return {\n        targetArea: effect['target area'],\n        targetType: effect['target type'],\n    };\n}\n/**\n * @description Try to parse the given value into a number or return a value if it is not a number.\n * @param value Value to parse into a number.\n * @param defaultValue Value to return if `value` is not a number; defaults to 0.\n * @returns Parsed value as a number or the `defaultValue` if the value is not a number.\n */\nexport function parseNumberOrDefault(value, defaultValue = 0) {\n    return (value !== null && !isNaN(value)) ? +value : defaultValue;\n}\n/**\n * @description Create an object denoting values that cannot be processed yet. To be used\n * in the `value` property of `IBuff` as needed.\n * @param params Array of values that cannot be processed yet.\n * @param startIndex The first index before which we know how to process an effect's values.\n * @returns Dictionary object where every parameter is keyed by its index in the format of `param_${startIndex + indexInParams}`\n */\nexport function createUnknownParamsValue(params = [], startIndex = 0) {\n    let hasValue = false;\n    const result = params\n        .reduce((acc, value, index) => {\n        if (value && value !== '0') {\n            acc[`param_${startIndex + index}`] = value;\n            hasValue = true;\n        }\n        return acc;\n    }, {});\n    return hasValue ? result : (void 0);\n}\n/**\n * @description Decide whether a given source value is one of the burst types in {@link BuffSource}.\n * @param source Source value to check.\n * @returns Whether the given source value is a burst type. Returns true when the source is determined to\n * be any one of the following: brave burst, super brave burst, ultimate brave burst, bonded brave burst,\n * bonded super brave burst, or bonded dual brave burst.\n */\nexport function buffSourceIsBurstType(source) {\n    return !!source && [\n        BuffSource.BraveBurst, BuffSource.SuperBraveBurst, BuffSource.UltimateBraveBurst,\n        BuffSource.BondedBraveBurst, BuffSource.BondedSuperBraveBurst, BuffSource.DualBraveBurst,\n    ].includes(source);\n}\n","import { UnitElement, Ailment, TargetArea } from '../../datamine-types';\nimport { BuffId, BuffConditionElement } from './buff-types';\nimport { getProcTargetData, createSourcesFromContext, parseNumberOrDefault, createUnknownParamsValue, buffSourceIsBurstType } from './_helpers';\nlet mapping;\n/**\n * @description Retrieve the proc-to-buff conversion function mapping for the library. Internally, this is a\n * lazy-loaded singleton to not impact first-load performance.\n * @param reload Optionally re-create the mapping.\n * @returns Mapping of proc IDs to functions.\n */\nexport function getProcEffectToBuffMapping(reload) {\n    if (!mapping || reload) {\n        mapping = new Map();\n        setMapping(mapping);\n    }\n    return mapping;\n}\n/**\n * @description Apply the mapping of proc effect IDs to conversion functions to the given Map object.\n * @param map Map to add conversion mapping onto.\n * @returns Does not return anything.\n * @internal\n */\nfunction setMapping(map) {\n    const ELEMENT_MAPPING = {\n        0: BuffConditionElement.All,\n        1: UnitElement.Fire,\n        2: UnitElement.Water,\n        3: UnitElement.Earth,\n        4: UnitElement.Thunder,\n        5: UnitElement.Light,\n        6: UnitElement.Dark,\n    };\n    const AILMENT_MAPPING = {\n        1: Ailment.Poison,\n        2: Ailment.Weak,\n        3: Ailment.Sick,\n        4: Ailment.Injury,\n        5: Ailment.Curse,\n        6: Ailment.Paralysis,\n        7: Ailment.AttackReduction,\n        8: Ailment.DefenseReduction,\n        9: Ailment.RecoveryReduction,\n    };\n    const retrieveCommonInfoForEffects = (effect, context, injectionContext) => {\n        const targetData = ((injectionContext && injectionContext.getProcTargetData) || getProcTargetData)(effect);\n        const sources = ((injectionContext && injectionContext.createSourcesFromContext) || createSourcesFromContext)(context);\n        const effectDelay = effect['effect delay time(ms)/frame'];\n        return { targetData, sources, effectDelay };\n    };\n    // Disable rule as this function is only called once it's confirmed that `effect.params` exists\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const splitEffectParams = (effect) => effect.params.split(',');\n    const createUnknownParamsEntry = (unknownParams, { originalId, sources, targetData, effectDelay, }) => (Object.assign({ id: BuffId.UNKNOWN_PROC_BUFF_PARAMS, originalId,\n        effectDelay,\n        sources, value: unknownParams }, targetData));\n    const createTurnDurationEntry = ({ originalId, sources, buffs, duration, targetData, }) => (Object.assign({ id: BuffId.TURN_DURATION_MODIFICATION, originalId,\n        sources, value: {\n            buffs,\n            duration: duration,\n        } }, targetData));\n    const createUnknownParamsEntryFromExtraParams = (extraParams, startIndex, injectionContext) => {\n        let unknownParams;\n        if (extraParams && extraParams.length > 0) {\n            unknownParams = ((injectionContext && injectionContext.createUnknownParamsValue) || createUnknownParamsValue)(extraParams, startIndex);\n        }\n        return unknownParams;\n    };\n    /**\n     * @description Decide whether the effect being parsed is a turn duration buff. This should only be\n     * checked if all other known values in the effect are 0.\n     * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n     * @param turnDuration Parsed turn duration value to check.\n     * @param injectionContext Object whose main use is for injecting methods in testing.\n     * @returns True if the turn duration value is non-zero and the source type is not a burst type.\n     */\n    const isTurnDurationBuff = (context, turnDuration, injectionContext) => {\n        let result = turnDuration !== 0;\n        if (result) {\n            result = !((injectionContext && injectionContext.buffSourceIsBurstType) || buffSourceIsBurstType)(context.source);\n        }\n        return result;\n    };\n    /**\n     * @description Helper function to get attack information common across most attacks from the conversion context.\n     * @param context Given context that may contain attack information like damage frames.\n     * @returns Extracted attack information from the context (with defaults where applicable).\n     */\n    const getAttackInformationFromContext = (context) => {\n        const hits = parseNumberOrDefault(context.damageFrames && context.damageFrames.hits || 0);\n        const distribution = parseNumberOrDefault(context.damageFrames && context.damageFrames['hit dmg% distribution (total)']);\n        return {\n            hits,\n            distribution,\n        };\n    };\n    const parseProcWithSingleNumericalParameterAndTurnDuration = ({ effect, context, injectionContext, effectValueKey, effectTurnDurationKey, parseParamValue = (rawValue) => parseNumberOrDefault(rawValue), buffId, originalId, }) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let value = 0, turnDuration = 0;\n        let unknownParams;\n        if (effect.params) {\n            const [rawValue, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n            value = parseParamValue(rawValue);\n            turnDuration = parseNumberOrDefault(rawTurnDuration);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n        }\n        else {\n            value = parseNumberOrDefault(effect[effectValueKey]);\n            turnDuration = parseNumberOrDefault(effect[effectTurnDurationKey]);\n        }\n        const results = [];\n        if (value !== 0) {\n            results.push(Object.assign({ id: buffId, originalId,\n                sources,\n                effectDelay, duration: turnDuration, value }, targetData));\n        }\n        else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId,\n                sources,\n                buffs: [buffId],\n                duration: turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId,\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    };\n    map.set('1', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const { hits, distribution } = getAttackInformationFromContext(context);\n        const params = {\n            'atk%': '0',\n            flatAtk: '0',\n            'crit%': '0',\n            'bc%': '0',\n            'hc%': '0',\n            'dmg%': '0',\n        };\n        let unknownParams;\n        if (effect.params) {\n            let extraParams;\n            [params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], params['dmg%'], ...extraParams] = splitEffectParams(effect);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n        }\n        else {\n            params['atk%'] = effect['bb atk%'];\n            params.flatAtk = effect['bb flat atk'];\n            params['crit%'] = effect['bb crit%'];\n            params['bc%'] = effect['bb bc%'];\n            params['hc%'] = effect['bb hc%'];\n            params['dmg%'] = effect['bb dmg%'];\n        }\n        const filteredValue = Object.entries(params)\n            .filter(([, value]) => value && +value)\n            .reduce((acc, [key, value]) => {\n            acc[key] = parseNumberOrDefault(value);\n            return acc;\n        }, {});\n        const results = [Object.assign({ id: 'proc:1', originalId: '1', sources,\n                effectDelay, value: Object.assign(Object.assign({}, filteredValue), { hits,\n                    distribution }) }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '1',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('2', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const params = {\n            healLow: '0',\n            healHigh: '0',\n            'healerRec%': 0,\n        };\n        let unknownParams;\n        if (effect.params) {\n            let recX, recY;\n            let extraParams;\n            [params.healLow, params.healHigh, recX, recY, ...extraParams] = splitEffectParams(effect);\n            params['healerRec%'] = ((100 + parseNumberOrDefault(recX)) * (1 + parseNumberOrDefault(recY) / 100)) / 10;\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n        }\n        else {\n            params.healLow = effect['heal low'];\n            params.healHigh = effect['heal high'];\n            params['healerRec%'] = effect['rec added% (from healer)'];\n        }\n        // ensure every property is a number\n        Object.keys(params).forEach((key) => {\n            params[key] = parseNumberOrDefault(params[key]);\n        });\n        const results = [Object.assign({ id: 'proc:2', originalId: '2', sources,\n                effectDelay, value: params }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '2',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('3', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const params = {\n            healLow: '0',\n            healHigh: '0',\n            'targetRec%': 0,\n            turnDuration: '0',\n        };\n        let unknownParams;\n        if (effect.params) {\n            let rec;\n            let extraParams;\n            [params.healLow, params.healHigh, rec, params.turnDuration, ...extraParams] = splitEffectParams(effect);\n            params['targetRec%'] = (1 + parseNumberOrDefault(rec) / 100) * 10;\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n        }\n        else {\n            params.healLow = effect['gradual heal low'];\n            params.healHigh = effect['gradual heal high'];\n            params['targetRec%'] = effect['rec added% (from target)'];\n            params.turnDuration = effect['gradual heal turns (8)'];\n        }\n        // ensure every property is a number\n        Object.keys(params).forEach((key) => {\n            params[key] = parseNumberOrDefault(params[key]);\n        });\n        const hasAnyHealValues = params.healLow !== 0 || params.healHigh !== 0;\n        const results = [];\n        if (hasAnyHealValues) {\n            results.push(Object.assign({ id: 'proc:3', originalId: '3', sources,\n                effectDelay, duration: params.turnDuration, value: {\n                    healLow: params.healLow,\n                    healHigh: params.healHigh,\n                    'targetRec%': params['targetRec%'],\n                } }, targetData));\n        }\n        else if (isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '3',\n                sources,\n                buffs: ['proc:3'],\n                duration: params.turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '3',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('4', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let flatFill = 0;\n        let percentFill = 0;\n        let unknownParams;\n        if (effect.params) {\n            const [rawFlatFill, rawPercentFill, ...extraParams] = splitEffectParams(effect);\n            flatFill = parseNumberOrDefault(rawFlatFill);\n            percentFill = parseNumberOrDefault(rawPercentFill);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n        }\n        else {\n            if ('bb bc fill' in effect) {\n                flatFill = parseNumberOrDefault(effect['bb bc fill']);\n            }\n            if ('bb bc fill%' in effect) {\n                percentFill = parseNumberOrDefault(effect['bb bc fill%']);\n            }\n        }\n        const results = [];\n        if (flatFill !== 0) {\n            results.push(Object.assign({ id: 'proc:4:flat', originalId: '4', sources,\n                effectDelay, value: flatFill }, targetData));\n        }\n        if (percentFill !== 0) {\n            results.push(Object.assign({ id: 'proc:4:percent', originalId: '4', sources,\n                effectDelay, value: percentFill }, targetData));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '4',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('5', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const params = {\n            element: BuffConditionElement.All,\n            atk: '0',\n            def: '0',\n            rec: '0',\n            crit: '0',\n            turnDuration: '0',\n        };\n        const coreStatProperties = ['atk', 'def', 'rec', 'crit'];\n        let unknownParams;\n        if (effect.params) {\n            let extraParams;\n            let rawElement;\n            [rawElement, params.atk, params.def, params.rec, params.crit, params.turnDuration, ...extraParams] = splitEffectParams(effect);\n            params.element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n        }\n        else {\n            const effectElement = effect['element buffed'];\n            if (effectElement === 'all') {\n                params.element = BuffConditionElement.All;\n            }\n            else if (!effectElement) {\n                params.element = BuffConditionElement.Unknown;\n            }\n            else {\n                params.element = effectElement;\n            }\n            const keys = Object.keys(effect);\n            coreStatProperties.forEach((statType) => {\n                const effectKey = keys.find((k) => k.startsWith(`${statType}% buff`));\n                if (effectKey) {\n                    params[statType] = parseNumberOrDefault(effect[effectKey]);\n                }\n            });\n            params.turnDuration = parseNumberOrDefault(effect['buff turns']);\n        }\n        // ensure numerical properties are actually numbers\n        coreStatProperties.concat(['turnDuration']).forEach((prop) => {\n            params[prop] = parseNumberOrDefault(params[prop]);\n        });\n        const hasAnyStats = coreStatProperties.some((statKey) => params[statKey] !== 0);\n        const results = [];\n        if (hasAnyStats) {\n            coreStatProperties.forEach((statKey) => {\n                const value = params[statKey];\n                if (value !== 0) {\n                    const buffEntry = Object.assign({ id: `proc:5:${statKey}`, originalId: '5', sources,\n                        effectDelay, duration: params.turnDuration, value }, targetData);\n                    if (params.element !== BuffConditionElement.All) {\n                        buffEntry.conditions = {\n                            targetElements: [params.element],\n                        };\n                    }\n                    results.push(buffEntry);\n                }\n            });\n        }\n        else if (isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '5',\n                sources,\n                buffs: coreStatProperties.map((statKey) => `proc:5:${statKey}`),\n                duration: params.turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '5',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('6', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const params = {\n            bc: '0',\n            hc: '0',\n            item: '0',\n            turnDuration: '0',\n        };\n        const dropRateProperties = ['bc', 'hc', 'item'];\n        let unknownParams;\n        if (effect.params) {\n            let extraParams;\n            [params.bc, params.hc, params.item, params.turnDuration, ...extraParams] = splitEffectParams(effect);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n        }\n        else {\n            params.bc = effect['bc drop rate% buff (10)'];\n            params.hc = effect['hc drop rate% buff (9)'];\n            params.item = effect['item drop rate% buff (11)'];\n            params.turnDuration = effect['drop buff rate turns'];\n        }\n        dropRateProperties.concat(['turnDuration']).forEach((prop) => {\n            params[prop] = parseNumberOrDefault(params[prop]);\n        });\n        const hasAnyRates = dropRateProperties.some((key) => params[key] !== 0);\n        const results = [];\n        if (hasAnyRates) {\n            dropRateProperties.forEach((key) => {\n                const value = params[key];\n                if (value !== 0) {\n                    results.push(Object.assign({ id: `proc:6:${key}`, originalId: '6', sources,\n                        effectDelay, duration: params.turnDuration, value }, targetData));\n                }\n            });\n        }\n        else if (isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '6',\n                sources,\n                buffs: dropRateProperties.map((key) => `proc:6:${key}`),\n                duration: params.turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '6',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('7', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let recoveredHpPercent = 0;\n        let unknownParams;\n        if (effect.params) {\n            const [rawRecoveredHp, ...extraParams] = splitEffectParams(effect);\n            recoveredHpPercent = parseNumberOrDefault(rawRecoveredHp);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 1, injectionContext);\n        }\n        else {\n            recoveredHpPercent = parseNumberOrDefault(effect['angel idol recover hp%']);\n        }\n        const results = [Object.assign({ id: 'proc:7', originalId: '7', sources,\n                effectDelay, value: recoveredHpPercent }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '7',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('8', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let flatHpBoost = 0;\n        let percentHpBoost = 0;\n        let unknownParams;\n        if (effect.params) {\n            const [rawFlatBoost, rawPercentBoost, ...extraParams] = splitEffectParams(effect);\n            flatHpBoost = parseNumberOrDefault(rawFlatBoost);\n            percentHpBoost = parseNumberOrDefault(rawPercentBoost);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n        }\n        else {\n            if ('max hp increase' in effect) {\n                flatHpBoost = parseNumberOrDefault(effect['max hp increase']);\n            }\n            if ('max hp% increase' in effect) {\n                percentHpBoost = parseNumberOrDefault(effect['max hp% increase']);\n            }\n        }\n        const results = [];\n        if (flatHpBoost !== 0) {\n            results.push(Object.assign({ id: 'proc:8:flat', originalId: '8', sources,\n                effectDelay, value: flatHpBoost }, targetData));\n        }\n        if (percentHpBoost !== 0) {\n            results.push(Object.assign({ id: 'proc:8:percent', originalId: '8', sources,\n                effectDelay, value: percentHpBoost }, targetData));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '8',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('9', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const STAT_TYPE_MAPPING = {\n            0: 'atk',\n            1: 'def',\n            2: 'rec',\n        };\n        const coreStatProperties = ['atk', 'def', 'rec'];\n        const params = {\n            element: BuffConditionElement.All,\n            statReductionEntries: [],\n            turnDuration: 0,\n        };\n        let unknownParams;\n        if (effect.params) {\n            const [rawElement, statType1, value1, procChance1, statType2, value2, procChance2, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n            params.element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n            params.turnDuration = parseNumberOrDefault(rawTurnDuration);\n            [\n                [statType1, value1, procChance1],\n                [statType2, value2, procChance2],\n            ].forEach(([rawStatType, rawValue, rawProcChance]) => {\n                const statType = parseNumberOrDefault(rawStatType) - 1;\n                const value = parseNumberOrDefault(rawValue);\n                const chance = parseNumberOrDefault(rawProcChance);\n                if (statType === 3) { // all stats\n                    params.statReductionEntries.push(...coreStatProperties.map((stat) => ({\n                        stat,\n                        value,\n                        chance,\n                    })));\n                }\n                else {\n                    params.statReductionEntries.push({\n                        stat: STAT_TYPE_MAPPING[statType] || 'unknown',\n                        value,\n                        chance,\n                    });\n                }\n            });\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 8, injectionContext);\n        }\n        else {\n            const effectElement = effect['element buffed'];\n            if (effectElement === 'all') {\n                params.element = BuffConditionElement.All;\n            }\n            else if (!effectElement) {\n                params.element = BuffConditionElement.Unknown;\n            }\n            else {\n                params.element = effectElement;\n            }\n            ['buff #1', 'buff #2'].forEach((buffKey) => {\n                const entry = effect[buffKey];\n                if (entry) {\n                    const chance = parseNumberOrDefault(entry['proc chance%']);\n                    const keys = Object.keys(entry);\n                    coreStatProperties.forEach((statType) => {\n                        const effectKey = keys.find((k) => k.startsWith(`${statType}% buff`));\n                        if (effectKey) {\n                            params.statReductionEntries.push({\n                                stat: statType,\n                                value: parseNumberOrDefault(entry[effectKey]),\n                                chance,\n                            });\n                        }\n                    });\n                }\n            });\n            params.turnDuration = parseNumberOrDefault(effect['buff turns']);\n        }\n        const results = [];\n        let hasAnyValues = false;\n        params.statReductionEntries.forEach(({ stat, value, chance }) => {\n            if (value !== 0 || chance !== 0) {\n                hasAnyValues = true;\n                const buffEntry = Object.assign({ id: `proc:9:${stat}`, originalId: '9', sources,\n                    effectDelay, duration: params.turnDuration, value: { value, chance } }, targetData);\n                if (params.element !== BuffConditionElement.All) {\n                    buffEntry.conditions = {\n                        targetElements: [params.element],\n                    };\n                }\n                results.push(buffEntry);\n            }\n        });\n        if (!hasAnyValues && isTurnDurationBuff(context, params.turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '9',\n                sources,\n                buffs: coreStatProperties.map((statKey) => `proc:9:${statKey}`),\n                duration: params.turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '9',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('10', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const curedAilments = [];\n        let unknownParams;\n        if (effect.params) {\n            const splitParams = splitEffectParams(effect);\n            const knownParams = splitParams.slice(0, 8);\n            const extraParams = splitParams.slice(8);\n            knownParams\n                .filter((p) => p !== '0')\n                .forEach((param) => {\n                curedAilments.push(AILMENT_MAPPING[param] || Ailment.Unknown);\n            });\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 8, injectionContext);\n        }\n        else {\n            Object.values(AILMENT_MAPPING).forEach((ailment) => {\n                if (`remove ${ailment}` in effect) { // mainly for items\n                    curedAilments.push(ailment);\n                }\n            });\n            if ('remove all status ailments' in effect) {\n                curedAilments.push(Ailment.Unknown); // generic value for skills; unknown at a glance which ailments are cured\n            }\n        }\n        const results = curedAilments.map((ailment) => (Object.assign({ id: `proc:10:${ailment}`, originalId: '10', sources,\n            effectDelay, value: true }, targetData)));\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '10',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('11', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const inflictedAilments = [];\n        let unknownParams;\n        if (effect.params) {\n            let params = splitEffectParams(effect);\n            if (params.length % 2 !== 0 && params[params.length - 1] !== '0') {\n                unknownParams = createUnknownParamsEntryFromExtraParams(params.slice(-1), params.length - 1, injectionContext);\n                params = params.slice(0, params.length - 1);\n            }\n            const numParams = params.length;\n            for (let index = 0; index < numParams; index += 2) {\n                const ailmentValue = params[index];\n                const chance = parseNumberOrDefault(params[index + 1]);\n                if (ailmentValue !== '0' || chance !== 0) {\n                    const ailmentType = AILMENT_MAPPING[ailmentValue] || Ailment.Unknown;\n                    inflictedAilments.push({\n                        ailment: ailmentType,\n                        chance,\n                    });\n                }\n            }\n        }\n        else {\n            Object.values(AILMENT_MAPPING).forEach((ailment) => {\n                let effectKey;\n                if (ailment === Ailment.Weak) {\n                    effectKey = 'weaken%';\n                }\n                else if (ailment === Ailment.AttackReduction || ailment === Ailment.DefenseReduction || ailment === Ailment.RecoveryReduction) {\n                    effectKey = ailment;\n                }\n                else {\n                    effectKey = `${ailment}%`;\n                }\n                if (effectKey in effect) {\n                    inflictedAilments.push({\n                        ailment,\n                        chance: parseNumberOrDefault(effect[effectKey]),\n                    });\n                }\n            });\n        }\n        const results = inflictedAilments.map(({ ailment, chance }) => (Object.assign({ id: `proc:11:${ailment}`, originalId: '11', sources,\n            effectDelay, value: chance }, targetData)));\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '11',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('12', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let reviveToHp = 0;\n        let unknownParams;\n        if (effect.params) {\n            const [rawReviveToHp, ...extraParams] = splitEffectParams(effect);\n            reviveToHp = parseNumberOrDefault(rawReviveToHp);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 1, injectionContext);\n        }\n        else {\n            reviveToHp = parseNumberOrDefault(effect['revive to hp%']);\n        }\n        const results = [Object.assign({ id: 'proc:12', originalId: '12', sources,\n                effectDelay, value: reviveToHp }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '12',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('13', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let hits = 0;\n        const { distribution } = getAttackInformationFromContext(context);\n        const params = {\n            'atk%': '0',\n            flatAtk: '0',\n            'crit%': '0',\n            'bc%': '0',\n            'hc%': '0',\n        };\n        let unknownParams;\n        if (effect.params) {\n            let extraParams;\n            let rawHits;\n            [params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], rawHits, ...extraParams] = splitEffectParams(effect);\n            hits = parseNumberOrDefault(rawHits);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n        }\n        else {\n            params['atk%'] = effect['bb atk%'];\n            params.flatAtk = effect['bb flat atk'];\n            params['crit%'] = effect['bb crit%'];\n            params['bc%'] = effect['bb bc%'];\n            params['hc%'] = effect['bb hc%'];\n            hits = parseNumberOrDefault(effect.hits);\n        }\n        const filteredValue = Object.entries(params)\n            .filter(([, value]) => value && +value)\n            .reduce((acc, [key, value]) => {\n            acc[key] = parseNumberOrDefault(value);\n            return acc;\n        }, {});\n        const results = [{\n                id: 'proc:13',\n                originalId: '13',\n                sources,\n                effectDelay,\n                value: Object.assign(Object.assign({}, filteredValue), { hits,\n                    distribution }),\n                targetType: targetData.targetType,\n                targetArea: TargetArea.Random,\n            }];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '13',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('14', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const { hits, distribution } = getAttackInformationFromContext(context);\n        const params = {\n            'atk%': '0',\n            flatAtk: '0',\n            'crit%': '0',\n            'bc%': '0',\n            'hc%': '0',\n            'dmg%': '0',\n            'drainLow%': '0',\n            'drainHigh%': '0',\n        };\n        let unknownParams;\n        if (effect.params) {\n            let extraParams;\n            [params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], params['dmg%'], params['drainLow%'], params['drainHigh%'], ...extraParams] = splitEffectParams(effect);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 8, injectionContext);\n        }\n        else {\n            params['atk%'] = effect['bb atk%'];\n            params.flatAtk = effect['bb flat atk'];\n            params['crit%'] = effect['bb crit%'];\n            params['bc%'] = effect['bb bc%'];\n            params['hc%'] = effect['bb hc%'];\n            params['dmg%'] = effect['bb dmg%'];\n            params['drainLow%'] = effect['hp drain% low'];\n            params['drainHigh%'] = effect['hp drain% high'];\n        }\n        const filteredValue = Object.entries(params)\n            .filter(([, value]) => value && +value)\n            .reduce((acc, [key, value]) => {\n            acc[key] = parseNumberOrDefault(value);\n            return acc;\n        }, {});\n        const results = [Object.assign({ id: 'proc:14', originalId: '14', sources,\n                effectDelay, value: Object.assign(Object.assign({}, filteredValue), { hits,\n                    distribution }) }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '14',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('16', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let mitigation = 0;\n        let element;\n        let turnDuration = 0;\n        let unknownParams;\n        if (effect.params) {\n            const [rawElement, rawMitigation, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n            element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n            mitigation = parseNumberOrDefault(rawMitigation);\n            turnDuration = parseNumberOrDefault(rawTurnDuration);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 3, injectionContext);\n        }\n        else {\n            const mitigationKey = Object.keys(effect).find((k) => k.startsWith('mitigate'));\n            element = (mitigationKey && Object.values(ELEMENT_MAPPING).find((e) => mitigationKey.includes(e))) || BuffConditionElement.Unknown;\n            if (mitigationKey) {\n                mitigation = parseNumberOrDefault(effect[mitigationKey]);\n            }\n            turnDuration = parseNumberOrDefault(effect['buff turns']);\n        }\n        const results = [];\n        if (mitigation !== 0) {\n            results.push(Object.assign({ id: `proc:16:${element}`, originalId: '16', sources,\n                effectDelay, duration: turnDuration, value: mitigation }, targetData));\n        }\n        else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '16',\n                sources,\n                buffs: Object.values(ELEMENT_MAPPING).concat([BuffConditionElement.Unknown]).map((e) => `proc:16:${e}`),\n                duration: turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '16',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('17', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const AILMENTS_ORDER = [Ailment.Poison, Ailment.Weak, Ailment.Sick, Ailment.Injury, Ailment.Curse, Ailment.Paralysis];\n        const resistances = {\n            poison: '0',\n            weak: '0',\n            sick: '0',\n            injury: '0',\n            curse: '0',\n            paralysis: '0',\n        };\n        let turnDuration = 0;\n        let unknownParams;\n        if (effect.params) {\n            let rawDuration, extraParams;\n            [resistances.poison, resistances.weak, resistances.sick, resistances.injury, resistances.curse, resistances.paralysis, rawDuration, ...extraParams] = splitEffectParams(effect);\n            turnDuration = parseNumberOrDefault(rawDuration);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 7, injectionContext);\n        }\n        else {\n            const ailmentKeysInEffect = Object.keys(effect).filter((k) => k.startsWith('resist'));\n            AILMENTS_ORDER.forEach((ailment) => {\n                const correspondingKey = ailmentKeysInEffect.find((k) => k.includes(ailment));\n                if (correspondingKey) {\n                    resistances[ailment] = effect[correspondingKey];\n                }\n            });\n            turnDuration = parseNumberOrDefault(effect['resist status ails turns']);\n        }\n        const results = [];\n        AILMENTS_ORDER.forEach((ailment) => {\n            const value = parseNumberOrDefault(resistances[ailment]);\n            if (value !== 0) {\n                results.push(Object.assign({ id: `proc:17:${ailment}`, originalId: '17', sources,\n                    effectDelay,\n                    value, duration: turnDuration }, targetData));\n            }\n        });\n        if (results.length === 0 && isTurnDurationBuff(context, turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '17',\n                sources,\n                buffs: AILMENTS_ORDER.map((a) => `proc:17:${a}`),\n                duration: turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '17',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('18', (effect, context, injectionContext) => {\n        return parseProcWithSingleNumericalParameterAndTurnDuration({\n            effect,\n            context,\n            injectionContext,\n            effectValueKey: 'dmg% reduction',\n            effectTurnDurationKey: 'dmg% reduction turns (36)',\n            buffId: 'proc:18',\n            originalId: '18',\n        });\n    });\n    map.set('19', (effect, context, injectionContext) => {\n        return parseProcWithSingleNumericalParameterAndTurnDuration({\n            effect,\n            context,\n            injectionContext,\n            effectValueKey: 'increase bb gauge gradual',\n            effectTurnDurationKey: 'increase bb gauge gradual turns (37)',\n            parseParamValue: (rawValue) => parseNumberOrDefault(rawValue) / 100,\n            buffId: 'proc:19',\n            originalId: '19',\n        });\n    });\n    map.set('20', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let fillLow = 0;\n        let fillHigh = 0;\n        let chance = 0;\n        let turnDuration = 0;\n        let unknownParams;\n        if (effect.params) {\n            const [rawFillLow, rawFillHigh, rawChance, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n            fillLow = parseNumberOrDefault(rawFillLow) / 100;\n            fillHigh = parseNumberOrDefault(rawFillHigh) / 100;\n            chance = parseNumberOrDefault(rawChance);\n            turnDuration = parseNumberOrDefault(rawTurnDuration);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 4, injectionContext);\n        }\n        else {\n            fillLow = parseNumberOrDefault(effect['bc fill when attacked low']);\n            fillHigh = parseNumberOrDefault(effect['bc fill when attacked high']);\n            chance = parseNumberOrDefault(effect['bc fill when attacked%']);\n            turnDuration = parseNumberOrDefault(effect['bc fill when attacked turns (38)']);\n        }\n        const hasAnyFillValues = fillLow !== 0 || fillHigh !== 0;\n        const results = [];\n        if (hasAnyFillValues) {\n            results.push(Object.assign({ id: 'proc:20', originalId: '20', sources,\n                effectDelay, duration: turnDuration, conditions: {\n                    whenAttacked: true,\n                }, value: {\n                    fillLow,\n                    fillHigh,\n                    chance,\n                } }, targetData));\n        }\n        else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '20',\n                sources,\n                buffs: ['proc:20'],\n                duration: turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '20',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('22', (effect, context, injectionContext) => {\n        return parseProcWithSingleNumericalParameterAndTurnDuration({\n            effect,\n            context,\n            injectionContext,\n            effectValueKey: 'defense% ignore',\n            effectTurnDurationKey: 'defense% ignore turns (39)',\n            buffId: 'proc:22',\n            originalId: '22',\n        });\n    });\n    map.set('23', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let value = 0, turnDuration = 0;\n        let unknownParams;\n        if (effect.params) {\n            const params = splitEffectParams(effect);\n            value = parseNumberOrDefault(params[0]);\n            turnDuration = parseNumberOrDefault(params[6]);\n            const extraParams = ['0', ...params.slice(1, 6), '0', ...params.slice(7)];\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 0, injectionContext);\n        }\n        else {\n            value = parseNumberOrDefault(effect['spark dmg% buff (40)']);\n            turnDuration = parseNumberOrDefault(effect['buff turns']);\n        }\n        const results = [];\n        if (value !== 0) {\n            results.push(Object.assign({ id: 'proc:23', originalId: '23', sources,\n                effectDelay, duration: turnDuration, value }, targetData));\n        }\n        else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '23',\n                sources,\n                buffs: ['proc:23'],\n                duration: turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '23',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('24', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const coreStatProperties = ['atk', 'def', 'rec'];\n        const coreStatPropertyMapping = {\n            1: 'atk',\n            2: 'def',\n            3: 'rec',\n            4: 'hp',\n        };\n        const effectToCoreStatMapping = {\n            attack: 'atk',\n            defense: 'def',\n            recovery: 'rec',\n            hp: 'hp',\n        };\n        const stats = {\n            atk: '0',\n            def: '0',\n            rec: '0',\n        };\n        let turnDuration = 0;\n        let convertedStat = 'unknown';\n        let unknownParams;\n        if (effect.params) {\n            let extraParams;\n            let rawConvertedStat, rawTurnDuration;\n            [rawConvertedStat, stats.atk, stats.def, stats.rec, rawTurnDuration, ...extraParams] = splitEffectParams(effect);\n            convertedStat = coreStatPropertyMapping[rawConvertedStat] || 'unknown';\n            turnDuration = parseNumberOrDefault(rawTurnDuration);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n        }\n        else {\n            const rawConvertedStat = effect['converted attribute'];\n            if (rawConvertedStat in effectToCoreStatMapping) {\n                convertedStat = effectToCoreStatMapping[rawConvertedStat];\n            }\n            else {\n                convertedStat = 'unknown';\n            }\n            const keys = Object.keys(effect);\n            coreStatProperties.forEach((statType) => {\n                const effectKey = keys.find((k) => k.startsWith(`${statType}% buff`));\n                if (effectKey) {\n                    stats[statType] = parseNumberOrDefault(effect[effectKey]);\n                }\n            });\n            turnDuration = parseNumberOrDefault(effect['% converted turns']);\n        }\n        const results = [];\n        coreStatProperties.forEach((stat) => {\n            const value = parseNumberOrDefault(stats[stat]);\n            if (value !== 0) {\n                results.push(Object.assign({ id: `proc:24:${stat}`, originalId: '24', sources,\n                    effectDelay, duration: turnDuration, value: {\n                        convertedStat,\n                        value,\n                    } }, targetData));\n            }\n        });\n        if (results.length === 0 && isTurnDurationBuff(context, turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '24',\n                sources,\n                buffs: coreStatProperties.map((statKey) => `proc:24:${statKey}`),\n                duration: turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '24',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('26', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        let hitIncreasePerHit = 0, extraHitDamage = 0, turnDuration = 0;\n        let unknownParams;\n        if (effect.params) {\n            const params = splitEffectParams(effect);\n            hitIncreasePerHit = parseNumberOrDefault(params[0]);\n            extraHitDamage = parseNumberOrDefault(params[2]);\n            turnDuration = parseNumberOrDefault(params[7]);\n            const extraParams = ['0', params[1], '0', ...params.slice(3, 7), '0', ...params.slice(8)];\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 0, injectionContext);\n        }\n        else {\n            hitIncreasePerHit = parseNumberOrDefault(effect['hit increase/hit']);\n            extraHitDamage = parseNumberOrDefault(effect['extra hits dmg%']);\n            turnDuration = parseNumberOrDefault(effect['hit increase buff turns (50)']);\n        }\n        const results = [];\n        if (hitIncreasePerHit !== 0 || extraHitDamage !== 0) {\n            results.push(Object.assign({ id: 'proc:26', originalId: '26', sources,\n                effectDelay, duration: turnDuration, value: {\n                    hitIncreasePerHit,\n                    extraHitDamage,\n                } }, targetData));\n        }\n        else if (isTurnDurationBuff(context, turnDuration, injectionContext)) {\n            results.push(createTurnDurationEntry({\n                originalId: '26',\n                sources,\n                buffs: ['proc:26'],\n                duration: turnDuration,\n                targetData,\n            }));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '26',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n    map.set('27', (effect, context, injectionContext) => {\n        const { targetData, sources, effectDelay } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const { hits, distribution } = getAttackInformationFromContext(context);\n        const params = {\n            'hpDamageLow%': '0',\n            'hpDamageHigh%': '0',\n            'hpDamageChance%': '0',\n            'atk%': '0',\n            flatAtk: '0',\n            'crit%': '0',\n            'bc%': '0',\n            'hc%': '0',\n            'dmg%': '0',\n        };\n        let unknownParams;\n        if (effect.params) {\n            let extraParams;\n            [params['hpDamageLow%'], params['hpDamageHigh%'], params['hpDamageChance%'], params['atk%'], params.flatAtk, params['crit%'], params['bc%'], params['hc%'], params['dmg%'], ...extraParams] = splitEffectParams(effect);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 9, injectionContext);\n        }\n        else {\n            params['hpDamageLow%'] = effect['hp% damage low'];\n            params['hpDamageHigh%'] = effect['hp% damage high'];\n            params['hpDamageChance%'] = effect['hp% damage chance%'];\n            params['atk%'] = effect['bb atk%'];\n            params.flatAtk = effect['bb flat atk'];\n            params['crit%'] = effect['bb crit%'];\n            params['bc%'] = effect['bb bc%'];\n            params['hc%'] = effect['bb hc%'];\n            params['dmg%'] = effect['bb dmg%'];\n        }\n        const filteredValue = Object.entries(params)\n            .filter(([, value]) => value && +value)\n            .reduce((acc, [key, value]) => {\n            acc[key] = parseNumberOrDefault(value);\n            return acc;\n        }, {});\n        const results = [Object.assign({ id: 'proc:27', originalId: '27', sources,\n                effectDelay, value: Object.assign(Object.assign({}, filteredValue), { hits,\n                    distribution }) }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '27',\n                sources,\n                targetData,\n                effectDelay,\n            }));\n        }\n        return results;\n    });\n}\n","import { UnitElement, UnitType, Ailment } from '../../datamine-types';\nimport { BuffId, BuffConditionElement } from './buff-types';\nimport { createSourcesFromContext, processExtraSkillConditions, getPassiveTargetData, createUnknownParamsValue, parseNumberOrDefault } from './_helpers';\nlet mapping;\n/**\n * @description Retrieve the passive-to-buff conversion function mapping for the library. Internally, this is a\n * lazy-loaded singleton to not impact first-load performance.\n * @param reload Optionally re-create the mapping.\n * @returns Mapping of passive IDs to functions.\n */\nexport function getPassiveEffectToBuffMapping(reload) {\n    if (!mapping || reload) {\n        mapping = new Map();\n        setMapping(mapping);\n    }\n    return mapping;\n}\n/**\n * @description Apply the mapping of passive effect IDs to conversion functions to the given Map object.\n * @param map Map to add conversion mapping onto.\n * @returns Does not return anything.\n * @internal\n */\nfunction setMapping(map) {\n    const ELEMENT_MAPPING = {\n        1: UnitElement.Fire,\n        2: UnitElement.Water,\n        3: UnitElement.Earth,\n        4: UnitElement.Thunder,\n        5: UnitElement.Light,\n        6: UnitElement.Dark,\n        X: BuffConditionElement.OmniParadigm,\n    };\n    const TYPE_MAPPING = {\n        1: UnitType.Lord,\n        2: UnitType.Anima,\n        3: UnitType.Breaker,\n        4: UnitType.Guardian,\n        5: UnitType.Oracle,\n        6: UnitType.Rex,\n    };\n    const AILMENT_MAPPING = {\n        1: Ailment.Poison,\n        2: Ailment.Weak,\n        3: Ailment.Sick,\n        4: Ailment.Injury,\n        5: Ailment.Curse,\n        6: Ailment.Paralysis,\n        7: Ailment.AttackReduction,\n        8: Ailment.DefenseReduction,\n        9: Ailment.RecoveryReduction,\n    };\n    const STATS_ORDER = ['atk', 'def', 'rec', 'crit', 'hp'];\n    const AILMENTS_ORDER = ['poison', 'weak', 'sick', 'injury', 'curse', 'paralysis'];\n    const retrieveCommonInfoForEffects = (effect, context, injectionContext) => {\n        const conditionInfo = ((injectionContext && injectionContext.processExtraSkillConditions) || processExtraSkillConditions)(effect);\n        const targetData = ((injectionContext && injectionContext.getPassiveTargetData) || getPassiveTargetData)(effect, context);\n        const sources = ((injectionContext && injectionContext.createSourcesFromContext) || createSourcesFromContext)(context);\n        return { conditionInfo, targetData, sources };\n    };\n    // Disable rule as this function is only called once it's confirmed that `effect.params` exists\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const splitEffectParams = (effect) => effect.params.split(',');\n    const createUnknownParamsEntry = (unknownParams, { originalId, sources, targetData, conditionInfo, }) => (Object.assign({ id: BuffId.UNKNOWN_PASSIVE_BUFF_PARAMS, originalId,\n        sources, value: unknownParams, conditions: Object.assign({}, conditionInfo) }, targetData));\n    const createUnknownParamsEntryFromExtraParams = (extraParams, startIndex, injectionContext) => {\n        let unknownParams;\n        if (extraParams && extraParams.length > 0) {\n            unknownParams = ((injectionContext && injectionContext.createUnknownParamsValue) || createUnknownParamsValue)(extraParams, startIndex);\n        }\n        return unknownParams;\n    };\n    const parsePassiveWithSingleNumericalParameter = ({ effect, context, injectionContext, originalId, effectKey, buffId, }) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        let value = 0;\n        let unknownParams;\n        if (typedEffect.params) {\n            const [rawValue, ...extraParams] = splitEffectParams(typedEffect);\n            value = parseNumberOrDefault(rawValue);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 1, injectionContext);\n        }\n        else {\n            value = parseNumberOrDefault(typedEffect[effectKey]);\n        }\n        if (value !== 0) {\n            results.push(Object.assign({ id: buffId, originalId,\n                sources,\n                value, conditions: Object.assign({}, conditionInfo) }, targetData));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId,\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    };\n    const parsePassiveWithNumericalValueRangeAndChance = ({ effect, context, injectionContext, originalId, effectKeyLow, effectKeyHigh, effectKeyChance, buffKeyLow, buffKeyHigh, defaultEffectChance = 0, parseParamValue = (rawValue) => parseNumberOrDefault(rawValue), generateBaseConditions = () => ({}), buffId, }) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        let valueLow, valueHigh, chance;\n        let unknownParams;\n        if (typedEffect.params) {\n            const [rawLowValue, rawHighValue, rawChance, ...extraParams] = splitEffectParams(typedEffect);\n            valueLow = parseParamValue(rawLowValue);\n            valueHigh = parseParamValue(rawHighValue);\n            chance = parseNumberOrDefault(rawChance);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 3, injectionContext);\n        }\n        else {\n            valueLow = parseNumberOrDefault(typedEffect[effectKeyLow]);\n            valueHigh = parseNumberOrDefault(typedEffect[effectKeyHigh]);\n            chance = parseNumberOrDefault(typedEffect[effectKeyChance], defaultEffectChance);\n        }\n        const results = [Object.assign({ id: buffId, originalId,\n                sources, value: {\n                    [buffKeyLow]: valueLow,\n                    [buffKeyHigh]: valueHigh,\n                    chance,\n                }, conditions: Object.assign(Object.assign({}, conditionInfo), generateBaseConditions()) }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId,\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    };\n    map.set('1', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        const stats = {\n            atk: '0',\n            def: '0',\n            rec: '0',\n            crit: '0',\n            hp: '0',\n        };\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            [stats.atk, stats.def, stats.rec, stats.crit, stats.hp, ...extraParams] = splitEffectParams(typedEffect);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n        }\n        else {\n            stats.hp = typedEffect['hp% buff'];\n            stats.atk = typedEffect['atk% buff'];\n            stats.def = typedEffect['def% buff'];\n            stats.rec = typedEffect['rec% buff'];\n            stats.crit = typedEffect['crit% buff'];\n        }\n        STATS_ORDER.forEach((stat) => {\n            const value = parseNumberOrDefault(stats[stat]);\n            if (value !== 0) {\n                results.push(Object.assign({ id: `passive:1:${stat}`, originalId: '1', sources,\n                    value, conditions: Object.assign({}, conditionInfo) }, targetData));\n            }\n        });\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '1',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('2', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        const stats = {\n            elements: [],\n            atk: '0',\n            def: '0',\n            rec: '0',\n            crit: '0',\n            hp: '0',\n        };\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            let element1, element2;\n            [element1, element2, stats.atk, stats.def, stats.rec, stats.crit, stats.hp, ...extraParams] = splitEffectParams(typedEffect);\n            [element1, element2].forEach((elementValue) => {\n                if (elementValue && elementValue !== '0') {\n                    stats.elements.push(ELEMENT_MAPPING[elementValue] || BuffConditionElement.Unknown);\n                }\n            });\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 7, injectionContext);\n        }\n        else {\n            stats.elements = typedEffect['elements buffed'];\n            stats.hp = typedEffect['hp% buff'];\n            stats.atk = typedEffect['atk% buff'];\n            stats.def = typedEffect['def% buff'];\n            stats.rec = typedEffect['rec% buff'];\n            stats.crit = typedEffect['crit% buff'];\n        }\n        const createBaseStatObject = (stat) => (Object.assign({ id: `passive:2:${stat}`, originalId: '2', sources, value: parseNumberOrDefault(stats[stat]) }, targetData));\n        if (stats.elements.length > 0) {\n            stats.elements.forEach((element) => {\n                STATS_ORDER.forEach((stat) => {\n                    const value = parseNumberOrDefault(stats[stat]);\n                    if (value !== 0) {\n                        results.push(Object.assign(Object.assign({}, createBaseStatObject(stat)), { conditions: Object.assign(Object.assign({}, conditionInfo), { targetElements: [element] }) }));\n                    }\n                });\n            });\n        }\n        else {\n            STATS_ORDER.forEach((stat) => {\n                const value = parseNumberOrDefault(stats[stat]);\n                if (value !== 0) {\n                    results.push(Object.assign(Object.assign({}, createBaseStatObject(stat)), { conditions: Object.assign(Object.assign({}, conditionInfo), { targetElements: [BuffConditionElement.Unknown] }) }));\n                }\n            });\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '2',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('3', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        const stats = {\n            unitType: '',\n            atk: '0',\n            def: '0',\n            rec: '0',\n            crit: '0',\n            hp: '0',\n        };\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            let unitType;\n            [unitType, stats.atk, stats.def, stats.rec, stats.crit, stats.hp, ...extraParams] = splitEffectParams(typedEffect);\n            if (unitType && unitType !== '0') {\n                stats.unitType = TYPE_MAPPING[unitType] || 'unknown';\n            }\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n        }\n        else {\n            stats.unitType = typedEffect['unit type buffed'];\n            stats.hp = typedEffect['hp% buff'];\n            stats.atk = typedEffect['atk% buff'];\n            stats.def = typedEffect['def% buff'];\n            stats.rec = typedEffect['rec% buff'];\n            stats.crit = typedEffect['crit% buff'];\n        }\n        const targetUnitType = stats.unitType || 'unknown';\n        STATS_ORDER.forEach((stat) => {\n            const value = parseNumberOrDefault(stats[stat]);\n            if (value !== 0) {\n                results.push(Object.assign({ id: `passive:3:${stat}`, originalId: '3', sources, value: +value, conditions: Object.assign(Object.assign({}, conditionInfo), { targetUnitType }) }, targetData));\n            }\n        });\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '3',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('4', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        const resistances = {\n            poison: '0',\n            weak: '0',\n            sick: '0',\n            injury: '0',\n            curse: '0',\n            paralysis: '0',\n        };\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            [resistances.poison, resistances.weak, resistances.sick, resistances.injury, resistances.curse, resistances.paralysis, ...extraParams] = splitEffectParams(typedEffect);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n        }\n        else {\n            AILMENTS_ORDER.forEach((ailment) => {\n                const effectKey = ailment !== 'weak' ? ailment : 'weaken';\n                resistances[ailment] = typedEffect[`${effectKey} resist%`];\n            });\n        }\n        AILMENTS_ORDER.forEach((ailment) => {\n            const value = parseNumberOrDefault(resistances[ailment]);\n            if (value !== 0) {\n                results.push(Object.assign({ id: `passive:4:${ailment}`, originalId: '4', sources,\n                    value, conditions: Object.assign({}, conditionInfo) }, targetData));\n            }\n        });\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '4',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('5', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        let element;\n        let mitigation = '0';\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            let rawElement;\n            [rawElement, mitigation, ...extraParams] = splitEffectParams(typedEffect);\n            element = ELEMENT_MAPPING[rawElement] || BuffConditionElement.Unknown;\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n        }\n        else {\n            element = Object.values(ELEMENT_MAPPING).find((elem) => `${elem} resist%` in effect) || BuffConditionElement.Unknown;\n            if (element !== BuffConditionElement.Unknown) {\n                mitigation = typedEffect[`${element} resist%`];\n            }\n        }\n        const value = parseNumberOrDefault(mitigation);\n        if (value !== 0) {\n            results.push(Object.assign({ id: `passive:5:${element}`, originalId: '5', sources,\n                value, conditions: Object.assign({}, conditionInfo) }, targetData));\n        }\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '5',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('8', (effect, context, injectionContext) => {\n        return parsePassiveWithSingleNumericalParameter({\n            effect,\n            context,\n            injectionContext,\n            effectKey: 'dmg% mitigation',\n            buffId: 'passive:8',\n            originalId: '8',\n        });\n    });\n    map.set('9', (effect, context, injectionContext) => {\n        return parsePassiveWithSingleNumericalParameter({\n            effect,\n            context,\n            injectionContext,\n            effectKey: 'bc fill per turn',\n            buffId: 'passive:9',\n            originalId: '9',\n        });\n    });\n    map.set('10', (effect, context, injectionContext) => {\n        return parsePassiveWithSingleNumericalParameter({\n            effect,\n            context,\n            injectionContext,\n            effectKey: 'hc effectiveness%',\n            buffId: 'passive:10',\n            originalId: '10',\n        });\n    });\n    map.set('11', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        const stats = {\n            atk: '0',\n            def: '0',\n            rec: '0',\n            crit: '0',\n        };\n        let requireHpAbove = false;\n        let hpThreshold = 0;\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            let rawRequireHpAboveFlag;\n            let rawHpThreshold;\n            [stats.atk, stats.def, stats.rec, stats.crit, rawHpThreshold, rawRequireHpAboveFlag, ...extraParams] = splitEffectParams(typedEffect);\n            requireHpAbove = rawRequireHpAboveFlag === '1';\n            hpThreshold = parseNumberOrDefault(rawHpThreshold);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 6, injectionContext);\n        }\n        else {\n            stats.atk = typedEffect['atk% buff'];\n            stats.def = typedEffect['def% buff'];\n            stats.rec = typedEffect['rec% buff'];\n            stats.crit = typedEffect['crit% buff'];\n            if ('hp above % buff requirement' in typedEffect) {\n                hpThreshold = parseNumberOrDefault(typedEffect['hp above % buff requirement']);\n                requireHpAbove = true;\n            }\n            else {\n                hpThreshold = parseNumberOrDefault(typedEffect['hp below % buff requirement']);\n                requireHpAbove = false;\n            }\n        }\n        STATS_ORDER.forEach((stat) => {\n            const value = parseNumberOrDefault(stats[stat]);\n            if (stat !== 'hp' && value !== 0) {\n                const entry = Object.assign({ id: `passive:11:${stat}`, originalId: '11', sources,\n                    value, conditions: Object.assign({}, conditionInfo) }, targetData);\n                // disabling no-non-null-assertion rule because `conditions` property is defined above\n                /* eslint-disable @typescript-eslint/no-non-null-assertion */\n                if (requireHpAbove) {\n                    entry.conditions.hpGreaterThanOrEqualTo = hpThreshold;\n                }\n                else {\n                    entry.conditions.hpLessThanOrEqualTo = hpThreshold;\n                }\n                /* eslint-enable @typescript-eslint/no-non-null-assertion */\n                results.push(entry);\n            }\n        });\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '11',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('12', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const DROP_TYPES_ORDER = ['bc', 'hc', 'item', 'zel', 'karma'];\n        const typedEffect = effect;\n        const results = [];\n        const dropRates = {\n            bc: '0',\n            hc: '0',\n            item: '0',\n            zel: '0',\n            karma: '0',\n        };\n        let requireHpAbove = false;\n        let hpThreshold = 0;\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            let rawRequireHpAboveFlag;\n            let rawHpThreshold;\n            [dropRates.bc, dropRates.hc, dropRates.item, dropRates.zel, dropRates.karma, rawHpThreshold, rawRequireHpAboveFlag, ...extraParams] = splitEffectParams(typedEffect);\n            requireHpAbove = rawRequireHpAboveFlag === '1';\n            hpThreshold = parseNumberOrDefault(rawHpThreshold);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 7, injectionContext);\n        }\n        else {\n            DROP_TYPES_ORDER.forEach((dropType) => {\n                dropRates[dropType] = typedEffect[`${dropType} drop rate% buff`];\n            });\n            if ('hp above % buff requirement' in typedEffect) {\n                hpThreshold = parseNumberOrDefault(typedEffect['hp above % buff requirement']);\n                requireHpAbove = true;\n            }\n            else {\n                hpThreshold = parseNumberOrDefault(typedEffect['hp below % buff requirement']);\n                requireHpAbove = false;\n            }\n        }\n        DROP_TYPES_ORDER.forEach((dropType) => {\n            const value = parseNumberOrDefault(dropRates[dropType]);\n            if (value !== 0) {\n                const entry = Object.assign({ id: `passive:12:${dropType}`, originalId: '12', sources,\n                    value, conditions: Object.assign({}, conditionInfo) }, targetData);\n                // disabling no-non-null-assertion rule because `conditions` property is defined above\n                /* eslint-disable @typescript-eslint/no-non-null-assertion */\n                if (requireHpAbove) {\n                    entry.conditions.hpGreaterThanOrEqualTo = hpThreshold;\n                }\n                else {\n                    entry.conditions.hpLessThanOrEqualTo = hpThreshold;\n                }\n                /* eslint-enable @typescript-eslint/no-non-null-assertion */\n                results.push(entry);\n            }\n        });\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '12',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('13', (effect, context, injectionContext) => {\n        return parsePassiveWithNumericalValueRangeAndChance({\n            effect,\n            context,\n            injectionContext,\n            originalId: '13',\n            effectKeyLow: 'bc fill on enemy defeat low',\n            effectKeyHigh: 'bc fill on enemy defeat high',\n            effectKeyChance: 'bc fill on enemy defeat%',\n            buffKeyLow: 'fillLow',\n            buffKeyHigh: 'fillHigh',\n            parseParamValue: (rawValue) => parseNumberOrDefault(rawValue) / 100,\n            generateBaseConditions: () => ({ onEnemyDefeat: true }),\n            buffId: 'passive:13',\n        });\n    });\n    map.set('14', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        let damageReduction, chance;\n        let unknownParams;\n        if (typedEffect.params) {\n            const [rawReduction, rawChance, ...extraParams] = splitEffectParams(typedEffect);\n            damageReduction = parseNumberOrDefault(rawReduction);\n            chance = parseNumberOrDefault(rawChance);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n        }\n        else {\n            damageReduction = parseNumberOrDefault(typedEffect['dmg reduction%']);\n            chance = parseNumberOrDefault(typedEffect['dmg reduction chance%']);\n        }\n        const results = [Object.assign({ id: 'passive:14', originalId: '14', sources, value: {\n                    value: damageReduction,\n                    chance,\n                }, conditions: Object.assign({}, conditionInfo) }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '14',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('15', (effect, context, injectionContext) => {\n        return parsePassiveWithNumericalValueRangeAndChance({\n            effect,\n            context,\n            injectionContext,\n            originalId: '15',\n            effectKeyLow: 'hp% recover on enemy defeat low',\n            effectKeyHigh: 'hp% recover on enemy defeat high',\n            effectKeyChance: 'hp% recover on enemy defeat chance%',\n            buffKeyLow: 'healLow',\n            buffKeyHigh: 'healHigh',\n            generateBaseConditions: () => ({ onEnemyDefeat: true }),\n            defaultEffectChance: 100,\n            buffId: 'passive:15',\n        });\n    });\n    map.set('16', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        let healLow, healHigh;\n        let unknownParams;\n        if (typedEffect.params) {\n            const [rawHealLow, rawHealHigh, ...extraParams] = splitEffectParams(typedEffect);\n            healLow = parseNumberOrDefault(rawHealLow);\n            healHigh = parseNumberOrDefault(rawHealHigh);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n        }\n        else {\n            healLow = parseNumberOrDefault(typedEffect['hp% recover on battle win low']);\n            healHigh = parseNumberOrDefault(typedEffect['hp% recover on battle win high']);\n        }\n        const results = [Object.assign({ id: 'passive:16', originalId: '16', sources, value: {\n                    healLow,\n                    healHigh,\n                }, conditions: Object.assign(Object.assign({}, conditionInfo), { onBattleWin: true }) }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '16',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('17', (effect, context, injectionContext) => {\n        return parsePassiveWithNumericalValueRangeAndChance({\n            effect,\n            context,\n            injectionContext,\n            originalId: '17',\n            effectKeyLow: 'hp drain% low',\n            effectKeyHigh: 'hp drain% high',\n            effectKeyChance: 'hp drain chance%',\n            buffKeyLow: 'drainHealLow',\n            buffKeyHigh: 'drainHealHigh',\n            buffId: 'passive:17',\n        });\n    });\n    map.set('19', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const DROP_TYPES_ORDER = ['bc', 'hc', 'item', 'zel', 'karma'];\n        const typedEffect = effect;\n        const results = [];\n        const dropRates = {\n            bc: '0',\n            hc: '0',\n            item: '0',\n            zel: '0',\n            karma: '0',\n        };\n        let unknownParams;\n        if (typedEffect.params) {\n            let extraParams;\n            [dropRates.bc, dropRates.hc, dropRates.item, dropRates.zel, dropRates.karma, ...extraParams] = splitEffectParams(typedEffect);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n        }\n        else {\n            DROP_TYPES_ORDER.forEach((dropType) => {\n                dropRates[dropType] = typedEffect[`${dropType} drop rate% buff`];\n            });\n        }\n        DROP_TYPES_ORDER.forEach((dropType) => {\n            const value = parseNumberOrDefault(dropRates[dropType]);\n            if (value !== 0) {\n                results.push(Object.assign({ id: `passive:19:${dropType}`, originalId: '19', sources,\n                    value, conditions: Object.assign({}, conditionInfo) }, targetData));\n            }\n        });\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '19',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('20', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const inflictedAilments = [];\n        const typedEffect = effect;\n        let unknownParams;\n        if (typedEffect.params) {\n            let params = splitEffectParams(typedEffect);\n            if (params.length % 2 !== 0 && params[params.length - 1] !== '0') {\n                unknownParams = createUnknownParamsEntryFromExtraParams(params.slice(-1), params.length - 1, injectionContext);\n                params = params.slice(0, params.length - 1);\n            }\n            const numParams = params.length;\n            for (let index = 0; index < numParams; index += 2) {\n                const ailmentValue = params[index];\n                const chance = parseNumberOrDefault(params[index + 1]);\n                if (ailmentValue !== '0' || chance !== 0) {\n                    const ailmentType = AILMENT_MAPPING[ailmentValue] || Ailment.Unknown;\n                    inflictedAilments.push({\n                        ailment: ailmentType,\n                        chance,\n                    });\n                }\n            }\n        }\n        else {\n            Object.values(AILMENT_MAPPING).forEach((ailment) => {\n                let effectKey;\n                if (ailment === Ailment.Weak) {\n                    effectKey = 'weaken%';\n                }\n                else if (ailment === Ailment.AttackReduction || ailment === Ailment.DefenseReduction || ailment === Ailment.RecoveryReduction) {\n                    effectKey = ailment;\n                }\n                else {\n                    effectKey = `${ailment}%`;\n                }\n                if (effectKey in effect) {\n                    inflictedAilments.push({\n                        ailment,\n                        chance: parseNumberOrDefault(typedEffect[effectKey]),\n                    });\n                }\n            });\n        }\n        const results = inflictedAilments.map(({ ailment, chance }) => (Object.assign({ id: `passive:20:${ailment}`, originalId: '20', sources, value: chance, conditions: Object.assign({}, conditionInfo) }, targetData)));\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '20',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('21', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        const results = [];\n        const stats = {\n            atk: '0',\n            def: '0',\n            rec: '0',\n            crit: '0',\n        };\n        let turnDuration = 0;\n        let unknownParams;\n        if (typedEffect.params) {\n            let rawDuration, extraParams;\n            [stats.atk, stats.def, stats.rec, stats.crit, rawDuration, ...extraParams] = splitEffectParams(typedEffect);\n            turnDuration = parseNumberOrDefault(rawDuration);\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 5, injectionContext);\n        }\n        else {\n            stats.atk = typedEffect['first x turns atk% (1)'];\n            stats.def = typedEffect['first x turns def% (3)'];\n            stats.rec = typedEffect['first x turns rec% (5)'];\n            stats.crit = typedEffect['first x turns crit% (7)'];\n            turnDuration = parseNumberOrDefault(typedEffect['first x turns']);\n        }\n        STATS_ORDER.forEach((stat) => {\n            const value = parseNumberOrDefault(stats[stat]);\n            if (stat !== 'hp' && value !== 0) {\n                const entry = Object.assign({ id: `passive:21:${stat}`, originalId: '21', sources,\n                    value, duration: turnDuration, conditions: Object.assign({}, conditionInfo) }, targetData);\n                results.push(entry);\n            }\n        });\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '21',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('23', (effect, context, injectionContext) => {\n        const { conditionInfo, targetData, sources } = retrieveCommonInfoForEffects(effect, context, injectionContext);\n        const typedEffect = effect;\n        let fillLow, fillHigh;\n        let unknownParams;\n        if (typedEffect.params) {\n            const [rawFillLow, rawFillHigh, ...extraParams] = splitEffectParams(typedEffect);\n            fillLow = parseNumberOrDefault(rawFillLow) / 100;\n            fillHigh = parseNumberOrDefault(rawFillHigh) / 100;\n            unknownParams = createUnknownParamsEntryFromExtraParams(extraParams, 2, injectionContext);\n        }\n        else {\n            fillLow = parseNumberOrDefault(typedEffect['battle end bc fill low']);\n            fillHigh = parseNumberOrDefault(typedEffect['battle end bc fill high']);\n        }\n        const results = [Object.assign({ id: 'passive:23', originalId: '23', sources, value: {\n                    fillLow,\n                    fillHigh,\n                }, conditions: Object.assign(Object.assign({}, conditionInfo), { onBattleWin: true }) }, targetData)];\n        if (unknownParams) {\n            results.push(createUnknownParamsEntry(unknownParams, {\n                originalId: '23',\n                sources,\n                targetData,\n                conditionInfo,\n            }));\n        }\n        return results;\n    });\n    map.set('24', (effect, context, injectionContext) => {\n        return parsePassiveWithNumericalValueRangeAndChance({\n            effect,\n            context,\n            injectionContext,\n            originalId: '24',\n            effectKeyLow: 'dmg% to hp when attacked low',\n            effectKeyHigh: 'dmg% to hp when attacked high',\n            effectKeyChance: 'dmg% to hp when attacked chance%',\n            buffKeyLow: 'healLow',\n            buffKeyHigh: 'healHigh',\n            generateBaseConditions: () => ({ whenAttacked: true }),\n            buffId: 'passive:24',\n        });\n    });\n    map.set('25', (effect, context, injectionContext) => {\n        return parsePassiveWithNumericalValueRangeAndChance({\n            effect,\n            context,\n            injectionContext,\n            originalId: '25',\n            effectKeyLow: 'bc fill when attacked low',\n            effectKeyHigh: 'bc fill when attacked high',\n            effectKeyChance: 'bc fill when attacked%',\n            buffKeyLow: 'fillLow',\n            buffKeyHigh: 'fillHigh',\n            parseParamValue: (rawValue) => parseNumberOrDefault(rawValue) / 100,\n            generateBaseConditions: () => ({ whenAttacked: true }),\n            buffId: 'passive:25',\n        });\n    });\n    map.set('26', (effect, context, injectionContext) => {\n        return parsePassiveWithNumericalValueRangeAndChance({\n            effect,\n            context,\n            injectionContext,\n            originalId: '26',\n            effectKeyLow: 'dmg% reflect low',\n            effectKeyHigh: 'dmg% reflect high',\n            effectKeyChance: 'dmg% reflect chance%',\n            buffKeyLow: 'damageReflectLow',\n            buffKeyHigh: 'damageReflectHigh',\n            generateBaseConditions: () => ({ whenAttacked: true }),\n            buffId: 'passive:26',\n        });\n    });\n    map.set('27', (effect, context, injectionContext) => {\n        return parsePassiveWithSingleNumericalParameter({\n            effect,\n            context,\n            injectionContext,\n            effectKey: 'target% chance',\n            buffId: 'passive:27',\n            originalId: '27',\n        });\n    });\n}\n","import { BuffId, UnitStat, BuffStackType, IconId, } from './buff-types';\nimport { TargetArea } from '../../datamine-types';\nexport const BUFF_METADATA = Object.freeze(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ 'UNKNOWN_PASSIVE_EFFECT_ID': {\n        id: BuffId.UNKNOWN_PASSIVE_EFFECT_ID,\n        name: 'Unknown Passive Effect',\n        stackType: BuffStackType.Unknown,\n        icons: () => [IconId.UNKNOWN],\n    }, 'UNKNOWN_PASSIVE_BUFF_PARAMS': {\n        id: BuffId.UNKNOWN_PASSIVE_BUFF_PARAMS,\n        name: 'Unknown Passive Buff Parameters',\n        stackType: BuffStackType.Unknown,\n        icons: () => [IconId.UNKNOWN],\n    }, 'TURN_DURATION_MODIFICATION': {\n        id: BuffId.TURN_DURATION_MODIFICATION,\n        name: 'Passive Turn Duration Modification',\n        stat: UnitStat.turnDurationModification,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [\n            (buff && buff.value &&\n                buff.value.duration &&\n                buff.value.duration < 0) ?\n                IconId.TURN_DURATION_DOWN : IconId.TURN_DURATION_UP\n        ],\n    }, 'passive:1:hp': {\n        id: BuffId['passive:1:hp'],\n        name: 'Passive HP Boost',\n        stat: UnitStat.hp,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPDOWN : IconId.BUFF_HPUP],\n    }, 'passive:1:atk': {\n        id: BuffId['passive:1:atk'],\n        name: 'Passive Attack Boost',\n        stat: UnitStat.atk,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_ATKDOWN : IconId.BUFF_ATKUP],\n    }, 'passive:1:def': {\n        id: BuffId['passive:1:def'],\n        name: 'Passive Defense Boost',\n        stat: UnitStat.def,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_DEFDOWN : IconId.BUFF_DEFUP],\n    }, 'passive:1:rec': {\n        id: BuffId['passive:1:rec'],\n        name: 'Passive Recovery Boost',\n        stat: UnitStat.rec,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_RECDOWN : IconId.BUFF_RECUP],\n    }, 'passive:1:crit': {\n        id: BuffId['passive:1:crit'],\n        name: 'Passive Critical Hit Rate Boost',\n        stat: UnitStat.crit,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_CRTRATEDOWN : IconId.BUFF_CRTRATEUP],\n    } }, (() => {\n    const createIconGetterForStat = (stat) => {\n        return (buff) => {\n            let element = '';\n            let polarity = 'UP';\n            if (buff) {\n                if (buff.value && buff.value < 0) {\n                    polarity = 'DOWN';\n                }\n                if (buff.conditions && buff.conditions.targetElements) {\n                    element = buff.conditions.targetElements[0];\n                }\n            }\n            if (typeof element !== 'string') {\n                element = '';\n            }\n            let iconKey = `BUFF_${element.toUpperCase()}${stat}${polarity}`;\n            if (!element || !(iconKey in IconId)) {\n                iconKey = `BUFF_ELEMENT${stat}${polarity}`;\n            }\n            return [IconId[iconKey]];\n        };\n    };\n    return {\n        'passive:2:hp': {\n            id: BuffId['passive:2:hp'],\n            name: 'Passive Elemental HP Boost',\n            stat: UnitStat.hp,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('HP'),\n        },\n        'passive:2:atk': {\n            id: BuffId['passive:2:atk'],\n            name: 'Passive Elemental Attack Boost',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('ATK'),\n        },\n        'passive:2:def': {\n            id: BuffId['passive:2:def'],\n            name: 'Passive Elemental Defense Boost',\n            stat: UnitStat.def,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('DEF'),\n        },\n        'passive:2:rec': {\n            id: BuffId['passive:2:rec'],\n            name: 'Passive Elemental Recovery Boost',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('REC'),\n        },\n        'passive:2:crit': {\n            id: BuffId['passive:2:crit'],\n            name: 'Passive Elemental Critical Hit Rate Boost',\n            stat: UnitStat.crit,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('CRTRATE'),\n        },\n    };\n})()), (() => {\n    const createIconGetterForStat = (stat) => {\n        return (buff) => {\n            let unitType = '';\n            let polarity = 'UP';\n            if (buff) {\n                if (buff.value && buff.value < 0) {\n                    polarity = 'DOWN';\n                }\n                if (buff.conditions) {\n                    unitType = buff.conditions.targetUnitType || '';\n                }\n            }\n            if (typeof unitType !== 'string' || !unitType) {\n                unitType = 'unknown';\n            }\n            let iconKey = `BUFF_${unitType.toUpperCase()}${stat}${polarity}`;\n            if (!unitType || !(iconKey in IconId)) {\n                iconKey = `BUFF_UNITTYPE${stat}${polarity}`;\n            }\n            return [IconId[iconKey]];\n        };\n    };\n    return {\n        'passive:3:hp': {\n            id: BuffId['passive:3:hp'],\n            name: 'Passive Type-Based HP Boost',\n            stat: UnitStat.hp,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('HP'),\n        },\n        'passive:3:atk': {\n            id: BuffId['passive:3:atk'],\n            name: 'Passive Type-Based Attack Boost',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('ATK'),\n        },\n        'passive:3:def': {\n            id: BuffId['passive:3:def'],\n            name: 'Passive Type-Based Defense Boost',\n            stat: UnitStat.def,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('DEF'),\n        },\n        'passive:3:rec': {\n            id: BuffId['passive:3:rec'],\n            name: 'Passive Type-Based Recovery Boost',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('REC'),\n        },\n        'passive:3:crit': {\n            id: BuffId['passive:3:crit'],\n            name: 'Passive Type-Based Critical Hit Rate Boost',\n            stat: UnitStat.crit,\n            stackType: BuffStackType.Passive,\n            icons: createIconGetterForStat('CRTRATE'),\n        },\n    };\n})()), { 'passive:4:poison': {\n        id: BuffId['passive:4:poison'],\n        name: 'Passive Poison Resist',\n        stat: UnitStat.poisonResist,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_POISONBLK],\n    }, 'passive:4:weak': {\n        id: BuffId['passive:4:weak'],\n        name: 'Passive Weak Resist',\n        stat: UnitStat.weakResist,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_WEAKBLK],\n    }, 'passive:4:sick': {\n        id: BuffId['passive:4:sick'],\n        name: 'Passive Sick Resist',\n        stat: UnitStat.sickResist,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_SICKBLK],\n    }, 'passive:4:injury': {\n        id: BuffId['passive:4:injury'],\n        name: 'Passive Injury Resist',\n        stat: UnitStat.injuryResist,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_INJURYBLK],\n    }, 'passive:4:curse': {\n        id: BuffId['passive:4:curse'],\n        name: 'Passive Curse Resist',\n        stat: UnitStat.curseResist,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_CURSEBLK],\n    }, 'passive:4:paralysis': {\n        id: BuffId['passive:4:paralysis'],\n        name: 'Passive Paralysis Resist',\n        stat: UnitStat.poisonResist,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_PARALYSISBLK],\n    }, 'passive:5:fire': {\n        id: BuffId['passive:5:fire'],\n        name: 'Passive Fire Damage Reduction',\n        stat: UnitStat.fireMitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_FIREDMGDOWN],\n    }, 'passive:5:water': {\n        id: BuffId['passive:5:water'],\n        name: 'Passive Water Damage Reduction',\n        stat: UnitStat.waterMitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_WATERDMGDOWN],\n    }, 'passive:5:earth': {\n        id: BuffId['passive:5:earth'],\n        name: 'Passive Earth Damage Reduction',\n        stat: UnitStat.earthMitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_EARTHDMGDOWN],\n    }, 'passive:5:thunder': {\n        id: BuffId['passive:5:thunder'],\n        name: 'Passive Thunder Damage Reduction',\n        stat: UnitStat.thunderMitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_THUNDERDMGDOWN],\n    }, 'passive:5:light': {\n        id: BuffId['passive:5:light'],\n        name: 'Passive Light Damage Reduction',\n        stat: UnitStat.lightMitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_LIGHTDMGDOWN],\n    }, 'passive:5:dark': {\n        id: BuffId['passive:5:dark'],\n        name: 'Passive Dark Damage Reduction',\n        stat: UnitStat.darkMitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_DARKDMGDOWN],\n    }, 'passive:5:unknown': {\n        id: BuffId['passive:5:unknown'],\n        name: 'Passive Elemental Damage Reduction (Unspecified Element)',\n        stat: UnitStat.mitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ELEMENTDMGDOWN],\n    }, 'passive:8': {\n        id: BuffId['passive:8'],\n        name: 'Passive Damage Reduction',\n        stat: UnitStat.mitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_DAMAGECUT],\n    }, 'passive:9': {\n        id: BuffId['passive:9'],\n        name: 'Passive Gradual BB Gauge Fill',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_BBREC],\n    }, 'passive:10': {\n        id: BuffId['passive:10'],\n        name: 'Passive HC Efficacy',\n        stat: UnitStat.hcEfficacy,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_HCREC],\n    }, 'passive:11:atk': {\n        id: BuffId['passive:11:atk'],\n        name: 'Passive HP-Conditional Attack Boost',\n        stat: UnitStat.atk,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHATKDOWN : IconId.BUFF_HPTHRESHATKUP],\n    }, 'passive:11:def': {\n        id: BuffId['passive:11:def'],\n        name: 'Passive HP-Conditional Defense Boost',\n        stat: UnitStat.def,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHDEFDOWN : IconId.BUFF_HPTHRESHDEFUP],\n    }, 'passive:11:rec': {\n        id: BuffId['passive:11:rec'],\n        name: 'Passive HP-Conditional Recovery Boost',\n        stat: UnitStat.rec,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHRECDOWN : IconId.BUFF_HPTHRESHRECUP],\n    }, 'passive:11:crit': {\n        id: BuffId['passive:11:crit'],\n        name: 'Passive HP-Conditional Critical Hit Rate Boost',\n        stat: UnitStat.crit,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_HPTHRESHCRTRATEDOWN : IconId.BUFF_HPTHRESHCRTRATEUP],\n    }, 'passive:12:bc': {\n        id: BuffId['passive:12:bc'],\n        name: 'Passive Battle Crystal Drop Rate Boost',\n        stat: UnitStat.bcDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_BCDOWN : IconId.BUFF_BCDROP],\n    }, 'passive:12:hc': {\n        id: BuffId['passive:12:hc'],\n        name: 'Passive Heart Crystal Drop Rate Boost',\n        stat: UnitStat.hcDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_HCDOWN : IconId.BUFF_HCDROP],\n    }, 'passive:12:item': {\n        id: BuffId['passive:12:item'],\n        name: 'Passive Item Drop Rate Boost',\n        stat: UnitStat.itemDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ITEMDOWN : IconId.BUFF_ITEMDROP],\n    }, 'passive:12:zel': {\n        id: BuffId['passive:12:zel'],\n        name: 'Passive Zel Drop Rate Boost',\n        stat: UnitStat.zelDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ZELDOWN : IconId.BUFF_ZELDROP],\n    }, 'passive:12:karma': {\n        id: BuffId['passive:12:karma'],\n        name: 'Passive Karma Drop Rate Boost',\n        stat: UnitStat.karmaDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_KARMADOWN : IconId.BUFF_KARMADROP],\n    }, 'passive:13': {\n        id: BuffId['passive:13'],\n        name: 'Passive BB Gauge Fill on Enemy Defeat',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_BBREC],\n    }, 'passive:14': {\n        id: BuffId['passive:14'],\n        name: 'Passive Damage Reduction (Chance)',\n        stat: UnitStat.mitigation,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_DAMAGECUT],\n    }, 'passive:15': {\n        id: BuffId['passive:15'],\n        name: 'Passive Heal on Enemy Defeat',\n        stat: UnitStat.hpRecovery,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_HPREC],\n    }, 'passive:16': {\n        id: BuffId['passive:16'],\n        name: 'Passive Heal on Battle Win',\n        stat: UnitStat.hpRecovery,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_HPREC],\n    }, 'passive:17': {\n        id: BuffId['passive:17'],\n        name: 'HP Absorption',\n        stat: UnitStat.hpRecovery,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_HPABS],\n    }, 'passive:19:bc': {\n        id: BuffId['passive:19:bc'],\n        name: 'Passive Battle Crystal Drop Rate Boost',\n        stat: UnitStat.bcDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_BCDOWN : IconId.BUFF_BCDROP],\n    }, 'passive:19:hc': {\n        id: BuffId['passive:19:hc'],\n        name: 'Passive Heart Crystal Drop Rate Boost',\n        stat: UnitStat.hcDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_HCDOWN : IconId.BUFF_HCDROP],\n    }, 'passive:19:item': {\n        id: BuffId['passive:19:item'],\n        name: 'Passive Item Drop Rate Boost',\n        stat: UnitStat.itemDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ITEMDOWN : IconId.BUFF_ITEMDROP],\n    }, 'passive:19:zel': {\n        id: BuffId['passive:19:zel'],\n        name: 'Passive Zel Drop Rate Boost',\n        stat: UnitStat.zelDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ZELDOWN : IconId.BUFF_ZELDROP],\n    }, 'passive:19:karma': {\n        id: BuffId['passive:19:karma'],\n        name: 'Passive Karma Drop Rate Boost',\n        stat: UnitStat.karmaDropRate,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_KARMADOWN : IconId.BUFF_KARMADROP],\n    }, 'passive:20:poison': {\n        id: BuffId['passive:20:poison'],\n        name: 'Passive Poison Infliction',\n        stat: UnitStat.poisonInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDPOISON],\n    }, 'passive:20:weak': {\n        id: BuffId['passive:20:weak'],\n        name: 'Passive Weak Infliction',\n        stat: UnitStat.weakInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDWEAK],\n    }, 'passive:20:sick': {\n        id: BuffId['passive:20:sick'],\n        name: 'Passive Sick Infliction',\n        stat: UnitStat.sickInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDSICK],\n    }, 'passive:20:injury': {\n        id: BuffId['passive:20:injury'],\n        name: 'Passive Injury Infliction',\n        stat: UnitStat.injuryInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDINJURY],\n    }, 'passive:20:curse': {\n        id: BuffId['passive:20:curse'],\n        name: 'Passive Curse Infliction',\n        stat: UnitStat.curseInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDCURSE],\n    }, 'passive:20:paralysis': {\n        id: BuffId['passive:20:paralysis'],\n        name: 'Passive Paralysis Infliction',\n        stat: UnitStat.poisonInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDPARA],\n    }, 'passive:20:atk down': {\n        id: BuffId['passive:20:atk down'],\n        name: 'Passive Attack Reduction Infliction',\n        stat: UnitStat.atkDownInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDATKDOWN],\n    }, 'passive:20:def down': {\n        id: BuffId['passive:20:def down'],\n        name: 'Passive Defense Reduction Infliction',\n        stat: UnitStat.defDownInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDDEFDOWN],\n    }, 'passive:20:rec down': {\n        id: BuffId['passive:20:rec down'],\n        name: 'Passive Recovery Reduction Infliction',\n        stat: UnitStat.recDownInflict,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_ADDRECDOWN],\n    }, 'passive:20:unknown': {\n        id: BuffId['passive:20:unknown'],\n        name: 'Passive Unknown Ailment Infliction',\n        stackType: BuffStackType.Unknown,\n        icons: () => [IconId.BUFF_ADDAILMENT],\n    }, 'passive:21:atk': {\n        id: BuffId['passive:21:atk'],\n        name: 'Attack Boost for X Turns',\n        stat: UnitStat.atk,\n        stackType: BuffStackType.ConditionalTimed,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_ATKDOWN : IconId.BUFF_ATKUP],\n    }, 'passive:21:def': {\n        id: BuffId['passive:21:def'],\n        name: 'Defense Boost for X Turns',\n        stat: UnitStat.def,\n        stackType: BuffStackType.ConditionalTimed,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_DEFDOWN : IconId.BUFF_DEFUP],\n    }, 'passive:21:rec': {\n        id: BuffId['passive:21:rec'],\n        name: 'Recovery Boost for X Turns',\n        stat: UnitStat.rec,\n        stackType: BuffStackType.ConditionalTimed,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_RECDOWN : IconId.BUFF_RECUP],\n    }, 'passive:21:crit': {\n        id: BuffId['passive:21:crit'],\n        name: 'Critical Hit Rate Boost for X Turns',\n        stat: UnitStat.crit,\n        stackType: BuffStackType.ConditionalTimed,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_CRTRATEDOWN : IconId.BUFF_CRTRATEUP],\n    }, 'passive:23': {\n        id: BuffId['passive:23'],\n        name: 'Passive BC Fill on Battle Win',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_BBREC],\n    }, 'passive:24': {\n        id: BuffId['passive:24'],\n        name: 'Passive Heal when Attacked',\n        stat: UnitStat.hpRecovery,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_BEENATK_HPREC],\n    }, 'passive:25': {\n        id: BuffId['passive:25'],\n        name: 'Passive BC Fill when Attacked',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_DAMAGEBB],\n    }, 'passive:26': {\n        id: BuffId['passive:26'],\n        name: 'Passive Damage Counter',\n        stat: UnitStat.damageReflect,\n        stackType: BuffStackType.Passive,\n        icons: () => [IconId.BUFF_COUNTERDAMAGE],\n    }, 'passive:27': {\n        id: BuffId['passive:27'],\n        name: 'Passive Target Chance Modification',\n        stat: UnitStat.targetingModification,\n        stackType: BuffStackType.Passive,\n        icons: (buff) => [(buff && buff.value && buff.value < 0) ? IconId.BUFF_REPENEATT : IconId.BUFF_GETENEATT],\n    }, 'UNKNOWN_PROC_EFFECT_ID': {\n        id: BuffId.UNKNOWN_PROC_EFFECT_ID,\n        name: 'Unknown Proc Effect',\n        stackType: BuffStackType.Unknown,\n        icons: () => [IconId.UNKNOWN],\n    }, 'UNKNOWN_PROC_BUFF_PARAMS': {\n        id: BuffId.UNKNOWN_PROC_BUFF_PARAMS,\n        name: 'Unknown Proc Buff Parameters',\n        stackType: BuffStackType.Unknown,\n        icons: () => [IconId.UNKNOWN],\n    }, 'proc:1': {\n        id: BuffId['proc:1'],\n        name: 'Regular Damage',\n        stackType: BuffStackType.Attack,\n        icons: (buff) => [(buff && buff.targetArea === TargetArea.Single) ? IconId.ATK_ST : IconId.ATK_AOE],\n    }, 'proc:2': {\n        id: BuffId['proc:2'],\n        name: 'Burst Heal',\n        stat: UnitStat.hpRecovery,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_HPREC],\n    }, 'proc:3': {\n        id: BuffId['proc:3'],\n        name: 'Active Gradual Heal',\n        stat: UnitStat.hpRecovery,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_HPREC],\n    }, 'proc:4:flat': {\n        id: BuffId['proc:4:flat'],\n        name: 'Burst BB Gauge Fill (Flat Amount)',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_BBREC],\n    }, 'proc:4:percent': {\n        id: BuffId['proc:4:percent'],\n        name: 'Burst BB Gauge Fill (Percentage)',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_BBREC],\n    } }), (() => {\n    const createIconGetterForStat = (stat) => {\n        return (buff) => {\n            let element = '';\n            let hasElement = false;\n            let polarity = 'UP';\n            if (buff) {\n                if (buff.value && buff.value < 0) {\n                    polarity = 'DOWN';\n                }\n                if (buff.conditions && buff.conditions.targetElements) {\n                    element = buff.conditions.targetElements[0];\n                    hasElement = true;\n                }\n            }\n            if (typeof element !== 'string') {\n                element = '';\n            }\n            let iconKey = `BUFF_${element.toUpperCase()}${stat}${polarity}`;\n            if (!element || !(iconKey in IconId)) {\n                iconKey = `BUFF_${hasElement ? 'ELEMENT' : ''}${stat}${polarity}`;\n            }\n            return [IconId[iconKey]];\n        };\n    };\n    return {\n        'proc:5:atk': {\n            id: BuffId['proc:5:atk'],\n            name: 'Active Regular/Elemental Attack Boost',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.Active,\n            icons: createIconGetterForStat('ATK'),\n        },\n        'proc:5:def': {\n            id: BuffId['proc:5:def'],\n            name: 'Active Regular/Elemental Defense Boost',\n            stat: UnitStat.def,\n            stackType: BuffStackType.Active,\n            icons: createIconGetterForStat('DEF'),\n        },\n        'proc:5:rec': {\n            id: BuffId['proc:5:rec'],\n            name: 'Active Regular/Elemental Recovery Boost',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.Active,\n            icons: createIconGetterForStat('REC'),\n        },\n        'proc:5:crit': {\n            id: BuffId['proc:5:crit'],\n            name: 'Active Regular/Elemental Critical Hit Rate Boost',\n            stat: UnitStat.crit,\n            stackType: BuffStackType.Active,\n            icons: createIconGetterForStat('CRTRATE'),\n        },\n    };\n})()), { 'proc:6:bc': {\n        id: BuffId['proc:6:bc'],\n        name: 'Active Battle Crystal Drop Rate Boost',\n        stat: UnitStat.bcDropRate,\n        stackType: BuffStackType.Active,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_BCDOWN : IconId.BUFF_BCDROP],\n    }, 'proc:6:hc': {\n        id: BuffId['proc:6:hc'],\n        name: 'Active Heart Crystal Drop Rate Boost',\n        stat: UnitStat.hcDropRate,\n        stackType: BuffStackType.Active,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_HCDOWN : IconId.BUFF_HCDROP],\n    }, 'proc:6:item': {\n        id: BuffId['proc:6:item'],\n        name: 'Active Item Drop Rate Boost',\n        stat: UnitStat.itemDropRate,\n        stackType: BuffStackType.Active,\n        icons: (buff) => [buff && buff.value && buff.value < 0 ? IconId.BUFF_ITEMDOWN : IconId.BUFF_ITEMDROP],\n    }, 'proc:7': {\n        id: BuffId['proc:7'],\n        name: 'Guaranteed KO Resistance',\n        stat: UnitStat.koResistance,\n        stackType: BuffStackType.Singleton,\n        icons: () => [IconId.BUFF_KOBLK],\n    }, 'proc:8:flat': {\n        id: BuffId['proc:8:flat'],\n        name: 'Max HP Boost (Flat Amount)',\n        stat: UnitStat.hp,\n        stackType: BuffStackType.Singleton,\n        icons: () => [IconId.BUFF_HPUP],\n    }, 'proc:8:percent': {\n        id: BuffId['proc:8:percent'],\n        name: 'Max HP Boost (Percentage)',\n        stat: UnitStat.hp,\n        stackType: BuffStackType.Singleton,\n        icons: () => [IconId.BUFF_HPUP],\n    } }), (() => {\n    const createIconGetterForStat = (stat) => {\n        return (buff) => {\n            let element = '';\n            let hasElement = false;\n            let polarity = 'DOWN'; // default to down since these are reduction buffs\n            if (buff) {\n                if (buff.value && buff.value > 0) {\n                    polarity = 'UP';\n                }\n                if (buff.conditions && buff.conditions.targetElements) {\n                    element = buff.conditions.targetElements[0];\n                    hasElement = true;\n                }\n            }\n            if (typeof element !== 'string') {\n                element = '';\n            }\n            let iconKey = `BUFF_${element.toUpperCase()}${stat}${polarity}`;\n            if (!element || !(iconKey in IconId)) {\n                iconKey = `BUFF_${hasElement ? 'ELEMENT' : ''}${stat}${polarity}`;\n            }\n            return [IconId[iconKey]];\n        };\n    };\n    return {\n        'proc:9:atk': {\n            id: BuffId['proc:9:atk'],\n            name: 'Active Regular/Elemental Attack Reduction',\n            stat: UnitStat.atk,\n            stackType: BuffStackType.Active,\n            icons: createIconGetterForStat('ATK'),\n        },\n        'proc:9:def': {\n            id: BuffId['proc:9:def'],\n            name: 'Active Regular/Elemental Defense Reduction',\n            stat: UnitStat.def,\n            stackType: BuffStackType.Active,\n            icons: createIconGetterForStat('DEF'),\n        },\n        'proc:9:rec': {\n            id: BuffId['proc:9:rec'],\n            name: 'Active Regular/Elemental Recovery Reduction',\n            stat: UnitStat.rec,\n            stackType: BuffStackType.Active,\n            icons: createIconGetterForStat('REC'),\n        },\n        'proc:9:unknown': {\n            id: BuffId['proc:9:unknown'],\n            name: 'Active Regular/Elemental Unknown Stat Reduction',\n            stackType: BuffStackType.Active,\n            icons: () => [IconId.UNKNOWN],\n        },\n    };\n})()), { 'proc:10:poison': {\n        id: BuffId['proc:10:poison'],\n        name: 'Poison Cleanse',\n        stat: UnitStat.poisonResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_POISONBLK],\n    }, 'proc:10:weak': {\n        id: BuffId['proc:10:weak'],\n        name: 'Weak Cleanse',\n        stat: UnitStat.weakResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_WEAKBLK],\n    }, 'proc:10:sick': {\n        id: BuffId['proc:10:sick'],\n        name: 'Sick Cleanse',\n        stat: UnitStat.sickResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_SICKBLK],\n    }, 'proc:10:injury': {\n        id: BuffId['proc:10:injury'],\n        name: 'Injury Cleanse',\n        stat: UnitStat.injuryResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_INJURYBLK],\n    }, 'proc:10:curse': {\n        id: BuffId['proc:10:curse'],\n        name: 'Curse Cleanse',\n        stat: UnitStat.curseResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_CURSEBLK],\n    }, 'proc:10:paralysis': {\n        id: BuffId['proc:10:paralysis'],\n        name: 'Paralysis Cleanse',\n        stat: UnitStat.poisonResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_PARALYSISBLK],\n    }, 'proc:10:atk down': {\n        id: BuffId['proc:10:atk down'],\n        name: 'Attack Reduction Cleanse',\n        stat: UnitStat.atkDownResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_ATKDOWNBLK],\n    }, 'proc:10:def down': {\n        id: BuffId['proc:10:def down'],\n        name: 'Defense Reduction Cleanse',\n        stat: UnitStat.defDownResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_DEFDOWNBLK],\n    }, 'proc:10:rec down': {\n        id: BuffId['proc:10:rec down'],\n        name: 'Recovery Reduction Cleanse',\n        stat: UnitStat.recDownResist,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_RECDOWNBLK],\n    }, 'proc:10:unknown': {\n        id: BuffId['proc:10:unknown'],\n        name: 'Unknown Ailment Cleanse',\n        stackType: BuffStackType.Unknown,\n        icons: () => [IconId.BUFF_AILMENTBLK],\n    }, 'proc:11:poison': {\n        id: BuffId['proc:11:poison'],\n        name: 'Poison Infliction',\n        stat: UnitStat.poisonInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.DEBUFF_POISON],\n    }, 'proc:11:weak': {\n        id: BuffId['proc:11:weak'],\n        name: 'Weak Infliction',\n        stat: UnitStat.weakInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.DEBUFF_WEAK],\n    }, 'proc:11:sick': {\n        id: BuffId['proc:11:sick'],\n        name: 'Sick Infliction',\n        stat: UnitStat.sickInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.DEBUFF_SICK],\n    }, 'proc:11:injury': {\n        id: BuffId['proc:11:injury'],\n        name: 'Injury Infliction',\n        stat: UnitStat.injuryInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.DEBUFF_INJURY],\n    }, 'proc:11:curse': {\n        id: BuffId['proc:11:curse'],\n        name: 'Curse Infliction',\n        stat: UnitStat.curseInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.DEBUFF_CURSE],\n    }, 'proc:11:paralysis': {\n        id: BuffId['proc:11:paralysis'],\n        name: 'Paralysis Infliction',\n        stat: UnitStat.poisonInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.DEBUFF_PARALYSIS],\n    }, 'proc:11:atk down': {\n        id: BuffId['proc:11:atk down'],\n        name: 'Attack Reduction Infliction',\n        stat: UnitStat.atkDownInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_ATKDOWN],\n    }, 'proc:11:def down': {\n        id: BuffId['proc:11:def down'],\n        name: 'Defense Reduction Infliction',\n        stat: UnitStat.defDownInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_DEFDOWN],\n    }, 'proc:11:rec down': {\n        id: BuffId['proc:11:rec down'],\n        name: 'Recovery Reduction Infliction',\n        stat: UnitStat.recDownInflict,\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_RECDOWN],\n    }, 'proc:11:unknown': {\n        id: BuffId['proc:11:unknown'],\n        name: 'Unknown Ailment Infliction',\n        stackType: BuffStackType.Unknown,\n        icons: () => [IconId.DEBUFF_AILMENT],\n    }, 'proc:12': {\n        id: BuffId['proc:12'],\n        name: 'Instant Revive (Guaranteed)',\n        stackType: BuffStackType.Burst,\n        icons: () => [IconId.BUFF_KOBLK],\n    }, 'proc:13': {\n        id: BuffId['proc:13'],\n        name: 'Random Target Damage',\n        stackType: BuffStackType.Attack,\n        icons: () => [IconId.ATK_RT],\n    }, 'proc:14': {\n        id: BuffId['proc:14'],\n        name: 'Lifesteal Damage',\n        stackType: BuffStackType.Attack,\n        icons: (buff) => [(buff && buff.targetArea === TargetArea.Single) ? IconId.ATK_ST_HPREC : IconId.ATK_AOE_HPREC],\n    }, 'proc:16:fire': {\n        id: BuffId['proc:16:fire'],\n        name: 'Active Fire Damage Reduction',\n        stat: UnitStat.fireMitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_FIREDMGDOWN],\n    }, 'proc:16:water': {\n        id: BuffId['proc:16:water'],\n        name: 'Active Water Damage Reduction',\n        stat: UnitStat.waterMitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_WATERDMGDOWN],\n    }, 'proc:16:earth': {\n        id: BuffId['proc:16:earth'],\n        name: 'Active Earth Damage Reduction',\n        stat: UnitStat.earthMitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_EARTHDMGDOWN],\n    }, 'proc:16:thunder': {\n        id: BuffId['proc:16:thunder'],\n        name: 'Active Thunder Damage Reduction',\n        stat: UnitStat.thunderMitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_THUNDERDMGDOWN],\n    }, 'proc:16:light': {\n        id: BuffId['proc:16:light'],\n        name: 'Active Light Damage Reduction',\n        stat: UnitStat.lightMitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_LIGHTDMGDOWN],\n    }, 'proc:16:dark': {\n        id: BuffId['proc:16:dark'],\n        name: 'Active Dark Damage Reduction',\n        stat: UnitStat.darkMitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_DARKDMGDOWN],\n    }, 'proc:16:all': {\n        id: BuffId['proc:16:all'],\n        name: 'Active Elemental Damage Reduction (All Elements)',\n        stat: UnitStat.mitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_ELEMENTDMGDOWN],\n    }, 'proc:16:unknown': {\n        id: BuffId['proc:16:unknown'],\n        name: 'Active Elemental Damage Reduction (Unspecified Element)',\n        stat: UnitStat.mitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_ELEMENTDMGDOWN],\n    }, 'proc:17:poison': {\n        id: BuffId['proc:17:poison'],\n        name: 'Active Poison Resist',\n        stat: UnitStat.poisonResist,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_POISONBLK],\n    }, 'proc:17:weak': {\n        id: BuffId['proc:17:weak'],\n        name: 'Active Weak Resist',\n        stat: UnitStat.weakResist,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_WEAKBLK],\n    }, 'proc:17:sick': {\n        id: BuffId['proc:17:sick'],\n        name: 'Active Sick Resist',\n        stat: UnitStat.sickResist,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_SICKBLK],\n    }, 'proc:17:injury': {\n        id: BuffId['proc:17:injury'],\n        name: 'Active Injury Resist',\n        stat: UnitStat.injuryResist,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_INJURYBLK],\n    }, 'proc:17:curse': {\n        id: BuffId['proc:17:curse'],\n        name: 'Active Curse Resist',\n        stat: UnitStat.curseResist,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_CURSEBLK],\n    }, 'proc:17:paralysis': {\n        id: BuffId['proc:17:paralysis'],\n        name: 'Active Paralysis Resist',\n        stat: UnitStat.poisonResist,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_PARALYSISBLK],\n    }, 'proc:18': {\n        id: BuffId['proc:18'],\n        name: 'Active Damage Reduction',\n        stat: UnitStat.mitigation,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_DAMAGECUT],\n    }, 'proc:19': {\n        id: BuffId['proc:19'],\n        name: 'Active Gradual BB Gauge Fill',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_BBREC],\n    }, 'proc:20': {\n        id: BuffId['proc:20'],\n        name: 'Active BC Fill when attacked',\n        stat: UnitStat.bbGauge,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_DAMAGEBB],\n    }, 'proc:22': {\n        id: BuffId['proc:22'],\n        name: 'Active Defense Ignore',\n        stat: UnitStat.defenseIgnore,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_IGNOREDEF],\n    }, 'proc:23': {\n        id: BuffId['proc:23'],\n        name: 'Active Spark Damage Boost',\n        stat: UnitStat.sparkDamage,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_SPARKUP],\n    }, 'proc:24:atk': {\n        id: BuffId['proc:24:atk'],\n        name: 'Active Converted Attack Boost',\n        stat: UnitStat.atk,\n        stackType: BuffStackType.Active,\n        icons: (buff) => [(buff && buff.value && buff.value.value && buff.value.value < 0) ? IconId.BUFF_CONVERTATKDOWN : IconId.BUFF_CONVERTATKUP],\n    }, 'proc:24:def': {\n        id: BuffId['proc:24:def'],\n        name: 'Active Converted Defense Boost',\n        stat: UnitStat.def,\n        stackType: BuffStackType.Active,\n        icons: (buff) => [(buff && buff.value && buff.value.value && buff.value.value < 0) ? IconId.BUFF_CONVERTDEFDOWN : IconId.BUFF_CONVERTDEFUP],\n    }, 'proc:24:rec': {\n        id: BuffId['proc:24:rec'],\n        name: 'Active Converted Recovery Boost',\n        stat: UnitStat.rec,\n        stackType: BuffStackType.Active,\n        icons: (buff) => [(buff && buff.value && buff.value.value && buff.value.value < 0) ? IconId.BUFF_CONVERTRECDOWN : IconId.BUFF_CONVERTRECUP],\n    }, 'proc:26': {\n        id: BuffId['proc:26'],\n        name: 'Active Hit Count Boost',\n        stat: UnitStat.hitCountModification,\n        stackType: BuffStackType.Active,\n        icons: () => [IconId.BUFF_HITUP],\n    }, 'proc:27': {\n        id: BuffId['proc:27'],\n        name: 'Proportional Damage',\n        stackType: BuffStackType.Attack,\n        icons: (buff) => [(buff && buff.targetArea === TargetArea.Single) ? IconId.ATK_ST_PROPORTIONAL : IconId.ATK_AOE_PROPORTIONAL],\n    } }));\n","import { BuffId } from './buff-types';\nimport { getProcEffectToBuffMapping } from './proc-effect-mapping';\nimport getEffectId from '../getEffectId';\nimport { KNOWN_PROC_ID } from '../constants';\nimport isProcEffect from '../isProcEffect';\nimport { createSourcesFromContext } from './_helpers';\n/**\n * @description Default function for all effects that cannot be processed.\n * @param effect Effect to convert to `IBuff` format.\n * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n * @returns Converted buff(s) from the given proc effect.\n */\nfunction defaultConversionFunction(effect, context) {\n    const id = (isProcEffect(effect) && getEffectId(effect)) || KNOWN_PROC_ID.Unknown;\n    return [{\n            id: BuffId.UNKNOWN_PROC_EFFECT_ID,\n            originalId: id,\n            effectDelay: effect['effect delay time(ms)/frame'],\n            targetType: effect['target type'],\n            targetArea: effect['target area'],\n            sources: createSourcesFromContext(context),\n        }];\n}\n/**\n * @description Extract the buff(s) from a given proc effect object.\n * If the buff is not supported, the resulting buff type will be `BuffStackType.Unknown` (see {@link BuffStackType} for more info).\n * @param effect Proc effect object to extract buffs from.\n * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n * @returns A collection of one or more buffs found in the given proc effect object.\n */\nexport default function convertProcEffectToBuffs(effect, context) {\n    if (!effect || typeof effect !== 'object') {\n        throw new TypeError('effect parameter should be an object');\n    }\n    if (!context || typeof context !== 'object') {\n        throw new TypeError('context parameter should be an object');\n    }\n    const id = (isProcEffect(effect) && getEffectId(effect));\n    const conversionFunction = (id && getProcEffectToBuffMapping(context.reloadMapping).get(id));\n    // TODO: warning if result is empty?\n    return typeof conversionFunction === 'function'\n        ? conversionFunction(effect, context)\n        : defaultConversionFunction(effect, context);\n}\n","import { BuffId } from './buff-types';\nimport isPassiveEffect from '../isPassiveEffect';\nimport getEffectId from '../getEffectId';\nimport { KNOWN_PASSIVE_ID } from '../constants';\nimport { getPassiveEffectToBuffMapping } from './passive-effect-mapping';\nimport { createSourcesFromContext } from './_helpers';\n/**\n * @description Default function for all effects that cannot be processed.\n * @param effect Effect to convert to `IBuff` format.\n * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n * @returns Converted buff(s) from the given passive effect.\n */\nfunction defaultConversionFunction(effect, context) {\n    const id = (isPassiveEffect(effect) && getEffectId(effect)) || KNOWN_PASSIVE_ID.Unknown;\n    return [{\n            id: BuffId.UNKNOWN_PASSIVE_EFFECT_ID,\n            originalId: id,\n            sources: createSourcesFromContext(context),\n        }];\n}\n/**\n * @description Extract the buff(s) from a given passive effect object.\n * If the buff is not supported, the resulting buff type will be `BuffStackType.Unknown` (see {@link BuffStackType} for more info).\n * @param effect Passive effect object to extract buffs from.\n * @param context Aggregate object to encapsulate information not in the effect used in the conversion process.\n * @returns A collection of one or more buffs found in the given passive effect object.\n */\nexport default function convertPassiveEffectToBuffs(effect, context) {\n    if (!effect || typeof effect !== 'object') {\n        throw new TypeError('effect parameter should be an object');\n    }\n    if (!context || typeof context !== 'object') {\n        throw new TypeError('context parameter should be an object');\n    }\n    const id = (isPassiveEffect(effect) && getEffectId(effect));\n    const conversionFunction = (id && getPassiveEffectToBuffMapping(context.reloadMapping).get(id));\n    // TODO: warning if result is empty?\n    return typeof conversionFunction === 'function'\n        ? conversionFunction(effect, context)\n        : defaultConversionFunction(effect, context);\n}\n","import { BUFF_METADATA } from './buff-metadata';\n/**\n * @description Get the associated metadata entry for a given buff ID.\n * @param id Buff ID to get metadata for.\n * @param metadata Optional source to use as metadata; defaults to internal buff metadata.\n * @returns Corresponding buff metadata entry if it exists, undefined otherwise.\n */\nexport default function getMetadataForBuff(id, metadata = BUFF_METADATA) {\n    return (!!metadata && typeof metadata === 'object') && Object.hasOwnProperty.call(metadata, id)\n        ? metadata[id]\n        : (void 0);\n}\n","import { TargetArea, } from '../datamine-types';\n/**\n * @description Create a list of objects that contain both the effect data and its corresponding damage frame.\n * @param effects List of proc effects to combine; must be the same length as the `damageFrames`.\n * @param damageFrames List of damage frames whose index corresponds with the effect in the `effects` list.\n * @returns Collection of composite objects that contain the proc effect and the corresponding frames entry.\n */\nexport default function combineEffectsAndDamageFrames(effects, damageFrames) {\n    let combinedEntries = [];\n    if (Array.isArray(effects) && effects.length > 0 && Array.isArray(damageFrames) && effects.length === damageFrames.length) {\n        combinedEntries = effects.map((effect, i) => {\n            const correspondingFrameEntry = damageFrames[i];\n            return {\n                delay: effect['effect delay time(ms)/frame'],\n                effect,\n                frames: correspondingFrameEntry,\n                id: `${effect['proc id'] || effect['unknown proc id']}`,\n                targetArea: effect['random attack'] ? TargetArea.Random : effect['target area'],\n                targetType: effect['target type'],\n            };\n        });\n    }\n    return combinedEntries;\n}\n","import getEffectId from './getEffectId';\nimport isPassiveEffect from './isPassiveEffect';\nimport getNameForPassive from './getNameForPassive';\nimport isProcEffect from './isProcEffect';\nimport getNameForProc from './getNameForProc';\n/**\n * @description Get the name of a given object.\n * @param effect Object to get the name from.\n * @param metadata Optional sources of metadata for procs and passives; defaults to internal metadata for respective types.\n * @returns Name of the input effect if it exists; empty string otherwise.\n */\nexport default function getEffectName(effect, metadata = {}) {\n    let resultName = '';\n    const effectId = getEffectId(effect);\n    if (isPassiveEffect(effect)) {\n        resultName = getNameForPassive(effectId, metadata && metadata.passive);\n    }\n    else if (isProcEffect(effect)) {\n        resultName = getNameForProc(effectId, metadata && metadata.proc);\n    }\n    return resultName;\n}\n","/**\n * @description Get the effects of a given extra skill.\n * @param skill Extra skill to get the effects of.\n * @returns Effects of the given extra skill if they exist, an empty array otherwise.\n */\nexport default function getEffectsForExtraSkill(skill) {\n    return (skill && Array.isArray(skill.effects)) ? skill.effects : [];\n}\n","/**\n * @description Get the effects of a given item.\n * @param item Item to get the effects of, if any are present,\n * @returns Effects of the given item if they exist, an empty array otherwise.\n */\nexport default function getEffectsForItem(item) {\n    let result = [];\n    if (item && item.effect) {\n        if (Array.isArray(item.effect)) {\n            result = item.effect;\n        }\n        else if (Array.isArray(item.effect.effect)) {\n            const { effect, target_area: targetArea, target_type: targetType } = item.effect;\n            result = effect.map(e => {\n                // apply target data to each effect\n                const fullProcEffect = Object.assign({}, e);\n                fullProcEffect['target area'] = targetArea;\n                fullProcEffect['target type'] = targetType;\n                return fullProcEffect;\n            });\n        }\n    }\n    return result;\n}\n","/**\n * @description Generate a URL to display the image with the given item thumbnail filename.\n * @param baseContentUrl Base URL of the server.\n * @param fileName Name of the file that represents the thumbnail image for a given item.\n * @returns Generated URL based on the given content URL and file name.\n */\nexport default function getItemImageUrl(baseContentUrl, fileName) {\n    return `${baseContentUrl || ''}/item/${fileName || ''}`;\n}\n","/**\n * @description Get the effects of a given leader skill.\n * @param skill Leader skill to get the effects of.\n * @returns Effects of the given leader skill if they exist, an empty array otherwise.\n */\nexport default function getEffectsForLeaderSkill(skill) {\n    return skill && Array.isArray(skill.effects) ? skill.effects : [];\n}\n","/**\n * @description Generate the file names for each of the image type for a given unit ID.\n * @param id Unit ID to use to generate the file names.\n * @param suffix Optional parameter that's useful for things like alternate art.\n * @returns Set of file names for each image type (spritesheet, battle avatar, guide avatar, full illustration).\n */\nexport default function getUnitImageFileNames(id, suffix = '') {\n    const fileNameSuffix = `${id || ''}${suffix || ''}.png`;\n    return {\n        spritesheet: `unit_anime_${fileNameSuffix}`,\n        battleAvatar: `unit_ills_battle_${fileNameSuffix}`,\n        guideAvatar: `unit_ills_thum_${fileNameSuffix}`,\n        fullIllustration: `unit_ills_full_${fileNameSuffix}`,\n    };\n}\n","/**\n * @description Generate a URL to display the image with the given unit filename.\n * @param baseContentUrl Base URL of the server.\n * @param fileName Name of the file that represents an image for a given unit.\n * @returns Generated URL based on the given content URL and file name.\n */\nexport default function getUnitImageUrl(baseContentUrl, fileName) {\n    return `${baseContentUrl || ''}/unit/img/${fileName || ''}`;\n}\n","/**\n * @ignore\n */\nexport const CHARACTER_CODE_FOR_UPPERCASE_A = 'A'.charCodeAt(0);\n/**\n * @ignore\n */\nexport const CHARACTER_CODE_FOR_LOWERCASE_A = 'a'.charCodeAt(0);\n/**\n * @ignore\n */\nexport const CHARACTER_CODE_FOR_NUMBER_0 = '0'.charCodeAt(0);\n","/**\n * @description Extract the ID of a string in the format of `number@actualId`. If there\n * is no value after the @ character or if no @ character is present, the original ID is returned.\n * This is particularly useful for extracting the ID of [[ISpEnhancementEntry.dependency|`ISpEnhancementEntry.dependency`]].\n * @param id Original SP Enhancement Entry ID.\n * @returns The ID of a string in the format of `number@actualId`, or the original input if\n * there is no @ character or no value after the @ character.\n */\nexport default function getSpEntryId(id) {\n    return (typeof id === 'string' && id.split('@')[1]) || id;\n}\n","/**\n * @description Get the effects of a given SP Enhancement Entry.\n * @param entry SP Enhancement Entry to get the effects of.\n * @returns Effects of the given SP Enhancement Entry if they exist, an empty array otherwise.\n */\nexport default function getEffectsForSpEnhancement(entry) {\n    const result = [];\n    if (entry && entry.skill && Array.isArray(entry.skill.effects)) {\n        const effectWrappers = entry.skill.effects;\n        effectWrappers.forEach(effectWrapper => {\n            Object.keys(effectWrapper).forEach(spType => {\n                const originalEffect = effectWrapper[spType];\n                const unwrappedEffect = Object.assign(Object.assign({}, originalEffect), { sp_type: spType });\n                result.push(unwrappedEffect);\n            });\n        });\n    }\n    return result;\n}\n","import { SpCategoryName } from '../datamine-types';\n/**\n * @description Get the associated category name with a given category ID.\n * @param categoryId Category ID to get the name of.\n * @returns Name of the given category ID or the string 'Unknown'.\n */\nexport default function getSpCategoryName(categoryId) {\n    let result;\n    const numericalCategoryId = +categoryId;\n    switch (numericalCategoryId) {\n        case 1:\n            result = SpCategoryName['Parameter Boost'];\n            break;\n        case 2:\n            result = SpCategoryName.Spark;\n            break;\n        case 3:\n            result = SpCategoryName['Critical Hits'];\n            break;\n        case 4:\n            result = SpCategoryName['Attack Boost'];\n            break;\n        case 5:\n            result = SpCategoryName['BB Gauge'];\n            break;\n        case 6:\n            result = SpCategoryName['HP Recovery'];\n            break;\n        case 7:\n            result = SpCategoryName.Drops;\n            break;\n        case 8:\n            result = SpCategoryName['Ailment Resistance'];\n            break;\n        case 9:\n            result = SpCategoryName['Ailment Infliction'];\n            break;\n        case 10:\n            result = SpCategoryName['Damage Reduction'];\n            break;\n        case 11:\n            result = SpCategoryName.Special;\n            break;\n        default:\n            result = SpCategoryName.Unknown;\n            break;\n    }\n    return result;\n}\n","import { CHARACTER_CODE_FOR_UPPERCASE_A, CHARACTER_CODE_FOR_NUMBER_0, CHARACTER_CODE_FOR_LOWERCASE_A, } from './_constants';\n/**\n * @description Get the corresponding character code for a given index.\n * It expects an index between 0 and 61 inclusive; will return an empty string if\n * the given value is outside of the range.\n * @param index Index of an SP entry in a given skills array.\n * @returns Corresponding single alphanumeric character to the given index\n * or an empty string if the index is invalid.\n */\nexport default function spIndexToCode(index) {\n    let result = '';\n    let correspondingCharacterCode = -1;\n    if (Number.isInteger(index)) {\n        if (index >= 0 && index <= 25) { // A-Z\n            correspondingCharacterCode = index + CHARACTER_CODE_FOR_UPPERCASE_A;\n        }\n        else if (index >= 26 && index <= 51) { // a-z\n            correspondingCharacterCode = (index - 26) + CHARACTER_CODE_FOR_LOWERCASE_A;\n        }\n        else if (index >= 52 && index <= 61) { // 0-9\n            correspondingCharacterCode = (index - 52) + CHARACTER_CODE_FOR_NUMBER_0;\n        }\n    }\n    if (correspondingCharacterCode !== -1) {\n        result = String.fromCharCode(correspondingCharacterCode);\n    }\n    return result;\n}\n","import { CHARACTER_CODE_FOR_UPPERCASE_A, CHARACTER_CODE_FOR_NUMBER_0, CHARACTER_CODE_FOR_LOWERCASE_A, } from './_constants';\n/**\n * @description Get the corresponding index for a given character code.\n * It expects an alphanumeric character and will return -1 otherwise.\n * @param code Character code an SP entry in a given skills array.\n * @returns Corresponding index to the given character or -1 if the\n * character is invalid.\n */\nexport default function spCodeToIndex(code) {\n    let result = -1;\n    let characterCodeOffset = -1;\n    if (!!code && typeof code === 'string' && code.length === 1) {\n        if (code >= 'A' && code <= 'Z') {\n            characterCodeOffset = CHARACTER_CODE_FOR_UPPERCASE_A;\n        }\n        else if (code >= 'a' && code <= 'z') {\n            characterCodeOffset = CHARACTER_CODE_FOR_LOWERCASE_A - 26;\n        }\n        else if (code >= '0' && code <= '9') {\n            characterCodeOffset = CHARACTER_CODE_FOR_NUMBER_0 - 52;\n        }\n    }\n    if (characterCodeOffset !== -1) {\n        result = code.charCodeAt(0) - characterCodeOffset;\n    }\n    return result;\n}\n","import getSpEntryId from './getSpEntryId';\n/**\n * @description Get the first SP Enhancement Entry that matches the given SP Entry ID, if it exists.\n * @param id SP Enhancement entry ID.\n * @param entries Collection of SP Enhancement entries to search in.\n * @returns Corresponding SP Enhancement entry with the given SP ID, undefined otherwise.\n */\nexport default function getSpEntryWithId(id, entries) {\n    const spId = getSpEntryId(id);\n    return (id && Array.isArray(entries) && entries.find(e => getSpEntryId(e && e.id) === spId)) || void 0;\n}\n","import getSpEntryId from './getSpEntryId';\n/**\n * @description Get all SP Enhancement entries that one would need to unlock the given SP entry.\n * @param entry SP Entry to get dependencies for.\n * @param allEntries Collection of SP Entries to search in.\n * @param addedEntries Entries that have already been added to the resulting collection; used to handle circular references.\n * @returns Collection of SP Enhancement entries (if any) that are required to unlock the given SP entry.\n */\nexport default function getAllDependenciesForSpEntry(entry, allEntries, addedEntries = new Set()) {\n    let dependencies = [];\n    if (entry && entry.dependency && Array.isArray(allEntries) && allEntries.length > 0) {\n        const dependencyId = getSpEntryId(entry.dependency);\n        const dependencyEntry = allEntries.find(s => getSpEntryId(s && s.id) === dependencyId);\n        if (dependencyEntry && !addedEntries.has(dependencyEntry)) {\n            addedEntries.add(dependencyEntry);\n            const subDependencies = getAllDependenciesForSpEntry(dependencyEntry, allEntries, addedEntries);\n            dependencies = [dependencyEntry].concat(subDependencies);\n        }\n    }\n    return dependencies;\n}\n","/**\n * @description Get all SP Enhancement entries that require the given SP entry in order to be unlockable.\n * @param entry SP Entry to get dependents for.\n * @param allEntries Collection of SP Entries to search in.\n * @param addedEntries Entries that have already been added to the resulting collection; used to handle circular references.\n * @returns Collection of SP Enhancement entries (if any) that require the given SP entry in order to be unlockable.\n */\nexport default function getAllEntriesThatDependOnSpEntry(entry, allEntries, addedEntries = new Set()) {\n    let dependents = [];\n    if (entry && entry.id && Array.isArray(allEntries) && allEntries.length > 0) {\n        const entryId = entry.id;\n        dependents = allEntries\n            .filter(s => {\n            return s.dependency &&\n                s.dependency.includes(entryId) &&\n                !addedEntries.has(s);\n        });\n        dependents.forEach(dependent => {\n            addedEntries.add(dependent);\n            const subDependents = getAllEntriesThatDependOnSpEntry(dependent, allEntries, addedEntries);\n            dependents = dependents.concat(subDependents);\n        });\n    }\n    return dependents;\n}\n","/* NOTE: this file is automatically generated; do not edit this file */\nexport default '0.7.0';\n"]}