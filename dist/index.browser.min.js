"use strict";var bfmtUtilities=function(e){function a(e,a){const t=e&&Array.isArray(e.levels)?e.levels:[];let s;return s=null===a||isNaN(a)?t.length-1:+a-1,t[s]}function t(e){let a="";return e&&(a=e["proc id"]||e["unknown proc id"]||e["passive id"]||e["unknown passive id"]||""),a}var s,i,n;!function(e){e.BurstHeal="2",e.Unknown="UNKNOWN_PROC_EFFECT_ID"}(s||(s={})),function(e){e.TriggeredEffect="66",e.Unknown="UNKNOWN_PASSIVE_EFFECT_ID"}(i||(i={})),function(e){e.Unknown="UNKNOWN_CONDITIONAL_EFFECT_ID"}(n||(n={}));var c,o=Object.freeze({__proto__:null,get KNOWN_PROC_ID(){return s},get KNOWN_PASSIVE_ID(){return i},get KNOWN_CONDITIONAL_ID(){return n}});!function(e){e.Attack="Attack"}(c||(c={}));const r=Object.freeze({1:{ID:"1",Name:"Parameter Boost"},2:{ID:"2",Name:"Elemental Parameter Boost"},3:{ID:"3",Name:"Type-Based Parameter Boost"},4:{ID:"4",Name:"Status Negation"},5:{ID:"5",Name:"Elemental Damage Reduction"},6:{ID:"6",Name:""},8:{ID:"8",Name:"Damage Reduction"},9:{ID:"9",Name:"Gradual BB Gauge Boost"},10:{ID:"10",Name:"HC Efficacy"},11:{ID:"11",Name:"HP-Conditional Parameter Boost"},12:{ID:"12",Name:"HP-Conditional Drop Rate Boost"},13:{ID:"13",Name:"BC Fill on Enemy Defeat"},14:{ID:"14",Name:"Damage Reduction (Chance)"},15:{ID:"15",Name:"Heal on Enemy Defeat"},16:{ID:"16",Name:"Heal on Battle Victory"},17:{ID:"17",Name:"HP Absorption"},19:{ID:"19",Name:"Drop Rate Boost"},20:{ID:"20",Name:"Status Infliction"},21:{ID:"21",Name:"Parameter Boost for First X Turns"},23:{ID:"23",Name:"BC Fill on Battle Victory"},24:{ID:"24",Name:"Heal when Attacked (Chance)"},25:{ID:"25",Name:"BC Fill when Hit (Chance)"},26:{ID:"26",Name:"Damage Counter (Chance)"},27:{ID:"27",Name:"Increased Target Chance"},28:{ID:"28",Name:"Decreased Target Chance"},29:{ID:"29",Name:"Defense Ignore (Chance)"},30:{ID:"30",Name:"BB Conditional Parameter Boost"},31:{ID:"31",Name:"Spark Damage Boost, Boost Drop Rate on Spark"},32:{ID:"32",Name:"BC Efficacy"},33:{ID:"33",Name:"Heal over Time"},34:{ID:"34",Name:"Critical Damage Boost"},35:{ID:"35",Name:"BC Fill when Normal Attacking"},36:{ID:"36",Name:"Extra Action"},37:{ID:"37",Name:"Hit Count Boost"},38:{ID:"38",Name:""},39:{ID:"39",Name:""},40:{ID:"40",Name:"Parameter Conversion"},41:{ID:"41",Name:"Unique Element Count Conditional Parameter Boost"},42:{ID:"42",Name:"Gender Parameter Boost"},43:{ID:"43",Name:"Damage Reduction to 1"},44:{ID:"44",Name:"Flat Parameter Boost"},45:{ID:"45",Name:"Critical Damage Negation"},46:{ID:"46",Name:"Parameter Boost Relative to HP Remainaing"},47:{ID:"47",Name:"BC Fill on Spark"},48:{ID:"48",Name:"BC Cost Reduction"},49:{ID:"49",Name:"BB Gauge Consumption Reduction"},50:{ID:"50",Name:"Elemental Damage Boost"},52:{ID:"52",Name:""},53:{ID:"53",Name:"Critical/Elemental Weakness Damage Negation"},55:{ID:"55",Name:"Conditional Effect based on HP Threshold"},58:{ID:"58",Name:"Damage Reduction when Guarding"},59:{ID:"59",Name:"BC Fill when Attacked when Guarding"},61:{ID:"61",Name:"BC Fill on Guard"},62:{ID:"62",Name:"Elemental Damage Reduction"},63:{ID:"63",Name:"Elemental Damage Reduction for first X Turns"},64:{ID:"64",Name:"BB Atk Boost"},65:{ID:"65",Name:"BC Fill on Critical"},66:{ID:"66",Name:"Add buff to Brave Burst"},69:{ID:"69",Name:"Chance KO Resistance (Angel Idol)"},70:{ID:"70",Name:"OD Gauge Fill Rate Boost"},71:{ID:"71",Name:"Status Counter"},72:{ID:"72",Name:"Turn End Effects Activate at Turn Start"},73:{ID:"73",Name:"Parameter Reduction Negation"},74:{ID:"74",Name:"Attack Boost on Status Afflicted Foes"},75:{ID:"75",Name:"Spark Vulnerability"},77:{ID:"77",Name:"Spark Damage Reduction"},78:{ID:"78",Name:"Conditional Effect after Damage Received Threshold"},79:{ID:"79",Name:"BC Fill after Damage Received Threshold"},80:{ID:"80",Name:"Conditional Effect after Damage Dealt Threshold"},81:{ID:"81",Name:"BC Fill after Damage Dealt Threshold"},82:{ID:"82",Name:"Conditional Effect after BC Received Threshold"},84:{ID:"84",Name:"Conditional Effect after HC Received Threshold"},85:{ID:"85",Name:"BC Fill after HC Received Threshold"},86:{ID:"86",Name:"Conditional Effect after Spark Threshold"},88:{ID:"88",Name:"Conditional Effect on Guard"},89:{ID:"89",Name:"Conditional Effect on Critical"},90:{ID:"90",Name:"Status Infliction on Critical"},91:{ID:"91",Name:""},92:{ID:"92",Name:"Negate Defense Ignore"},93:{ID:"93",Name:"Added Elements"},96:{ID:"96",Name:"Normal Attacks Hit All Foes"},97:{ID:"97",Name:"Player EXP Boost"},99:{ID:"99",Name:""},100:{ID:"100",Name:"Spark Critical"},101:{ID:"101",Name:"Heal on Spark"},102:{ID:"102",Name:"Added Elements"},103:{ID:"103",Name:"BB Atk Boost when HP Passes Threshold"},104:{ID:"104",Name:"Spark Boost when HP Passes Threshold"},105:{ID:"105",Name:"Turn-Based Parameter Boost"},106:{ID:"106",Name:"Conditional Effect after Activating Overdrive"},107:{ID:"107",Name:"Add Effect to Leader Skill"},109:{ID:"109",Name:"BB Gauge Reduction (Chance)"},110:{ID:"110",Name:"BC Efficacy Reduction (Chance)"},111:{ID:"111",Name:"Increase Brave Burst Activation Rate"},112:{ID:"112",Name:"ABP/CBP Boost"},113:{ID:"113",Name:"Conditional Effect after HP Threshold"},114:{ID:"114",Name:"Inflict Buff when Attacked"},127:{ID:"127",Name:"Additional Damage (Damage over Time) Reduction"},128:{ID:"128",Name:"Damage Reduction from Normal Attacks"},143:{ID:"143",Name:"Break Atk Parameter Limit"},10008:{ID:"10008",Name:"Damage Reduction from Specific Sources"},11004:{ID:"11004",Name:"Elemental Spark Damage Boost"},11005:{ID:"11005",Name:"Elemental Critical Damage Boost"},11006:{ID:"11006",Name:"Summoner EXP Boost"},11009:{ID:"11009",Name:"Effect Duration Boost"},"66,1":{ID:"66,1",Name:""}}),p=Object.freeze({0:{ID:"0",Name:"",Type:""},1:{ID:"1",Name:"Regular Damage",Type:"Attack"},2:{ID:"2",Name:"Burst Heal",Type:""},3:{ID:"3",Name:"Heal over Time",Type:""},4:{ID:"4",Name:"BB Gauge Refill",Type:""},5:{ID:"5",Name:"Parameter Boost",Type:""},6:{ID:"6",Name:"Drop Rate",Type:""},7:{ID:"7",Name:"Guaranteed KO Resistance (Angel Idol)",Type:""},8:{ID:"8",Name:"Max HP Boost",Type:""},9:{ID:"9",Name:"Parameter Reduction",Type:""},10:{ID:"10",Name:"Status Cleanse",Type:""},11:{ID:"11",Name:"Status Infliction",Type:""},12:{ID:"12",Name:"Revive (Guaranteed)",Type:""},13:{ID:"13",Name:"Random Target Damage",Type:"Attack"},14:{ID:"14",Name:"Lifesteal Damage",Type:"Attack"},16:{ID:"16",Name:"Elemental Damage Reduction",Type:""},17:{ID:"17",Name:"Status Negation",Type:""},18:{ID:"18",Name:"Damage Reduction",Type:""},19:{ID:"19",Name:"Gradual BB Gauge Boost",Type:""},20:{ID:"20",Name:"BC Fill on Hit",Type:""},22:{ID:"22",Name:"Defense Ignore",Type:""},23:{ID:"23",Name:"Spark Boost",Type:""},24:{ID:"24",Name:"Parameter Conversion",Type:""},26:{ID:"26",Name:"Hit Count Boost",Type:""},27:{ID:"27",Name:"Proportional Damage",Type:"Attack"},28:{ID:"28",Name:"Fixed Damage",Type:"Attack"},29:{ID:"29",Name:"Multi-Element Damage",Type:"Attack"},30:{ID:"30",Name:"Add Elements",Type:""},31:{ID:"31",Name:"Instant BB Gauge Fill",Type:""},32:{ID:"32",Name:"Element Shift",Type:""},33:{ID:"33",Name:"Buff Removal (Chance)",Type:""},34:{ID:"34",Name:"BB Gauge Reduction (Chance)",Type:""},36:{ID:"36",Name:"Leader Skill Lock (Chance)",Type:""},37:{ID:"37",Name:"Summon Unit",Type:""},38:{ID:"38",Name:"Status Cure",Type:""},39:{ID:"39",Name:"Elemental Damage Reduction",Type:""},40:{ID:"40",Name:"Status Infliction Added to Attack",Type:""},42:{ID:"42",Name:"",Type:""},43:{ID:"43",Name:"Instant OD Fill",Type:""},44:{ID:"44",Name:"Damage over Time (Additional Damage)",Type:""},45:{ID:"45",Name:"BB Atk Boost",Type:""},46:{ID:"46",Name:"Non-Lethal Proportional Damage",Type:"Attack"},47:{ID:"47",Name:"HP Scaled Damage",Type:"Attack"},48:{ID:"48",Name:"Piercing Proportional Damage",Type:"Attack"},49:{ID:"49",Name:"Retire",Type:""},50:{ID:"50",Name:"Damage Counter",Type:""},51:{ID:"51",Name:"Parameter Reduction Added to Attack",Type:""},52:{ID:"52",Name:"BC Efficacy",Type:""},53:{ID:"53",Name:"Status Counter",Type:""},54:{ID:"54",Name:"Critical Damage Boost",Type:""},55:{ID:"55",Name:"Elemental Damage Boost",Type:""},56:{ID:"56",Name:"Chance KO Resistance (Angel Idol)",Type:""},57:{ID:"57",Name:"BC Efficacy Reduction",Type:""},58:{ID:"58",Name:"Spark Vulnerability",Type:""},59:{ID:"59",Name:"BB Atk Reduction",Type:""},60:{ID:"60",Name:"",Type:""},61:{ID:"61",Name:"BB-Scaled Damage",Type:"Attack"},62:{ID:"62",Name:"Barrier",Type:""},63:{ID:"63",Name:"Selective Buff Wipe",Type:""},64:{ID:"64",Name:"Consecutive Damage",Type:"Attack"},65:{ID:"65",Name:"Attack Boost on Status Afflicted Foes",Type:""},66:{ID:"66",Name:"Revive (Chance)",Type:""},67:{ID:"67",Name:"BC Fill on Spark",Type:""},68:{ID:"68",Name:"Damage Reduction when Guarding",Type:""},69:{ID:"69",Name:"BC Fill on Guard",Type:""},70:{ID:"70",Name:"",Type:""},71:{ID:"71",Name:"BB Gauge Fill Rate Debuff",Type:""},73:{ID:"73",Name:"Parameter Reduction Negation",Type:""},75:{ID:"75",Name:"Element Squad-Scaled Damage",Type:"Attack"},76:{ID:"76",Name:"Extra Action",Type:""},78:{ID:"78",Name:"Self Parameter Boost",Type:""},79:{ID:"79",Name:"Player EXP Boost",Type:""},82:{ID:"82",Name:"",Type:""},83:{ID:"83",Name:"Spark Critical",Type:""},84:{ID:"84",Name:"OD Gauge Fill Rate",Type:""},85:{ID:"85",Name:"Heal when Attacked",Type:""},86:{ID:"86",Name:"HP Absorption",Type:""},87:{ID:"87",Name:"Heal on Spark",Type:""},88:{ID:"88",Name:"Self Spark Boost",Type:""},89:{ID:"89",Name:"Self Parameter Conversion",Type:""},92:{ID:"92",Name:"Self Max HP Boost",Type:""},93:{ID:"93",Name:"Spark/Critical/Elemental Weakness Damage Reduction",Type:""},94:{ID:"94",Name:"Normal Attacks Hit All Foes",Type:""},95:{ID:"95",Name:"Nullify Sphere Effects (Sphere Lock)",Type:""},96:{ID:"96",Name:"Nullify Extra Skill Effects (ES Lock)",Type:""},97:{ID:"97",Name:"Element Target Damage",Type:"Attack"},113:{ID:"113",Name:"Gradual OD Fill",Type:""},119:{ID:"119",Name:"Gradual BC Drain",Type:""},123:{ID:"123",Name:"OD Gauge Reduction",Type:""},126:{ID:"126",Name:"Damage over Time (Additional Damage) Mitigation",Type:""},127:{ID:"127",Name:"Lock On",Type:""},130:{ID:"130",Name:"Parameter Reduction Counter",Type:""},131:{ID:"131",Name:"",Type:""},132:{ID:"132",Name:"Critical/Elemental Weakness Vulnerability",Type:""},901:{ID:"901",Name:"Raid Heal (on Map)",Type:""},902:{ID:"902",Name:"Raid Parameter Boost",Type:""},903:{ID:"903",Name:"Raid Boss Reveal",Type:""},905:{ID:"905",Name:"Raid Teleport",Type:""},906:{ID:"906",Name:"Raid Flee",Type:""},907:{ID:"907",Name:"Raid Damage Reduction",Type:""},908:{ID:"908",Name:"Raid Item Drop Rate Boost",Type:""},1e4:{ID:"10000",Name:"Taunt",Type:""},10001:{ID:"10001",Name:"Stealth",Type:""},10002:{ID:"10002",Name:"Shield (old)",Type:""},10003:{ID:"10003",Name:"Nullify Sphere Effects (Sphere Lock)",Type:""},10004:{ID:"10004",Name:"Damage Immunity",Type:""},10005:{ID:"10005",Name:"Turn Skip (short duration)",Type:""},10006:{ID:"10006",Name:"Turn Skip (long duration)",Type:""},10007:{ID:"10007",Name:"Evasion",Type:""},10009:{ID:"10009",Name:"",Type:""},10012:{ID:"10012",Name:"OD Drain",Type:""},10015:{ID:"10015",Name:"Elemental Spark Boost",Type:""},10016:{ID:"10016",Name:"Element Critical Damage Boost",Type:""},10017:{ID:"10017",Name:"Elemental Shield",Type:""},10018:{ID:"10018",Name:"Max HP Reduction",Type:""},10019:{ID:"10019",Name:"Effect Purge",Type:""},10020:{ID:"10020",Name:"Piercing Damage",Type:"Attack"},10021:{ID:"10021",Name:"Active Healing Reduction",Type:""},10022:{ID:"10022",Name:"Passive Healing Reduction",Type:""},10023:{ID:"10023",Name:"HC Efficacy Reduction",Type:""},10025:{ID:"10025",Name:"KO Resistance Negation",Type:""},10026:{ID:"10026",Name:"Doom",Type:""},11e3:{ID:"11000",Name:"Negative HP-Scaled Damage",Type:"Attack"},11001:{ID:"11001",Name:"Max HP% DoT of Weaker Element Enemies",Type:""},11002:{ID:"11002",Name:"HP Limit Break, Convert to HP",Type:""},11003:{ID:"11003",Name:"Effect Negation",Type:""},70001:{ID:"70001",Name:"Mana Bubble Shield",Type:""},70002:{ID:"70002",Name:"Recast",Type:""},"2-5":{ID:"2-5",Name:"Burst Heal and DEF/REC Boost",Type:""}});function F(e,a=p){return a&&"object"==typeof a&&Object.hasOwnProperty.call(a,e)?a[e]:void 0}function l(e,a){const t=F(e,a);return!!t&&t.Type===c.Attack}var u,d,f,D,E,U,B,T,R,g,m,A,v,_,N,I,P,k,O,y=Object.freeze({__proto__:null,getLevelEntryForBurst:a,getEffectsForBurst:function(e,t){const s=a(e,t);return s&&Array.isArray(s.effects)?s.effects:[]},getExtraAttackDamageFramesEntry:function(e,a="0.0/0",i){const n=(Array.isArray(e)?e:[]).filter(e=>{const a=t(e);return a===s.BurstHeal||l(a,i)}).reduce((e,a,t)=>{const s=0===t,i=a["frame times"].length,n=a["hit dmg% distribution"],c=a["frame times"];for(let a=s?0:1;a<i;++a)e.push({damage:n[a],time:c[a]});return e},[]),c={"effect delay time(ms)/frame":a,"frame times":[],"hit dmg% distribution":[],"hit dmg% distribution (total)":0,hits:0};return n.sort((e,a)=>e.time-a.time).forEach(({time:e,damage:a})=>{c["frame times"].push(e),c["hit dmg% distribution"].push(a),c["hit dmg% distribution (total)"]+=a}),c.hits=c["frame times"].length,c}});function h(e,a=r){return a&&"object"==typeof a&&Object.hasOwnProperty.call(a,e)?a[e]:void 0}function b(e,a){const t=F(e,a);return!!t&&t.Name||""}function C(e,a){const t=h(e,a);return!!t&&t.Name||""}function H(e){return!!e&&"object"==typeof e&&(Object.hasOwnProperty.call(e,"proc id")||Object.hasOwnProperty.call(e,"unknown proc id"))}function K(e){return!!e&&"object"==typeof e&&(Object.hasOwnProperty.call(e,"passive id")||Object.hasOwnProperty.call(e,"unknown passive id"))}!function(e){e.Poison="poison",e.Weak="weak",e.Sick="sick",e.Injury="injury",e.Curse="curse",e.Paralysis="paralysis",e.AttackReduction="atk down",e.DefenseReduction="def down",e.RecoveryReduction="rec down",e.Unknown="unknown"}(u||(u={})),function(e){e.hp_50pr_under="hp_50pr_under",e.hp_50pr_over="hp_50pr_over",e.hp_75pr_under="hp_75pr_under",e.hp_25pr_under="hp_25pr_under",e.hp_min="hp_min",e.hp_max="hp_max",e.atk_max="atk_max",e.random="random"}(d||(d={})),function(e){e.Moving="1",e.Teleporting="2",e.NonMoving="3"}(f||(f={})),function(e){e.Aoe="aoe",e.Single="single",e.Random="random"}(D||(D={})),function(e){e.Aoe="AOE",e.Single="ST",e.Random="RT"}(E||(E={})),function(e){e.Self="self",e.Party="party",e.Enemy="enemy"}(U||(U={})),function(e){e.AddPassive="passive",e.EnhanceBb="add to bb",e.EnhanceSbb="add to sbb",e.EnhanceUbb="add to ubb",e.EnhancePassive="add to passive"}(B||(B={})),function(e){e.None="None",e["Status Enhancing"]="Status Enhancing",e.Critical="Critical",e.Drop="Drop",e["Ailment Inducing"]="Ailment Inducing",e["Element Fusion"]="Element Fusion",e["BB Gauge"]="BB Gauge",e["HP Recovery"]="HP Recovery",e["Target Setting"]="Target Setting",e["Damage Deflecting"]="Damage Deflecting",e["Damage Reducing"]="Damage Reducing",e.Spark="Spark",e["Defense Piercing"]="Defense Piercing",e["Attack Boosting"]="Attack Boosting",e.Special="Special"}(T||(T={})),function(e){e[e.None=0]="None",e[e["Status Enhancing"]=1]="Status Enhancing",e[e.Critical=2]="Critical",e[e.Drop=3]="Drop",e[e["Ailment Inducing"]=4]="Ailment Inducing",e[e["Element Fusion"]=5]="Element Fusion",e[e["BB Gauge"]=6]="BB Gauge",e[e["HP Recovery"]=7]="HP Recovery",e[e["Target Setting"]=8]="Target Setting",e[e["Damage Deflecting"]=9]="Damage Deflecting",e[e["Damage Reducing"]=10]="Damage Reducing",e[e.Spark=11]="Spark",e[e["Defense Piercing"]=12]="Defense Piercing",e[e["Attack Boosting"]=13]="Attack Boosting",e[e.Special=14]="Special"}(R||(R={})),function(e){e["Parameter Boost"]="Parameter Boost",e.Spark="Spark",e["Critical Hits"]="Critical Hits",e["Attack Boost"]="Attack Boost",e["BB Gauge"]="BB Gauge",e["HP Recovery"]="HP Recovery",e.Drops="Drops",e["Ailment Resistance"]="Ailment Resistance",e["Ailment Infliction"]="Ailment Infliction",e["Damage Reduction"]="Damage Reduction",e.Special="Special",e.Unknown="Unknown"}(g||(g={})),function(e){e["Parameter Boost"]="1",e.Spark="2",e["Critical Hits"]="3",e["Attack Boost"]="4",e["BB Gauge"]="5",e["HP Recovery"]="6",e.Drops="7",e["Ailment Resistance"]="8",e["Ailment Infliction"]="9",e["Damage Reduction"]="10",e.Special="11"}(m||(m={})),function(e){e.Attack="attack",e.Idle="idle",e.Move="move"}(A||(A={})),function(e){e.Fire="fire",e.Water="water",e.Earth="earth",e.Thunder="thunder",e.Light="light",e.Dark="dark"}(v||(v={})),function(e){e.Male="male",e.Female="female",e.Other="other"}(_||(_={})),function(e){e.Ineligible="not eligible for achievement",e.Farmable="farmable",e.RareSummon="rare summon",e.ExtraSkillElgif="extra skill elgif"}(N||(N={})),function(e){e.Normal="normal",e.Evolution="evo",e.Enhancing="enhancing",e.Sale="sale"}(I||(I={})),function(e){e.Lord="lord",e.Anima="anima",e.Breaker="breaker",e.Guardian="guardian",e.Oracle="oracle",e.Rex="rex"}(P||(P={})),function(e){e.Consumable="consumable",e.Material="material",e.Sphere="sphere",e.EvolutionMaterial="evomat",e.SummonerConsumable="summoner_consumable",e.LeaderSkillSphere="ls_sphere"}(k||(k={})),function(e){e.Mimic="60142",e.BatMimic="60143",e.DragonMimic="60144",e.MetalMimic="60224"}(O||(O={}));const S={1e3:O.Mimic,1100:O.BatMimic,1101:O.BatMimic,1200:O.DragonMimic,1300:O.MetalMimic};var W,w,L,M,j,G,x=Object.freeze({__proto__:null,get Ailment(){return u},get ArenaCondition(){return d},get MoveType(){return f},get TargetArea(){return D},get TargetAreaShorthand(){return E},get TargetType(){return U},get SpPassiveType(){return B},get SphereTypeName(){return T},get SphereTypeId(){return R},get SpCategoryName(){return g},get SpCategoryId(){return m},get UnitAnimationKey(){return A},get UnitElement(){return v},get UnitGender(){return _},get UnitGettingType(){return N},get UnitKind(){return I},get UnitType(){return P},get ItemType(){return k},get MimicUnitIds(){return O},MimicMonsterGroupMapping:S});function V(e){const a=Array.isArray(e.previousSources)?e.previousSources.slice():[];return a.unshift(function(e){return`${e.source}-${e.sourceId}`}(e)),a}function Y(e){const a=e&&Array.isArray(e.conditions)&&e.conditions||[],t={units:new Set,items:new Set,sphereTypes:new Set,unknowns:new Set};a.forEach((e,a)=>{"sphere category required (raw)"in e?t.sphereTypes.add(e["sphere category required (raw)"]):"item required"in e?e["item required"].forEach(e=>{t.items.add(e)}):"unit required"in e?e["unit required"].forEach(e=>{t.units.add(""+e.id)}):t.unknowns.add(`type:${e.type_id||a},condition:${e.condition_id||a}`)});return Object.entries(t).filter(e=>e[1].size>0).reduce((e,a)=>(e[a[0]]=Array.from(a[1]),e),{})}function $(e,a){const t=a.source===w.LeaderSkill||e.sp_type===B.EnhancePassive||e["passive target"]===U.Party;return{targetType:t?U.Party:U.Self,targetArea:t?D.Aoe:D.Single}}function X(e){return{targetArea:e["target area"],targetType:e["target type"]}}function z(e,a=0){return null===e||isNaN(e)?a:+e}function Q(e=[],a=0){let t=!1;const s=e.reduce((e,s,i)=>(s&&"0"!==s&&(e["param_"+(a+i)]=s,t=!0),e),{});return t?s:void 0}function q(e){return!!e&&[w.BraveBurst,w.SuperBraveBurst,w.UltimateBraveBurst,w.BondedBraveBurst,w.BondedSuperBraveBurst,w.DualBraveBurst].includes(e)}let Z,J,ee;function ae(e){return Z&&!e||(Z=new Map,function(e){const a="unknown proc param",t={0:L.All,1:v.Fire,2:v.Water,3:v.Earth,4:v.Thunder,5:v.Light,6:v.Dark},s={1:u.Poison,2:u.Weak,3:u.Sick,4:u.Injury,5:u.Curse,6:u.Paralysis,7:u.AttackReduction,8:u.DefenseReduction,9:u.RecoveryReduction},i=(e,a,t)=>({targetData:(t&&t.getProcTargetData||X)(e),sources:(t&&t.createSourcesFromContext||V)(a),effectDelay:e["effect delay time(ms)/frame"]}),n=e=>e.params.split(","),c=e=>{const t=e.params||e[a]||"";return n({params:t})},o=(e,{originalId:a,sources:t,targetData:s,effectDelay:i})=>Object.assign({id:G.UNKNOWN_PROC_BUFF_PARAMS,originalId:a,effectDelay:i,sources:t,value:e},s),r=({originalId:e,sources:a,buffs:t,duration:s,targetData:i})=>Object.assign({id:G.TURN_DURATION_MODIFICATION,originalId:e,sources:a,value:{buffs:t,duration:s}},i),p=({originalId:e,sources:a})=>({id:G.NO_PARAMS_SPECIFIED,originalId:e,sources:a}),F=(e,a,{originalId:t,sources:s,targetData:i,effectDelay:n})=>{0===e.length&&e.push(p({originalId:t,sources:s})),a&&e.push(o(a,{originalId:t,sources:s,targetData:i,effectDelay:n}))},l=(e,a,t)=>{let s;return e&&e.length>0&&(s=(t&&t.createUnknownParamsValue||Q)(e,a)),s},d=(e,a,t)=>{let s=0!==a;return s&&(s=!(t&&t.buffSourceIsBurstType||q)(e.source)),s},f=e=>({hits:z(e.damageFrames&&e.damageFrames.hits||0),distribution:z(e.damageFrames&&e.damageFrames["hit dmg% distribution (total)"])}),E=({effect:e,context:a,injectionContext:t,effectValueKey:s,effectTurnDurationKey:c,parseParamValue:o=(e=>z(e)),buffId:p,originalId:u})=>{const{targetData:f,sources:D,effectDelay:E}=i(e,a,t);let U,B=0,T=0;if(e.params){const[a,s,...i]=n(e);B=o(a),T=z(s),U=l(i,2,t)}else B=z(e[s]),T=z(e[c]);const R=[];return 0!==B?R.push(Object.assign({id:p,originalId:u,sources:D,effectDelay:E,duration:T,value:B},f)):d(a,T,t)&&R.push(r({originalId:u,sources:D,buffs:[p],duration:T,targetData:f})),F(R,U,{originalId:u,sources:D,targetData:f,effectDelay:E}),R};e.set("1",(e,a,t)=>{const s="1",{targetData:c,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a),d={"atk%":"0",flatAtk:"0","crit%":"0","bc%":"0","hc%":"0","dmg%":"0"};let D;if(e.params){let a;[d["atk%"],d.flatAtk,d["crit%"],d["bc%"],d["hc%"],d["dmg%"],...a]=n(e),D=l(a,6,t)}else d["atk%"]=e["bb atk%"],d.flatAtk=e["bb flat atk"],d["crit%"]=e["bb crit%"],d["bc%"]=e["bb bc%"],d["hc%"]=e["bb hc%"],d["dmg%"]=e["bb dmg%"];const E=Object.entries(d).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),U=[];return(0!==p||0!==u||Object.keys(E).length>0)&&U.push(Object.assign({id:"proc:1",originalId:s,sources:o,effectDelay:r,value:Object.assign(Object.assign({},E),{hits:p,distribution:u})},c)),F(U,D,{originalId:s,sources:o,targetData:c,effectDelay:r}),U}),e.set("2",(e,a,t)=>{const s="2",{targetData:c,sources:o,effectDelay:r}=i(e,a,t),p={healLow:"0",healHigh:"0","healerRec%":0};let u;if(e.params){let a,s,i;[p.healLow,p.healHigh,a,s,...i]=n(e),p["healerRec%"]=(100+z(a))*(1+z(s)/100)/10,u=l(i,4,t)}else p.healLow=e["heal low"],p.healHigh=e["heal high"],p["healerRec%"]=e["rec added% (from healer)"];Object.keys(p).forEach(e=>{p[e]=z(p[e])});const d=[];return 0===p.healHigh&&0===p.healLow||d.push(Object.assign({id:"proc:2",originalId:s,sources:o,effectDelay:r,value:p},c)),F(d,u,{originalId:s,sources:o,targetData:c,effectDelay:r}),d}),e.set("3",(e,a,t)=>{const s="3",{targetData:c,sources:o,effectDelay:p}=i(e,a,t),u={healLow:"0",healHigh:"0","targetRec%":0,turnDuration:"0"};let f;if(e.params){let a,s;[u.healLow,u.healHigh,a,u.turnDuration,...s]=n(e),u["targetRec%"]=10*(1+z(a)/100),f=l(s,4,t)}else u.healLow=e["gradual heal low"],u.healHigh=e["gradual heal high"],u["targetRec%"]=e["rec added% (from target)"],u.turnDuration=e["gradual heal turns (8)"];Object.keys(u).forEach(e=>{u[e]=z(u[e])});const D=[];return 0!==u.healLow||0!==u.healHigh?D.push(Object.assign({id:"proc:3",originalId:s,sources:o,effectDelay:p,duration:u.turnDuration,value:{healLow:u.healLow,healHigh:u.healHigh,"targetRec%":u["targetRec%"]}},c)):d(a,u.turnDuration,t)&&D.push(r({originalId:s,sources:o,buffs:["proc:3"],duration:u.turnDuration,targetData:c})),F(D,f,{originalId:s,sources:o,targetData:c,effectDelay:p}),D}),e.set("4",(e,a,t)=>{const s="4",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0,d=0;if(e.params){const[a,s,...i]=n(e);u=z(a)/100,d=z(s),p=l(i,2,t)}else"bb bc fill"in e&&(u=z(e["bb bc fill"])),"bb bc fill%"in e&&(d=z(e["bb bc fill%"]));const f=[];return 0!==u&&f.push(Object.assign({id:"proc:4:flat",originalId:s,sources:o,effectDelay:r,value:u},c)),0!==d&&f.push(Object.assign({id:"proc:4:percent",originalId:s,sources:o,effectDelay:r,value:d},c)),F(f,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),f}),e.set("5",(e,a,s)=>{const c="5",{targetData:o,sources:p,effectDelay:u}=i(e,a,s),f={element:L.All,atk:"0",def:"0",rec:"0",crit:"0",turnDuration:"0"},D=["atk","def","rec","crit"];let E;if(e.params){let a,i;[i,f.atk,f.def,f.rec,f.crit,f.turnDuration,...a]=n(e),f.element=t[i]||L.Unknown,E=l(a,6,s)}else{const a=e["element buffed"];f.element="all"===a?L.All:a||L.Unknown;const t=Object.keys(e);D.forEach(a=>{const s=t.find(e=>e.startsWith(a+"% buff"));s&&(f[a]=z(e[s]))}),f.turnDuration=z(e["buff turns"])}D.concat(["turnDuration"]).forEach(e=>{f[e]=z(f[e])});const U=D.some(e=>0!==f[e]),B=[];return U?D.forEach(e=>{const a=f[e];if(0!==a){const t=Object.assign({id:"proc:5:"+e,originalId:c,sources:p,effectDelay:u,duration:f.turnDuration,value:a},o);f.element!==L.All&&(t.conditions={targetElements:[f.element]}),B.push(t)}}):d(a,f.turnDuration,s)&&B.push(r({originalId:c,sources:p,buffs:D.map(e=>"proc:5:"+e),duration:f.turnDuration,targetData:o})),F(B,E,{originalId:c,sources:p,targetData:o,effectDelay:u}),B}),e.set("6",(e,a,t)=>{const s="6",{targetData:c,sources:o,effectDelay:p}=i(e,a,t),u={bc:"0",hc:"0",item:"0",turnDuration:"0"},f=["bc","hc","item"];let D;if(e.params){let a;[u.bc,u.hc,u.item,u.turnDuration,...a]=n(e),D=l(a,4,t)}else u.bc=e["bc drop rate% buff (10)"],u.hc=e["hc drop rate% buff (9)"],u.item=e["item drop rate% buff (11)"],u.turnDuration=e["drop buff rate turns"];f.concat(["turnDuration"]).forEach(e=>{u[e]=z(u[e])});const E=f.some(e=>0!==u[e]),U=[];return E?f.forEach(e=>{const a=u[e];0!==a&&U.push(Object.assign({id:"proc:6:"+e,originalId:s,sources:o,effectDelay:p,duration:u.turnDuration,value:a},c))}):d(a,u.turnDuration,t)&&U.push(r({originalId:s,sources:o,buffs:f.map(e=>"proc:6:"+e),duration:u.turnDuration,targetData:c})),F(U,D,{originalId:s,sources:o,targetData:c,effectDelay:p}),U}),e.set("7",(e,a,t)=>{const s="7",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0;if(e.params){const[a,...s]=n(e);u=z(a),p=l(s,1,t)}else u=z(e["angel idol recover hp%"]);const d=[Object.assign({id:"proc:7",originalId:s,sources:o,effectDelay:r,value:u},c)];return F(d,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),d}),e.set("8",(e,a,t)=>{const s="8",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0,d=0;if(e.params){const[a,s,...i]=n(e);u=z(a),d=z(s),p=l(i,2,t)}else"max hp increase"in e&&(u=z(e["max hp increase"])),"max hp% increase"in e&&(d=z(e["max hp% increase"]));const f=[];return 0!==u&&f.push(Object.assign({id:"proc:8:flat",originalId:s,sources:o,effectDelay:r,value:u},c)),0!==d&&f.push(Object.assign({id:"proc:8:percent",originalId:s,sources:o,effectDelay:r,value:d},c)),F(f,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),f}),e.set("9",(e,a,s)=>{const c="9",{targetData:o,sources:p,effectDelay:u}=i(e,a,s),f={0:"atk",1:"def",2:"rec"},D=["atk","def","rec"],E={element:L.All,statReductionEntries:[],turnDuration:0};let U;if(e.params){const[a,i,c,o,r,p,F,u,...d]=n(e);E.element=t[a]||L.Unknown,E.turnDuration=z(u),[[i,c,o],[r,p,F]].forEach(([e,a,t])=>{const s=z(e)-1,i=z(a),n=z(t);3===s?E.statReductionEntries.push(...D.map(e=>({stat:e,value:i,chance:n}))):E.statReductionEntries.push({stat:f[s]||"unknown",value:i,chance:n})}),U=l(d,8,s)}else{const a=e["element buffed"];E.element="all"===a?L.All:a||L.Unknown,["buff #1","buff #2"].forEach(a=>{const t=e[a];if(t){const e=z(t["proc chance%"]),a=Object.keys(t);D.forEach(s=>{const i=a.find(e=>e.startsWith(s+"% buff"));i&&E.statReductionEntries.push({stat:s,value:z(t[i]),chance:e})})}}),E.turnDuration=z(e["buff turns"])}const B=[];let T=!1;return E.statReductionEntries.forEach(({stat:e,value:a,chance:t})=>{if(0!==a||0!==t){T=!0;const s=Object.assign({id:"proc:9:"+e,originalId:c,sources:p,effectDelay:u,duration:E.turnDuration,value:{value:a,chance:t}},o);E.element!==L.All&&(s.conditions={targetElements:[E.element]}),B.push(s)}}),!T&&d(a,E.turnDuration,s)&&B.push(r({originalId:c,sources:p,buffs:D.map(e=>"proc:9:"+e),duration:E.turnDuration,targetData:o})),F(B,U,{originalId:c,sources:p,targetData:o,effectDelay:u}),B}),e.set("10",(e,a,t)=>{const c="10",{targetData:o,sources:r,effectDelay:p}=i(e,a,t),d=[];let f;if(e.params){const a=n(e),i=a.slice(0,8),c=a.slice(8);i.filter(e=>"0"!==e).forEach(e=>{d.push(s[e]||u.Unknown)}),f=l(c,8,t)}else Object.values(s).forEach(a=>{"remove "+a in e&&d.push(a)}),"remove all status ailments"in e&&d.push(u.Unknown);const D=d.map(e=>Object.assign({id:"proc:10:"+e,originalId:c,sources:r,effectDelay:p,value:!0},o));return F(D,f,{originalId:c,sources:r,targetData:o,effectDelay:p}),D}),e.set("11",(e,a,t)=>{const c="11",{targetData:o,sources:r,effectDelay:p}=i(e,a,t),d=[];let f;if(e.params){let a=n(e);a.length%2!=0&&"0"!==a[a.length-1]&&(f=l(a.slice(-1),a.length-1,t),a=a.slice(0,a.length-1));const i=a.length;for(let e=0;e<i;e+=2){const t=a[e],i=z(a[e+1]);if("0"!==t||0!==i){const e=s[t]||u.Unknown;d.push({ailment:e,chance:i})}}}else Object.values(s).forEach(a=>{let t;t=a===u.Weak?"weaken%":a===u.AttackReduction||a===u.DefenseReduction||a===u.RecoveryReduction?a:a+"%",t in e&&d.push({ailment:a,chance:z(e[t])})});const D=d.map(({ailment:e,chance:a})=>Object.assign({id:"proc:11:"+e,originalId:c,sources:r,effectDelay:p,value:a},o));return F(D,f,{originalId:c,sources:r,targetData:o,effectDelay:p}),D}),e.set("12",(e,a,t)=>{const s="12",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0;if(e.params){const[a,...s]=n(e);u=z(a),p=l(s,1,t)}else u=z(e["revive to hp%"]);const d=[Object.assign({id:"proc:12",originalId:s,sources:o,effectDelay:r,value:u},c)];return F(d,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),d}),e.set("13",(e,a,t)=>{const s="13",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p=0;const{distribution:u}=f(a),d={"atk%":"0",flatAtk:"0","crit%":"0","bc%":"0","hc%":"0"};let E;if(e.params){let a,s;[d["atk%"],d.flatAtk,d["crit%"],d["bc%"],d["hc%"],s,...a]=n(e),p=z(s),E=l(a,6,t)}else d["atk%"]=e["bb atk%"],d.flatAtk=e["bb flat atk"],d["crit%"]=e["bb crit%"],d["bc%"]=e["bb bc%"],d["hc%"]=e["bb hc%"],p=z(e.hits);const U=Object.entries(d).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),B=[];return(0!==p||0!==u||Object.keys(U).length>0)&&B.push({id:"proc:13",originalId:s,sources:o,effectDelay:r,value:Object.assign(Object.assign({},U),{hits:p,distribution:u}),targetType:c.targetType,targetArea:D.Random}),F(B,E,{originalId:s,sources:o,targetData:c,effectDelay:r}),B}),e.set("14",(e,a,t)=>{const s="14",{targetData:c,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a),d={"atk%":"0",flatAtk:"0","crit%":"0","bc%":"0","hc%":"0","dmg%":"0","drainLow%":"0","drainHigh%":"0"};let D;if(e.params){let a;[d["atk%"],d.flatAtk,d["crit%"],d["bc%"],d["hc%"],d["dmg%"],d["drainLow%"],d["drainHigh%"],...a]=n(e),D=l(a,8,t)}else d["atk%"]=e["bb atk%"],d.flatAtk=e["bb flat atk"],d["crit%"]=e["bb crit%"],d["bc%"]=e["bb bc%"],d["hc%"]=e["bb hc%"],d["dmg%"]=e["bb dmg%"],d["drainLow%"]=e["hp drain% low"],d["drainHigh%"]=e["hp drain% high"];const E=Object.entries(d).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),U=[];return(0!==p||0!==u||Object.keys(E).length>0)&&U.push(Object.assign({id:"proc:14",originalId:s,sources:o,effectDelay:r,value:Object.assign(Object.assign({},E),{hits:p,distribution:u})},c)),F(U,D,{originalId:s,sources:o,targetData:c,effectDelay:r}),U}),e.set("16",(e,a,s)=>{const c="16",{targetData:o,sources:p,effectDelay:u}=i(e,a,s);let f,D,E=0,U=0;if(e.params){const[a,i,c,...o]=n(e);f=t[a]||L.Unknown,E=z(i),U=z(c),D=l(o,3,s)}else{const a=Object.keys(e).find(e=>e.startsWith("mitigate"));f=a&&Object.values(t).find(e=>a.includes(e))||L.Unknown,a&&(E=z(e[a])),U=z(e["buff turns"])}const B=[];return 0!==E?B.push(Object.assign({id:"proc:16:"+f,originalId:c,sources:p,effectDelay:u,duration:U,value:E},o)):d(a,U,s)&&B.push(r({originalId:c,sources:p,buffs:Object.values(t).concat([L.Unknown]).map(e=>"proc:16:"+e),duration:U,targetData:o})),F(B,D,{originalId:c,sources:p,targetData:o,effectDelay:u}),B}),e.set("17",(e,a,t)=>{const s="17",{targetData:c,sources:o,effectDelay:p}=i(e,a,t),f=[u.Poison,u.Weak,u.Sick,u.Injury,u.Curse,u.Paralysis],D={poison:"0",weak:"0",sick:"0",injury:"0",curse:"0",paralysis:"0"};let E,U=0;if(e.params){let a,s;[D.poison,D.weak,D.sick,D.injury,D.curse,D.paralysis,a,...s]=n(e),U=z(a),E=l(s,7,t)}else{const a=Object.keys(e).filter(e=>e.startsWith("resist"));f.forEach(t=>{const s=a.find(e=>e.includes(t));s&&(D[t]=e[s])}),U=z(e["resist status ails turns"])}const B=[];return f.forEach(e=>{const a=z(D[e]);0!==a&&B.push(Object.assign({id:"proc:17:"+e,originalId:s,sources:o,effectDelay:p,value:a,duration:U},c))}),0===B.length&&d(a,U,t)&&B.push(r({originalId:s,sources:o,buffs:f.map(e=>"proc:17:"+e),duration:U,targetData:c})),F(B,E,{originalId:s,sources:o,targetData:c,effectDelay:p}),B}),e.set("18",(e,a,t)=>E({effect:e,context:a,injectionContext:t,effectValueKey:"dmg% reduction",effectTurnDurationKey:"dmg% reduction turns (36)",buffId:"proc:18",originalId:"18"})),e.set("19",(e,a,t)=>E({effect:e,context:a,injectionContext:t,effectValueKey:"increase bb gauge gradual",effectTurnDurationKey:"increase bb gauge gradual turns (37)",parseParamValue:e=>z(e)/100,buffId:"proc:19",originalId:"19"})),e.set("20",(e,a,t)=>{const s="20",{targetData:c,sources:o,effectDelay:p}=i(e,a,t);let u,f=0,D=0,E=0,U=0;if(e.params){const[a,s,i,c,...o]=n(e);f=z(a)/100,D=z(s)/100,E=z(i),U=z(c),u=l(o,4,t)}else f=z(e["bc fill when attacked low"]),D=z(e["bc fill when attacked high"]),E=z(e["bc fill when attacked%"]),U=z(e["bc fill when attacked turns (38)"]);const B=[];return 0!==f||0!==D?B.push(Object.assign({id:"proc:20",originalId:s,sources:o,effectDelay:p,duration:U,conditions:{whenAttacked:!0},value:{fillLow:f,fillHigh:D,chance:E}},c)):d(a,U,t)&&B.push(r({originalId:s,sources:o,buffs:["proc:20"],duration:U,targetData:c})),F(B,u,{originalId:s,sources:o,targetData:c,effectDelay:p}),B}),e.set("22",(e,a,t)=>E({effect:e,context:a,injectionContext:t,effectValueKey:"defense% ignore",effectTurnDurationKey:"defense% ignore turns (39)",buffId:"proc:22",originalId:"22"})),e.set("23",(e,a,t)=>{const s="23",{targetData:c,sources:o,effectDelay:p}=i(e,a,t);let u,f=0,D=0;if(e.params){const a=n(e);f=z(a[0]),D=z(a[6]);const s=["0",...a.slice(1,6),"0",...a.slice(7)];u=l(s,0,t)}else f=z(e["spark dmg% buff (40)"]),D=z(e["buff turns"]);const E=[];return 0!==f?E.push(Object.assign({id:"proc:23",originalId:s,sources:o,effectDelay:p,duration:D,value:f},c)):d(a,D,t)&&E.push(r({originalId:s,sources:o,buffs:["proc:23"],duration:D,targetData:c})),F(E,u,{originalId:s,sources:o,targetData:c,effectDelay:p}),E}),e.set("24",(e,a,t)=>{const s="24",{targetData:c,sources:o,effectDelay:p}=i(e,a,t),u=["atk","def","rec"],f={1:"atk",2:"def",3:"rec",4:"hp"},D={attack:"atk",defense:"def",recovery:"rec",hp:"hp"},E={atk:"0",def:"0",rec:"0"};let U,B=0,T="unknown";if(e.params){let a,s,i;[s,E.atk,E.def,E.rec,i,...a]=n(e),T=f[s]||"unknown",B=z(i),U=l(a,5,t)}else{const a=e["converted attribute"];T=a in D?D[a]:"unknown";const t=Object.keys(e);u.forEach(a=>{const s=t.find(e=>e.startsWith(a+"% buff"));s&&(E[a]=e[s])}),B=z(e["% converted turns"])}const R=[];return u.forEach(e=>{const a=z(E[e]);0!==a&&R.push(Object.assign({id:"proc:24:"+e,originalId:s,sources:o,effectDelay:p,duration:B,value:{convertedStat:T,value:a}},c))}),0===R.length&&d(a,B,t)&&R.push(r({originalId:s,sources:o,buffs:u.map(e=>"proc:24:"+e),duration:B,targetData:c})),F(R,U,{originalId:s,sources:o,targetData:c,effectDelay:p}),R}),e.set("26",(e,a,t)=>{const s="26",{targetData:c,sources:o,effectDelay:p}=i(e,a,t);let u,f=0,D=0,E=0;if(e.params){const a=n(e);f=z(a[0]),D=z(a[2]),E=z(a[7]);const s=["0",a[1],"0",...a.slice(3,7),"0",...a.slice(8)];u=l(s,0,t)}else f=z(e["hit increase/hit"]),D=z(e["extra hits dmg%"]),E=z(e["hit increase buff turns (50)"]);const U=[];return 0!==f||0!==D?U.push(Object.assign({id:"proc:26",originalId:s,sources:o,effectDelay:p,duration:E,value:{hitIncreasePerHit:f,extraHitDamage:D}},c)):d(a,E,t)&&U.push(r({originalId:s,sources:o,buffs:["proc:26"],duration:E,targetData:c})),F(U,u,{originalId:s,sources:o,targetData:c,effectDelay:p}),U}),e.set("27",(e,a,t)=>{const s="27",{targetData:c,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a),d={"hpDamageLow%":"0","hpDamageHigh%":"0","hpDamageChance%":"0","atk%":"0",flatAtk:"0","crit%":"0","bc%":"0","hc%":"0","dmg%":"0"};let D;if(e.params){let a;[d["hpDamageLow%"],d["hpDamageHigh%"],d["hpDamageChance%"],d["atk%"],d.flatAtk,d["crit%"],d["bc%"],d["hc%"],d["dmg%"],...a]=n(e),D=l(a,9,t)}else d["hpDamageLow%"]=e["hp% damage low"],d["hpDamageHigh%"]=e["hp% damage high"],d["hpDamageChance%"]=e["hp% damage chance%"],d["atk%"]=e["bb atk%"],d.flatAtk=e["bb flat atk"],d["crit%"]=e["bb crit%"],d["bc%"]=e["bb bc%"],d["hc%"]=e["bb hc%"],d["dmg%"]=e["bb dmg%"];const E=Object.entries(d).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),U=[];return(0!==p||0!==u||Object.keys(E).length>0)&&U.push(Object.assign({id:"proc:27",originalId:s,sources:o,effectDelay:r,value:Object.assign(Object.assign({},E),{hits:p,distribution:u})},c)),F(U,D,{originalId:s,sources:o,targetData:c,effectDelay:r}),U}),e.set("28",(e,a,t)=>{const s="28",{targetData:c,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a);let d,D=0;if(e.params){const[a,...s]=n(e);D=z(a),d=l(s,1,t)}else D=z(e["fixed damage"]);const E=[];if(0!==p||0!==u||0!==D){const e=Object.assign({id:"proc:28",originalId:s,sources:o,effectDelay:r,value:{hits:p,distribution:u}},c);0!==D&&(e.value.value=D),E.push(e)}return F(E,d,{originalId:s,sources:o,targetData:c,effectDelay:r}),E}),e.set("29",(e,a,s)=>{const c="29",{targetData:o,sources:r,effectDelay:p}=i(e,a,s),{hits:u,distribution:d}=f(a),D={"atk%":"0",flatAtk:"0","crit%":"0","bc%":"0","hc%":"0","dmg%":"0"};let E,U=[];if(e.params){let a,i,c,o;[a,i,c,D["atk%"],D.flatAtk,D["crit%"],D["bc%"],D["hc%"],D["dmg%"],...o]=n(e),[a,i,c].forEach(e=>{"0"!==e&&U.push(t[e]||L.Unknown),E=l(o,9,s)})}else Array.isArray(e["bb elements"])&&(U=e["bb elements"].slice()),D["atk%"]=e["bb atk%"],D.flatAtk=e["bb flat atk"],D["crit%"]=e["bb crit%"],D["bc%"]=e["bb bc%"],D["hc%"]=e["bb hc%"],D["dmg%"]=e["bb dmg%"];const B=Object.entries(D).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),T=[];if(0!==u||0!==d||U.length>0||Object.keys(B).length>0){const e=Object.assign({id:"proc:29",originalId:c,sources:r,effectDelay:p,value:Object.assign(Object.assign({},B),{hits:u,distribution:d})},o);U.length>0&&(e.value.elements=U),T.push(e)}return F(T,E,{originalId:c,sources:r,targetData:o,effectDelay:p}),T}),e.set("30",(e,a,s)=>{const c="30",{targetData:o,sources:p,effectDelay:u}=i(e,a,s);let f,D=[],E=0;if(e.params){const a=n(e);D=a.slice(0,6).filter(e=>"0"!==e).map(e=>t[e]||L.Unknown),E=z(a[6]),f=l(a.slice(7),7,s)}else"elements added"in e&&(D=Array.isArray(e["elements added"])?e["elements added"]:[L.Unknown]),E=z(e["elements added turns"]);const U=[],B=Object.values(t).filter(e=>e!==L.All);return D.length>0?D.forEach(e=>{const a=B.includes(e)?e:L.Unknown;U.push(Object.assign({id:"proc:30:"+a,originalId:c,sources:p,effectDelay:u,duration:E},o))}):d(a,E,s)&&U.push(r({originalId:c,sources:p,buffs:B.concat([L.Unknown]).map(e=>"proc:30:"+e),duration:E,targetData:o})),F(U,f,{originalId:c,sources:p,targetData:o,effectDelay:u}),U}),e.set("31",(e,a,t)=>{const s="31",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0,d=0;if(e.params){const[a,s,...i]=n(e);u=z(a)/100,d=z(s),p=l(i,2,t)}else"increase bb gauge"in e&&(u=z(e["increase bb gauge"]));const f=[];return 0!==u&&f.push(Object.assign({id:"proc:31:flat",originalId:s,sources:o,effectDelay:r,value:u},c)),0!==d&&f.push(Object.assign({id:"proc:31:percent",originalId:s,sources:o,effectDelay:r,value:d},c)),F(f,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),f}),e.set("32",(e,a,s)=>{const c="32",{targetData:o,sources:r,effectDelay:p}=i(e,a,s);let u,d;if(e.params){const[a,...i]=n(e);a&&"0"!==a&&(u=t[a]||L.Unknown),d=l(i,1,s)}else{const a=e["set attack element attribute"];if(a){const e=Object.values(t).find(e=>a===e);u=e&&e!==L.All?e:L.Unknown}}const f=[];return u&&f.push(Object.assign({id:"proc:32:"+u,originalId:c,sources:r,effectDelay:p,value:!0},o)),F(f,d,{originalId:c,sources:r,targetData:o,effectDelay:p}),f}),e.set("33",(e,a,t)=>{const s="33",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0;if(e.params){const[a,...s]=n(e);u=z(a),p=l(s,1,t)}else u=z(e["clear buff chance%"]);const d=[];return 0!==u&&d.push(Object.assign({id:"proc:33",originalId:s,sources:o,effectDelay:r,value:u},c)),F(d,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),d}),e.set("34",(e,a,t)=>{const s="34",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0,d=0,f=0,D=0,E=0;if(e.params){const[a,s,i,c,o,...r]=n(e);u=z(a)/100,d=z(s)/100,f=z(i),D=z(c),E=z(o),p=l(r,5,t)}else u=z(e["base bb gauge reduction low"]),d=z(e["base bb gauge reduction high"]),f=z(e["bb gauge% reduction low"]),D=z(e["bb gauge% reduction high"]),E=z(e["bb gauge reduction chance%"]);const U=[];return 0===u&&0===d||U.push(Object.assign({id:"proc:34:flat",originalId:s,sources:o,effectDelay:r,value:{drainLow:u,drainHigh:d,chance:E}},c)),0===f&&0===D||U.push(Object.assign({id:"proc:34:percent",originalId:s,sources:o,effectDelay:r,value:{drainLow:f,drainHigh:D,chance:E}},c)),F(U,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),U}),e.set("36",(e,a,t)=>E({effect:e,context:a,injectionContext:t,effectValueKey:"invalidate LS chance%",effectTurnDurationKey:"invalidate LS turns (60)",buffId:"proc:36",originalId:"36"})),e.set("37",(e,a,t)=>{const s="37",{targetData:n,sources:o,effectDelay:r}=i(e,a,t),[p,u="",d,f,...D]=c(e),E=z(d),U=z(f),B=l(D,4,t),T=[];return(p||u)&&T.push(Object.assign({id:"proc:37",originalId:s,sources:o,effectDelay:r,value:{summonGroup:p,summonId:u,positionX:E,positionY:U}},n)),F(T,B,{originalId:s,sources:o,targetData:n,effectDelay:r}),T}),e.set("38",(e,a,t)=>{const c="38",{targetData:o,sources:r,effectDelay:p}=i(e,a,t),d=[];let f;if(e.params){const a=n(e),i=a.slice(0,9),c=a.slice(9);i.filter(e=>"0"!==e).forEach(e=>{d.push(s[e]||u.Unknown)}),f=l(c,9,t)}else if(Array.isArray(e["ailments cured"])){const a=e["ailments cured"];if(Object.values(s).forEach(e=>{const t=e!==u.Weak?e:"weaken";a.includes(t)&&d.push(e)}),a.length>d.length){const e=a.length-d.length;for(let a=0;a<e;++a)d.push(u.Unknown)}}const D=d.map(e=>Object.assign({id:"proc:38:"+e,originalId:c,sources:r,effectDelay:p,value:!0},o));return F(D,f,{originalId:c,sources:r,targetData:o,effectDelay:p}),D}),e.set("39",(e,a,t)=>{const s="39",c={1:v.Fire,2:v.Water,3:v.Earth,4:v.Thunder,5:v.Light,6:v.Dark},{targetData:o,sources:p,effectDelay:u}=i(e,a,t),f=[];let D,E=0,U=0;if(e.params){const a=n(e),s=a.slice(0,6);E=z(a[6]),U=z(a[7]),s.forEach(e=>{"0"!==e&&f.push(c[e]||L.Unknown)}),D=l(a.slice(8),8,t)}else Object.values(c).forEach(a=>{e[`mitigate ${a} attacks`]&&f.push(a)}),E=z(e["dmg% mitigation for elemental attacks"]),U=z(e["dmg% mitigation for elemental attacks buff turns"]);const B=[];return f.length>0?f.forEach(e=>{B.push(Object.assign({id:"proc:39:"+e,originalId:s,sources:p,effectDelay:u,duration:U,value:E},o))}):0!==E?B.push(Object.assign({id:"proc:39:unknown",originalId:s,sources:p,effectDelay:u,duration:U,value:E},o)):d(a,U,t)&&B.push(r({originalId:s,sources:p,buffs:Object.values(c).concat([L.Unknown]).map(e=>"proc:39:"+e),duration:U,targetData:o})),F(B,D,{originalId:s,sources:p,targetData:o,effectDelay:u}),B}),e.set("40",(e,a,t)=>{const c="40",{targetData:o,sources:p,effectDelay:f}=i(e,a,t),D=[];let E,U=0;if(e.params){const a=n(e);for(let e=0;e<8;e+=2){const t=a[e],i=z(a[e+1]);if("0"!==t||0!==i){const e=s[t]||u.Unknown;D.push({ailment:e,chance:i})}}U=z(a[8]),E=l(a.slice(9),9,t)}else Object.values(s).forEach(a=>{let t;t=a===u.Weak?"weaken% buff":a===u.AttackReduction||a===u.DefenseReduction||a===u.RecoveryReduction?a+" buff":a+"% buff",t in e&&D.push({ailment:a,chance:z(e[t])})}),U=z(e["buff turns"]);const B=D.map(({ailment:e,chance:a})=>Object.assign({id:"proc:40:"+e,originalId:c,sources:p,effectDelay:f,duration:U,value:a},o));return 0===B.length&&d(a,U,t)&&B.push(r({originalId:c,sources:p,duration:U,buffs:Object.values(s).concat([u.Unknown]).map(e=>"proc:40:"+e),targetData:o})),F(B,E,{originalId:c,sources:p,targetData:o,effectDelay:f}),B}),e.set("42",(e,a,t)=>{const s="42",{targetData:n,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a),[d,D,E,...U]=c(e),B={"atkLow%":d,"atkHigh%":D,flatAtk:E},T=l(U,3,t),R=Object.entries(B).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),g=[];return(0!==p||0!==u||Object.keys(R).length>0)&&g.push(Object.assign({id:"proc:42",originalId:s,sources:o,effectDelay:r,value:Object.assign(Object.assign({},R),{hits:p,distribution:u})},n)),F(g,T,{originalId:s,sources:o,targetData:n,effectDelay:r}),g}),e.set("43",(e,a,t)=>{const s="43",{targetData:c,sources:o,effectDelay:r}=i(e,a,t);let p,u=0;if(e.params){const[a,...s]=n(e);u=z(a),p=l(s,1,t)}else u=z(e["increase od gauge%"]);const d=[];return 0!==u&&d.push(Object.assign({id:"proc:43",originalId:s,sources:o,effectDelay:r,value:u},c)),F(d,p,{originalId:s,sources:o,targetData:c,effectDelay:r}),d}),e.set("44",(e,a,t)=>{const s="44",{targetData:c,sources:o,effectDelay:p}=i(e,a,t),u={"atk%":"0",flatAtk:"0","dmg%":"0"};let f,D=!1,E=0,U=0;if(e.params){let a,s,i,c;[u["atk%"],u.flatAtk,u["dmg%"],s,i,c,...a]=n(e),D="1"!==s,E=z(i),U=z(c),f=l(a,6,t)}else u["atk%"]=e["dot atk%"],u.flatAtk=e["dot flat atk"],u["dmg%"]=e["dot dmg%"],D=!!e["dot element affected"],E=z(e["dot unit index"]),U=z(e["dot turns (71)"]);const B=Object.entries(u).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),T=[];return Object.keys(B).length>0?T.push(Object.assign({id:"proc:44",originalId:s,sources:o,effectDelay:p,duration:U,value:Object.assign(Object.assign({},B),{affectsElement:D,unitIndex:E})},c)):d(a,U,t)&&T.push(r({originalId:s,sources:o,buffs:["proc:44"],duration:U,targetData:c})),F(T,f,{originalId:s,sources:o,targetData:c,effectDelay:p}),T}),e.set("45",(e,a,t)=>{const s="45",{targetData:c,sources:o,effectDelay:p}=i(e,a,t);let u,f=0,D=0,E=0,U=0;if(e.params){const[a,s,i,c,...o]=n(e);f=z(a),D=z(s),E=z(i),U=z(c),u=l(o,4,t)}else f=z(e["bb atk% buff"]),D=z(e["sbb atk% buff"]),E=z(e["ubb atk% buff"]),U=z(e["buff turns (72)"]);const B=[];return 0!==f&&B.push(Object.assign({id:"proc:45:bb",originalId:s,sources:o,effectDelay:p,duration:U,value:f},c)),0!==D&&B.push(Object.assign({id:"proc:45:sbb",originalId:s,sources:o,effectDelay:p,duration:U,value:D},c)),0!==E&&B.push(Object.assign({id:"proc:45:ubb",originalId:s,sources:o,effectDelay:p,duration:U,value:E},c)),0===B.length&&d(a,U,t)&&B.push(r({originalId:s,sources:o,buffs:["bb","sbb","ubb"].map(e=>"proc:45:"+e),duration:U,targetData:c})),F(B,u,{originalId:s,sources:o,targetData:c,effectDelay:p}),B}),e.set("46",(e,a,t)=>{const s="46",{targetData:n,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a),[d,D,...E]=c(e),U=z(d),B=z(D),T=l(E,2,t),R=[];if(0!==U||0!==B||0!==p||0!==u){const e=Object.assign({id:"proc:46",originalId:s,sources:o,effectDelay:r,value:{hits:p,distribution:u}},n);0===U&&0===B||(e.value={"hpDamageLow%":U,"hpDamageHigh%":B,hits:p,distribution:u}),R.push(e)}return F(R,T,{originalId:s,sources:o,targetData:n,effectDelay:r}),R}),e.set("47",(e,a,t)=>{const s="47",{targetData:c,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a),d={"baseAtk%":"0","addedAtk%":"0",flatAtk:"0","crit%":"0","bc%":"0","hc%":"0","dmg%":"0"};let D,E="unknown";if(e.params){let a,s,i;[d["baseAtk%"],s,i,d.flatAtk,d["crit%"],d["bc%"],d["hc%"],d["dmg%"],...a]=n(e),d["addedAtk%"]=z(s)-z(d["baseAtk%"]),E="1"===i?"lost":"remaining",D=l(a,8,t)}else d["baseAtk%"]=e["bb base atk%"],d["addedAtk%"]=e["bb added atk% based on hp"],E=e["bb added atk% proportional to hp"]||"unknown",d.flatAtk=e["bb flat atk"],d["crit%"]=e["bb crit%"],d["bc%"]=e["bb bc%"],d["hc%"]=e["bb hc%"],d["dmg%"]=e["bb dmg%"];const U=Object.entries(d).filter(([,e])=>e&&+e).reduce((e,[a,t])=>(e[a]=z(t),e),{}),B=[];return(0!==p||0!==u||Object.keys(U).length>0)&&B.push(Object.assign({id:"proc:47",originalId:s,sources:o,effectDelay:r,value:Object.assign(Object.assign({},U),{proportionalMode:E,hits:p,distribution:u})},c)),F(B,D,{originalId:s,sources:o,targetData:c,effectDelay:r}),B}),e.set("48",(e,a,t)=>{const s="48",{targetData:n,sources:o,effectDelay:r}=i(e,a,t),{hits:p,distribution:u}=f(a),[d,D,E,U,B,T,R,...g]=c(e),m=z(d),A=z(D),v=z(E),_=z(U),N=z(B),I=z(T),P="1"===R,k=l(g,7,t),O=[],y=(e,a)=>Object.assign({id:"proc:48:"+e,originalId:s,sources:o,effectDelay:r,value:Object.assign(Object.assign({},a),{isLethal:P,chance:I,hits:p,distribution:u})},n);return 0===m&&0===A||O.push(y("base",{"hpDamageLow%":m,"hpDamageHigh%":A})),0===v&&0===_||O.push(y("current",{"hpDamageLow%":v,"hpDamageHigh%":_})),0!==N&&O.push(y("fixed",{value:N})),0!==O.length||0===p&&0===u||O.push(y("unknown",{})),F(O,k,{originalId:s,sources:o,targetData:n,effectDelay:r}),O}),e.set("49",(e,a,t)=>{const s="49",{targetData:n,sources:o,effectDelay:r}=i(e,a,t),[p,...u]=c(e),d=z(p),f=l(u,1,t),D=[];return 0!==d&&D.push(Object.assign({id:"proc:49",originalId:s,sources:o,effectDelay:r,value:d},n)),F(D,f,{originalId:s,sources:o,targetData:n,effectDelay:r}),D}),e.set("50",(e,a,t)=>{const s="50",{targetData:n,sources:o,effectDelay:p}=i(e,a,t),[u,f,D,E,...U]=c(e),B=z(u),T=z(f),R=z(D),g=z(E),m=l(U,4,t),A=[];return 0!==B||0!==T?A.push(Object.assign({id:"proc:50",originalId:s,sources:o,effectDelay:p,duration:g,value:{"reflectedDamageLow%":B,"reflectedDamageHigh%":T,chance:R}},n)):d(a,g,t)&&A.push(r({originalId:s,sources:o,buffs:["proc:50"],duration:g,targetData:n})),F(A,m,{originalId:s,sources:o,targetData:n,effectDelay:p}),A}),e.set("51",(e,a,t)=>{const s="51",{targetData:c,sources:o,effectDelay:r}=i(e,a,t),p=[];let f,D=0,E=0;if(e.params){const a=n(e);[{type:u.AttackReduction,reductionValue:z(a[0]),chance:z(a[3])},{type:u.DefenseReduction,reductionValue:z(a[1]),chance:z(a[4])},{type:u.RecoveryReduction,reductionValue:z(a[2]),chance:z(a[5])}].forEach(({type:e,reductionValue:a,chance:t})=>{0===a&&0===t||p.push({type:e,reductionValue:a,chance:t})}),D=z(a[6]),E=z(a[7]),f=l(a.slice(8),8,t)}else[{type:u.AttackReduction,reductionValueKey:"inflict atk% debuff (2)",chanceKey:"inflict atk% debuff chance% (74)"},{type:u.DefenseReduction,reductionValueKey:"inflict def% debuff (4)",chanceKey:"inflict def% debuff chance% (75)"},{type:u.RecoveryReduction,reductionValueKey:"inflict rec% debuff (6)",chanceKey:"inflict rec% debuff chance% (76)"}].forEach(({type:a,reductionValueKey:t,chanceKey:s})=>{const i=z(e[t]),n=z(e[s]);0===i&&0===n||p.push({type:a,reductionValue:i,chance:n})}),D=z(e["stat% debuff turns"]),E=z(e["buff turns"]);const U=p.map(({type:e,reductionValue:a,chance:t})=>Object.assign({id:"proc:51:"+e,originalId:s,sources:o,effectDelay:r,duration:E,value:{reductionValue:a,chance:t,debuffTurnDuration:D}},c));return 0===U.length&&(d(a,E,t)||d(a,D,t))&&U.push(Object.assign({id:G.TURN_DURATION_MODIFICATION,originalId:s,sources:o,value:{buffs:[u.AttackReduction,u.DefenseReduction,u.RecoveryReduction].map(e=>"proc:51:"+e),duration:E,debuffTurnDuration:D}},c)),F(U,f,{originalId:s,sources:o,targetData:c,effectDelay:r}),U}),e.set("52",(e,a,t)=>E({effect:e,context:a,injectionContext:t,effectValueKey:"bb gauge fill rate% buff",effectTurnDurationKey:"buff turns (77)",buffId:"proc:52",originalId:"52"})),e.set("53",(e,a,t)=>{const s="53",{targetData:c,sources:o,effectDelay:p}=i(e,a,t),f=[u.Poison,u.Weak,u.Sick,u.Injury,u.Curse,u.Paralysis],D={poison:"0",weak:"0",sick:"0",injury:"0",curse:"0",paralysis:"0"};let E,U=0;if(e.params){let a,s;[D.poison,D.weak,D.sick,D.injury,D.curse,D.paralysis,a,...s]=n(e),U=z(a),E=l(s,7,t)}else{const a=Object.keys(e).filter(e=>e.startsWith("counter inflict"));f.forEach(t=>{const s=a.find(e=>e.includes(t));s&&(D[t]=e[s])}),U=z(e["counter inflict ailment turns"])}const B=[];return f.forEach(e=>{const a=z(D[e]);0!==a&&B.push(Object.assign({id:"proc:53:"+e,originalId:s,sources:o,effectDelay:p,value:a,duration:U},c))}),0===B.length&&d(a,U,t)&&B.push(r({originalId:s,sources:o,buffs:f.map(e=>"proc:53:"+e),duration:U,targetData:c})),F(B,E,{originalId:s,sources:o,targetData:c,effectDelay:p}),B}),e.set("54",(e,a,t)=>E({effect:e,context:a,injectionContext:t,effectValueKey:"crit multiplier%",effectTurnDurationKey:"buff turns (84)",parseParamValue:e=>100*z(e),buffId:"proc:54",originalId:"54"}))}(Z)),Z}function te(e){return J&&!e||(J=new Map,function(e){const a=(e,{originalId:a,sources:t})=>({id:G.UNKNOWN_CONDITIONAL_BUFF_PARAMS,originalId:a,sources:t,value:e}),t=(e,t,{originalId:s,sources:i})=>{0===e.length&&e.push(function({originalId:e,sources:a}){return{id:G.NO_PARAMS_SPECIFIED,originalId:e,sources:a}}({originalId:s,sources:i})),t&&e.push(a(t,{originalId:s,sources:i}))};e.set("12",(e,a,s)=>{const i="12",n=(s&&s.createSourcesFromContext||V)(a),[c,...o]=e.params.split("&"),r=z(c),p=function(e,a,t){let s;return e&&e.length>0&&(s=(t&&t.createUnknownParamsValue||Q)(e,a)),s}(o,1,s),F=[{id:"buff:12:ko resistance",originalId:i,sources:n,duration:e.turnDuration,value:r}];return t(F,p,{originalId:i,sources:n}),F})}(J)),J}function se(e,a){if(!e||"object"!=typeof e)throw new TypeError("effect parameter should be an object");if(!a||"object"!=typeof a)throw new TypeError("context parameter should be an object");const t=te(a.reloadMapping).get(e.id);return"function"==typeof t?t(e,a):function(e,a){const t=e.id||n.Unknown;return[{id:G.UNKNOWN_CONDITIONAL_EFFECT_ID,originalId:t,sources:V(a)}]}(e,a)}function ie(e){return ee&&!e||(ee=new Map,function(e){const a={1:v.Fire,2:v.Water,3:v.Earth,4:v.Thunder,5:v.Light,6:v.Dark,X:L.OmniParadigm},t={1:P.Lord,2:P.Anima,3:P.Breaker,4:P.Guardian,5:P.Oracle,6:P.Rex},s={1:u.Poison,2:u.Weak,3:u.Sick,4:u.Injury,5:u.Curse,6:u.Paralysis,7:u.AttackReduction,8:u.DefenseReduction,9:u.RecoveryReduction},i=["atk","def","rec","crit","hp"],n=["poison","weak","sick","injury","curse","paralysis"],c=["bc","hc","item","zel","karma"],o=(e,a,t)=>({conditionInfo:(t&&t.processExtraSkillConditions||Y)(e),targetData:(t&&t.getPassiveTargetData||$)(e,a),sources:(t&&t.createSourcesFromContext||V)(a)}),r=(e,a,t)=>(t&&t.convertConditionalEffectToBuffs||se)(e,a),p=e=>e.params.split(","),F=(e,{originalId:a,sources:t,targetData:s,conditionInfo:i})=>Object.assign({id:G.UNKNOWN_PASSIVE_BUFF_PARAMS,originalId:a,sources:t,value:e,conditions:Object.assign({},i)},s),l=({originalId:e,sources:a})=>({id:G.NO_PARAMS_SPECIFIED,originalId:e,sources:a}),d=(e,a,{originalId:t,sources:s,targetData:i,conditionInfo:n})=>{0===e.length&&e.push(l({originalId:t,sources:s})),a&&e.push(F(a,{originalId:t,sources:s,targetData:i,conditionInfo:n}))},f=(e,a,t)=>{let s;return e&&e.length>0&&(s=(t&&t.createUnknownParamsValue||Q)(e,a)),s};let D;!function(e){e.Hp="hp",e.Bb="bb gauge"}(D||(D={}));const E=(e,a,t)=>({threshold:z(e),requireAbove:"1"===a,type:t}),U=(e,a,t="buff requirement")=>{let s=0,i=!1;return`${a} above % ${t}`in e?(s=z(e[`${a} above % ${t}`]),i=!0):(s=z(e[`${a} below % ${t}`]),i=!1),{threshold:s,requireAbove:i,type:a}},B=({threshold:e,requireAbove:a,type:t})=>{let s;return t===D.Hp?s=a?{hpGreaterThanOrEqualTo:e}:{hpLessThanOrEqualTo:e}:t===D.Bb&&(s=a?{bbGaugeGreaterThanOrEqualTo:e}:{bbGaugeLessThanOrEqualTo:e}),s},T=({effect:e,context:a,injectionContext:t,originalId:s,effectKey:i,buffId:n,parseParamValue:c=(e=>z(e))})=>{const{conditionInfo:r,targetData:F,sources:l}=o(e,a,t),u=e,D=[];let E,U=0;if(u.params){const[e,...a]=p(u);U=c(e),E=f(a,1,t)}else U=z(u[i]);return 0!==U&&D.push(Object.assign({id:n,originalId:s,sources:l,value:U,conditions:Object.assign({},r)},F)),d(D,E,{originalId:s,sources:l,targetData:F,conditionInfo:r}),D},R=({effect:e,context:a,injectionContext:t,originalId:s,effectKeyLow:i,effectKeyHigh:n,effectKeyChance:c,buffKeyLow:r,buffKeyHigh:F,defaultEffectChance:l=0,parseParamValue:u=(e=>z(e)),generateBaseConditions:D=(()=>({})),buffId:E})=>{const{conditionInfo:U,targetData:B,sources:T}=o(e,a,t),R=e;let g,m,A,v;if(R.params){const[e,a,s,...i]=p(R);g=u(e),m=u(a),A=z(s),v=f(i,3,t)}else g=z(R[i]),m=z(R[n]),A=z(R[c],l);const _=[];return 0===g&&0===m&&0===A||_.push(Object.assign({id:E,originalId:s,sources:T,value:{[r]:g,[F]:m,chance:A},conditions:Object.assign(Object.assign({},U),D())},B)),d(_,v,{originalId:s,sources:T,targetData:B,conditionInfo:U}),_};e.set("1",(e,a,t)=>{const s="1",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F=e,l=[],u={atk:"0",def:"0",rec:"0",crit:"0",hp:"0"};let D;if(F.params){let e;[u.atk,u.def,u.rec,u.crit,u.hp,...e]=p(F),D=f(e,5,t)}else u.hp=F["hp% buff"],u.atk=F["atk% buff"],u.def=F["def% buff"],u.rec=F["rec% buff"],u.crit=F["crit% buff"];return i.forEach(e=>{const a=z(u[e]);0!==a&&l.push(Object.assign({id:"passive:1:"+e,originalId:s,sources:r,value:a,conditions:Object.assign({},n)},c))}),d(l,D,{originalId:s,sources:r,targetData:c,conditionInfo:n}),l}),e.set("2",(e,t,s)=>{const n="2",{conditionInfo:c,targetData:r,sources:F}=o(e,t,s),l=e,u=[],D={elements:[],atk:"0",def:"0",rec:"0",crit:"0",hp:"0"};let E;if(l.params){let e,t,i;[t,i,D.atk,D.def,D.rec,D.crit,D.hp,...e]=p(l),[t,i].forEach(e=>{e&&"0"!==e&&D.elements.push(a[e]||L.Unknown)}),E=f(e,7,s)}else Array.isArray(l["elements buffed"])&&(D.elements=l["elements buffed"]),D.hp=l["hp% buff"],D.atk=l["atk% buff"],D.def=l["def% buff"],D.rec=l["rec% buff"],D.crit=l["crit% buff"];const U=e=>Object.assign({id:"passive:2:"+e,originalId:n,sources:F,value:z(D[e])},r);return D.elements.length>0?D.elements.forEach(e=>{i.forEach(a=>{0!==z(D[a])&&u.push(Object.assign(Object.assign({},U(a)),{conditions:Object.assign(Object.assign({},c),{targetElements:[e]})}))})}):i.forEach(e=>{0!==z(D[e])&&u.push(Object.assign(Object.assign({},U(e)),{conditions:Object.assign(Object.assign({},c),{targetElements:[L.Unknown]})}))}),d(u,E,{originalId:n,sources:F,targetData:r,conditionInfo:c}),u}),e.set("3",(e,a,s)=>{const n="3",{conditionInfo:c,targetData:r,sources:F}=o(e,a,s),l=e,u=[],D={unitType:"",atk:"0",def:"0",rec:"0",crit:"0",hp:"0"};let E;if(l.params){let e,a;[a,D.atk,D.def,D.rec,D.crit,D.hp,...e]=p(l),a&&"0"!==a&&(D.unitType=t[a]||"unknown"),E=f(e,6,s)}else D.unitType=l["unit type buffed"],D.hp=l["hp% buff"],D.atk=l["atk% buff"],D.def=l["def% buff"],D.rec=l["rec% buff"],D.crit=l["crit% buff"];const U=D.unitType||"unknown";return i.forEach(e=>{const a=z(D[e]);0!==a&&u.push(Object.assign({id:"passive:3:"+e,originalId:n,sources:F,value:+a,conditions:Object.assign(Object.assign({},c),{targetUnitType:U})},r))}),d(u,E,{originalId:n,sources:F,targetData:r,conditionInfo:c}),u}),e.set("4",(e,a,t)=>{const s="4",{conditionInfo:i,targetData:c,sources:r}=o(e,a,t),F=e,l=[],u={poison:"0",weak:"0",sick:"0",injury:"0",curse:"0",paralysis:"0"};let D;if(F.params){let e;[u.poison,u.weak,u.sick,u.injury,u.curse,u.paralysis,...e]=p(F),D=f(e,6,t)}else n.forEach(e=>{const a="weak"!==e?e:"weaken";u[e]=F[a+" resist%"]});return n.forEach(e=>{const a=z(u[e]);0!==a&&l.push(Object.assign({id:"passive:4:"+e,originalId:s,sources:r,value:a,conditions:Object.assign({},i)},c))}),d(l,D,{originalId:s,sources:r,targetData:c,conditionInfo:i}),l}),e.set("5",(e,t,s)=>{const i="5",{conditionInfo:n,targetData:c,sources:r}=o(e,t,s),F=e,l=[];let u,D,E="0";if(F.params){let e,t;[t,E,...e]=p(F),u=a[t]||L.Unknown,D=f(e,2,s)}else u=Object.values(a).find(a=>a+" resist%"in e)||L.Unknown,u!==L.Unknown&&(E=F[u+" resist%"]);const U=z(E);return 0!==U&&l.push(Object.assign({id:"passive:5:"+u,originalId:i,sources:r,value:U,conditions:Object.assign({},n)},c)),d(l,D,{originalId:i,sources:r,targetData:c,conditionInfo:n}),l}),e.set("8",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"dmg% mitigation",buffId:"passive:8",originalId:"8"})),e.set("9",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"bc fill per turn",buffId:"passive:9",originalId:"9"})),e.set("10",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"hc effectiveness%",buffId:"passive:10",originalId:"10"})),e.set("11",(e,a,t)=>{const s="11",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F=e,l=[],u={atk:"0",def:"0",rec:"0",crit:"0"};let T,R;if(F.params){let e,a,s;[u.atk,u.def,u.rec,u.crit,s,a,...e]=p(F),T=E(s,a,D.Hp),R=f(e,6,t)}else u.atk=F["atk% buff"],u.def=F["def% buff"],u.rec=F["rec% buff"],u.crit=F["crit% buff"],T=U(F,D.Hp);const g=B(T);return i.forEach(e=>{const a=z(u[e]);if("hp"!==e&&0!==a){const t=Object.assign({id:"passive:11:"+e,originalId:s,sources:r,value:a,conditions:Object.assign(Object.assign({},n),g)},c);l.push(t)}}),d(l,R,{originalId:s,sources:r,targetData:c,conditionInfo:n}),l}),e.set("12",(e,a,t)=>{const s="12",{conditionInfo:i,targetData:n,sources:r}=o(e,a,t),F=e,l=[],u={bc:"0",hc:"0",item:"0",zel:"0",karma:"0"};let T,R;if(F.params){let e,a,s;[u.bc,u.hc,u.item,u.zel,u.karma,s,a,...e]=p(F),T=E(s,a,D.Hp),R=f(e,7,t)}else c.forEach(e=>{u[e]=F[e+" drop rate% buff"]}),T=U(F,D.Hp);const g=B(T);return c.forEach(e=>{const a=z(u[e]);if(0!==a){const t=Object.assign({id:"passive:12:"+e,originalId:s,sources:r,value:a,conditions:Object.assign(Object.assign({},i),g)},n);l.push(t)}}),d(l,R,{originalId:s,sources:r,targetData:n,conditionInfo:i}),l}),e.set("13",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"13",effectKeyLow:"bc fill on enemy defeat low",effectKeyHigh:"bc fill on enemy defeat high",effectKeyChance:"bc fill on enemy defeat%",buffKeyLow:"fillLow",buffKeyHigh:"fillHigh",parseParamValue:e=>z(e)/100,generateBaseConditions:()=>({onEnemyDefeat:!0}),buffId:"passive:13"})),e.set("14",(e,a,t)=>{const s="14",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l,u;if(r.params){const[e,a,...s]=p(r);F=z(e),l=z(a),u=f(s,2,t)}else F=z(r["dmg reduction%"]),l=z(r["dmg reduction chance%"]);const D=[];return 0===F&&0===l||D.push(Object.assign({id:"passive:14",originalId:s,sources:c,value:{value:F,chance:l},conditions:Object.assign({},i)},n)),d(D,u,{originalId:s,sources:c,targetData:n,conditionInfo:i}),D}),e.set("15",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"15",effectKeyLow:"hp% recover on enemy defeat low",effectKeyHigh:"hp% recover on enemy defeat high",effectKeyChance:"hp% recover on enemy defeat chance%",buffKeyLow:"healLow",buffKeyHigh:"healHigh",generateBaseConditions:()=>({onEnemyDefeat:!0}),defaultEffectChance:100,buffId:"passive:15"})),e.set("16",(e,a,t)=>{const s="16",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l,u;if(r.params){const[e,a,...s]=p(r);F=z(e),l=z(a),u=f(s,2,t)}else F=z(r["hp% recover on battle win low"]),l=z(r["hp% recover on battle win high"]);const D=[];return 0===F&&0===l||D.push(Object.assign({id:"passive:16",originalId:s,sources:c,value:{healLow:F,healHigh:l},conditions:Object.assign(Object.assign({},i),{onBattleWin:!0})},n)),d(D,u,{originalId:s,sources:c,targetData:n,conditionInfo:i}),D}),e.set("17",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"17",effectKeyLow:"hp drain% low",effectKeyHigh:"hp drain% high",effectKeyChance:"hp drain chance%",buffKeyLow:"drainHealLow",buffKeyHigh:"drainHealHigh",buffId:"passive:17"})),e.set("19",(e,a,t)=>{const s="19",{conditionInfo:i,targetData:n,sources:r}=o(e,a,t),F=e,l=[],u={bc:"0",hc:"0",item:"0",zel:"0",karma:"0"};let D;if(F.params){let e;[u.bc,u.hc,u.item,u.zel,u.karma,...e]=p(F),D=f(e,5,t)}else c.forEach(e=>{u[e]=F[e+" drop rate% buff"]});return c.forEach(e=>{const a=z(u[e]);0!==a&&l.push(Object.assign({id:"passive:19:"+e,originalId:s,sources:r,value:a,conditions:Object.assign({},i)},n))}),d(l,D,{originalId:s,sources:r,targetData:n,conditionInfo:i}),l}),e.set("20",(e,a,t)=>{const i="20",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F=[],l=e;let D;if(l.params){let e=p(l);e.length%2!=0&&"0"!==e[e.length-1]&&(D=f(e.slice(-1),e.length-1,t),e=e.slice(0,e.length-1));const a=e.length;for(let t=0;t<a;t+=2){const a=e[t],i=z(e[t+1]);if("0"!==a||0!==i){const e=s[a]||u.Unknown;F.push({ailment:e,chance:i})}}}else Object.values(s).forEach(a=>{let t;t=a===u.Weak?"weaken%":a===u.AttackReduction||a===u.DefenseReduction||a===u.RecoveryReduction?a:a+"%",t in e&&F.push({ailment:a,chance:z(l[t])})});const E=[];return F.forEach(({ailment:e,chance:a})=>{0!==a&&E.push(Object.assign({id:"passive:20:"+e,originalId:i,sources:r,value:a,conditions:Object.assign({},n)},c))}),d(E,D,{originalId:i,sources:r,targetData:c,conditionInfo:n}),E}),e.set("21",(e,a,t)=>{const s="21",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F=e,l=[],u={atk:"0",def:"0",rec:"0",crit:"0"};let D,E=0;if(F.params){let e,a;[u.atk,u.def,u.rec,u.crit,e,...a]=p(F),E=z(e),D=f(a,5,t)}else u.atk=F["first x turns atk% (1)"],u.def=F["first x turns def% (3)"],u.rec=F["first x turns rec% (5)"],u.crit=F["first x turns crit% (7)"],E=z(F["first x turns"]);return i.forEach(e=>{const a=z(u[e]);if("hp"!==e&&0!==a){const t=Object.assign({id:"passive:21:"+e,originalId:s,sources:r,value:a,duration:E,conditions:Object.assign({},n)},c);l.push(t)}}),d(l,D,{originalId:s,sources:r,targetData:c,conditionInfo:n}),l}),e.set("23",(e,a,t)=>{const s="23",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l,u;if(r.params){const[e,a,...s]=p(r);F=z(e)/100,l=z(a)/100,u=f(s,2,t)}else F=z(r["battle end bc fill low"]),l=z(r["battle end bc fill high"]);const D=[];return 0===F&&0===l||D.push(Object.assign({id:"passive:23",originalId:s,sources:c,value:{fillLow:F,fillHigh:l},conditions:Object.assign(Object.assign({},i),{onBattleWin:!0})},n)),d(D,u,{originalId:s,sources:c,targetData:n,conditionInfo:i}),D}),e.set("24",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"24",effectKeyLow:"dmg% to hp when attacked low",effectKeyHigh:"dmg% to hp when attacked high",effectKeyChance:"dmg% to hp when attacked chance%",buffKeyLow:"healLow",buffKeyHigh:"healHigh",generateBaseConditions:()=>({whenAttacked:!0}),buffId:"passive:24"})),e.set("25",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"25",effectKeyLow:"bc fill when attacked low",effectKeyHigh:"bc fill when attacked high",effectKeyChance:"bc fill when attacked%",buffKeyLow:"fillLow",buffKeyHigh:"fillHigh",parseParamValue:e=>z(e)/100,generateBaseConditions:()=>({whenAttacked:!0}),buffId:"passive:25"})),e.set("26",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"26",effectKeyLow:"dmg% reflect low",effectKeyHigh:"dmg% reflect high",effectKeyChance:"dmg% reflect chance%",buffKeyLow:"damageReflectLow",buffKeyHigh:"damageReflectHigh",generateBaseConditions:()=>({whenAttacked:!0}),buffId:"passive:26"})),e.set("27",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"target% chance",buffId:"passive:27",originalId:"27"})),e.set("28",(e,a,t)=>{const s="28",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l,u=0;if(r.params){const[e,a,s,...i]=p(r);u=z(e),F=E(a,s,D.Hp),l=f(i,3,t)}else u=z(r["target% chance"]),F=U(r,D.Hp,"passive requirement");const T=[];if(0!==u){const e=B(F),a=Object.assign({id:"passive:28",originalId:s,sources:c,value:u,conditions:Object.assign(Object.assign({},i),e)},n);T.push(a)}return d(T,l,{originalId:s,sources:c,targetData:n,conditionInfo:i}),T}),e.set("29",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"ignore def%",buffId:"passive:29",originalId:"29"})),e.set("30",(e,a,t)=>{const s="30",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F=e,l=[],u={atk:"0",def:"0",rec:"0",crit:"0"};let T,R;if(F.params){let e,a,s;[u.atk,u.def,u.rec,u.crit,s,a,...e]=p(F),T=E(s,a,D.Bb),R=f(e,6,t)}else u.atk=F["atk% buff"],u.def=F["def% buff"],u.rec=F["rec% buff"],u.crit=F["crit% buff"],T=U(F,D.Bb);const g=B(T);return i.forEach(e=>{const a=z(u[e]);if("hp"!==e&&0!==a){const t=Object.assign({id:"passive:30:"+e,originalId:s,sources:r,value:a,conditions:Object.assign(Object.assign({},n),g)},c);l.push(t)}}),d(l,R,{originalId:s,sources:r,targetData:c,conditionInfo:n}),l}),e.set("31",(e,a,t)=>{const s="31",{conditionInfo:i,targetData:n,sources:r}=o(e,a,t),F=e,l={bc:"0",hc:"0",item:"0",zel:"0",karma:"0"};let u,D=0;if(F.params){let e,a;[a,l.bc,l.hc,l.item,l.zel,l.karma,...e]=p(F),D=z(a),u=f(e,6,t)}else D=z(F["damage% for spark"]),c.forEach(e=>{l[e]=F[e+" drop% for spark"]});const E=[];return 0!==D&&E.push(Object.assign({id:"passive:31:damage",originalId:s,sources:r,value:D,conditions:Object.assign({},i)},n)),c.forEach(e=>{const a=z(l[e]);0!==a&&E.push(Object.assign({id:"passive:31:"+e,originalId:s,sources:r,value:a,conditions:Object.assign({},i)},n))}),d(E,u,{originalId:s,sources:r,targetData:n,conditionInfo:i}),E}),e.set("32",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"bb gauge fill rate%",buffId:"passive:32",originalId:"32"})),e.set("33",(e,a,t)=>{const s="33",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l,u,D;if(r.params){const[e,a,s,...i]=p(r);F=z(e),l=z(a),u=10*(1+z(s)/100),D=f(i,3,t)}else F=z(r["turn heal low"]),l=z(r["turn heal high"]),u=z(r["rec% added (turn heal)"]);const E=[];return 0===F&&0===l||E.push(Object.assign({id:"passive:33",originalId:s,sources:c,value:{healLow:F,healHigh:l,"addedRec%":u},conditions:Object.assign({},i)},n)),d(E,D,{originalId:s,sources:c,targetData:n,conditionInfo:i}),E}),e.set("34",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"crit multiplier%",buffId:"passive:34",originalId:"34",parseParamValue:e=>100*z(e)})),e.set("35",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"35",effectKeyLow:"bc fill when attacking low",effectKeyHigh:"bc fill when attacking high",effectKeyChance:"bc fill when attacking%",buffKeyLow:"fillLow",buffKeyHigh:"fillHigh",parseParamValue:e=>z(e)/100,generateBaseConditions:()=>({onNormalAttack:!0}),buffId:"passive:35"})),e.set("36",(e,a,t)=>{const s="36",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l=0,u=0,D=0;if(r.params){const[e,a,s,...i]=p(r);l=z(e),u=z(a),D=z(s),F=f(i,3,t)}else l=z(r["additional actions"]);const E=[];return 0===l&&0===u&&0===D||E.push(Object.assign({id:"passive:36",originalId:s,sources:c,value:{additionalActions:l,damageModifier:u,chance:D},conditions:Object.assign({},i)},n)),d(E,F,{originalId:s,sources:c,targetData:n,conditionInfo:i}),E}),e.set("37",(e,a,t)=>{const s="37",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l=0,u=0;if(r.params){const e=p(r);l=z(e[0]),u=z(e[2]);const a=["0",e[1],"0",...e.slice(3)];F=f(a,0,t)}else l=z(r["hit increase/hit"]),u=z(r["extra hits dmg%"]);const D=[];return 0===l&&0===u||D.push(Object.assign({id:"passive:37",originalId:s,sources:c,value:{hitIncreasePerHit:l,extraHitDamage:u},conditions:Object.assign({},i)},n)),d(D,F,{originalId:s,sources:c,targetData:n,conditionInfo:i}),D}),e.set("40",(e,a,t)=>{const s="40",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e,F=["atk","def","rec"],l={1:"atk",2:"def",3:"rec",4:"hp"},u={attack:"atk",defense:"def",recovery:"rec",hp:"hp"},D={atk:"0",def:"0",rec:"0"};let E,U="unknown";if(r.params){let e,a;[a,D.atk,D.def,D.rec,...e]=p(r),U=l[a]||"unknown",E=f(e,4,t)}else{const e=r["converted attribute"];U=e in u?u[e]:"unknown",F.forEach(e=>{const a=e+"% buff";a in r&&(D[e]=r[a])})}const B=[];return F.forEach(e=>{const a=z(D[e]);0!==a&&B.push(Object.assign({id:"passive:40:"+e,originalId:s,sources:c,value:{convertedStat:U,value:a},conditions:Object.assign({},i)},n))}),d(B,E,{originalId:s,sources:c,targetData:n,conditionInfo:i}),B}),e.set("41",(e,a,t)=>{const s="41",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F=e,l=[],u={minimumElements:"0",atk:"0",def:"0",rec:"0",crit:"0",hp:"0"};let D;if(F.params){let e;[u.minimumElements,u.atk,u.def,u.rec,u.crit,u.hp,...e]=p(F),D=f(e,6,t)}else u.minimumElements=F["unique elements required"],u.hp=F["hp% buff"],u.atk=F["atk% buff"],u.def=F["def% buff"],u.rec=F["rec% buff"],u.crit=F["crit% buff"];const E=z(u.minimumElements);return i.forEach(e=>{const a=z(u[e]);0!==a&&l.push(Object.assign({id:"passive:41:"+e,originalId:s,sources:r,value:+a,conditions:Object.assign(Object.assign({},n),{minumumUniqueElements:E})},c))}),d(l,D,{originalId:s,sources:r,targetData:c,conditionInfo:n}),l}),e.set("42",(e,a,t)=>{const s="42",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F={0:_.Other,1:_.Male,2:_.Female},l=e,u=[],D={gender:"",atk:"0",def:"0",rec:"0",crit:"0",hp:"0"};let E;if(l.params){let e,a;[a,D.atk,D.def,D.rec,D.crit,D.hp,...e]=p(l),D.gender=F[a]||"unknown",E=f(e,6,t)}else D.gender=l["gender required"],D.hp=l["hp% buff"],D.atk=l["atk% buff"],D.def=l["def% buff"],D.rec=l["rec% buff"],D.crit=l["crit% buff"];const U=D.gender||"unknown";return i.forEach(e=>{const a=z(D[e]);0!==a&&u.push(Object.assign({id:"passive:42:"+e,originalId:s,sources:r,value:+a,conditions:Object.assign(Object.assign({},n),{targetGender:U})},c))}),d(u,E,{originalId:s,sources:r,targetData:c,conditionInfo:n}),u}),e.set("43",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"take 1 dmg%",buffId:"passive:43",originalId:"43"})),e.set("44",(e,a,t)=>{const s="44",{conditionInfo:n,targetData:c,sources:r}=o(e,a,t),F=e,l=[],u={atk:"0",def:"0",rec:"0",crit:"0",hp:"0"};let D;if(F.params){let e;[u.atk,u.def,u.rec,u.crit,u.hp,...e]=p(F),D=f(e,5,t)}else u.hp=F["hp buff"],u.atk=F["atk buff"],u.def=F["def buff"],u.rec=F["rec buff"],u.crit=F["crit buff"];return i.forEach(e=>{const a=z(u[e]);0!==a&&l.push(Object.assign({id:"passive:44:"+e,originalId:s,sources:r,value:a,conditions:Object.assign({},n)},c))}),d(l,D,{originalId:s,sources:r,targetData:c,conditionInfo:n}),l}),e.set("45",(e,a,t)=>{const s="45",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F,l=0,u=0;if(r.params){const[e,a,...s]=p(r);l=z(e),u=z(a),F=f(s,2,t)}else l=z(r["base crit% resist"]),u=z(r["buff crit% resist"]);const D=[];return 0!==l&&D.push(Object.assign({id:"passive:45:base",originalId:s,sources:c,value:l,conditions:Object.assign({},i)},n)),0!==u&&D.push(Object.assign({id:"passive:45:buff",originalId:s,sources:c,value:u,conditions:Object.assign({},i)},n)),d(D,F,{originalId:s,sources:c,targetData:n,conditionInfo:i}),D}),e.set("46",(e,a,t)=>{const s="46",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=["atk","def","rec"],F=[];let l="unknown";const u=e;let D;if(u.params){const e=p(u);r.forEach((a,t)=>{const s=z(e[2*t]),i=z(e[2*t+1]);0===s&&0===i||F.push({stat:a,baseValue:s,addedValue:i})}),l="1"===e[6]?"lost":"remaining",D=f(e.slice(7),7,t)}else r.forEach(e=>{const a=z(u[e+"% base buff"]),t=z(u[e+"% extra buff based on hp"]);0===a&&0===t||F.push({stat:e,baseValue:a,addedValue:t})}),l=u["buff proportional to hp"]||"unknown";const E=F.map(({stat:e,baseValue:a,addedValue:t})=>Object.assign({id:"passive:46:"+e,originalId:s,sources:c,value:{baseValue:a,addedValue:t,proportionalMode:l},conditions:Object.assign({},i)},n));return d(E,D,{originalId:s,sources:c,targetData:n,conditionInfo:i}),E}),e.set("47",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"47",effectKeyLow:"bc fill on spark low",effectKeyHigh:"bc fill on spark high",effectKeyChance:"bc fill on spark%",buffKeyLow:"fillLow",buffKeyHigh:"fillHigh",parseParamValue:e=>z(e)/100,buffId:"passive:47"})),e.set("48",(e,a,t)=>T({effect:e,context:a,injectionContext:t,effectKey:"reduced bb bc cost%",buffId:"passive:48",originalId:"48"})),e.set("49",(e,a,t)=>R({effect:e,context:a,injectionContext:t,originalId:"49",effectKeyLow:"reduced bb bc use% low",effectKeyHigh:"reduced bb bc use% high",effectKeyChance:"reduced bb bc use chance%",buffKeyLow:"reducedUseLow%",buffKeyHigh:"reducedUseHigh%",buffId:"passive:49"})),e.set("50",(e,t,s)=>{const i="50",{conditionInfo:n,targetData:c,sources:r}=o(e,t,s),F=e;let l,u,D=0;if(F.params){const e=p(F);l=e.filter((e,a)=>"0"!==e&&a<6).map(e=>a[e]||L.Unknown),D=z(e[6]),u=f(e.slice(7),7,s)}else l=Object.values(a).filter(e=>!!F[e+" units do extra elemental weakness dmg"]),D=z(F["elemental weakness multiplier%"]);let E=[];return 0!==D&&(E=l.map(e=>Object.assign({id:"passive:50:"+e,originalId:i,sources:r,value:D,conditions:Object.assign({},n)},c)),0===E.length&&E.push(Object.assign({id:"passive:50:unknown",originalId:i,sources:r,value:D,conditions:Object.assign({},n)},c))),d(E,u,{originalId:i,sources:r,targetData:c,conditionInfo:n}),E}),e.set("53",(e,a,t)=>{const s="53",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),r=e;let F;!function(e){e.CriticalDamage="critical-damage",e.ElementDamage="element-damage",e.CriticalHitRate="critical-rate"}(F||(F={}));const l=[];let u;if(r.params){const[e,a,s,i,n,c,...o]=p(r);[{resistType:F.CriticalDamage,base:z(e),buff:z(a)},{resistType:F.ElementDamage,base:z(s),buff:z(i)},{resistType:F.CriticalHitRate,base:z(n),buff:z(c)}].forEach(({resistType:e,base:a,buff:t})=>{0===a&&0===t||l.push({resistType:e,base:a,buff:t})}),u=f(o,6,t)}else[{resistType:F.CriticalDamage,baseKey:"crit dmg base damage resist%",buffKey:"crit dmg buffed damage resist%"},{resistType:F.ElementDamage,baseKey:"strong base element damage resist%",buffKey:"strong buffed element damage resist%"},{resistType:F.CriticalHitRate,baseKey:"crit chance base resist%",buffKey:"crit chance buffed resist%"}].forEach(({resistType:e,baseKey:a,buffKey:t})=>{const s=z(r[a]),i=z(r[t]);0===s&&0===i||l.push({resistType:e,base:s,buff:i})});const D=[];return l.forEach(({resistType:e,base:a,buff:t})=>{0!==a&&D.push(Object.assign({id:`passive:53:${e}-base`,originalId:s,sources:c,value:a,conditions:Object.assign({},i)},n)),0!==t&&D.push(Object.assign({id:`passive:53:${e}-buff`,originalId:s,sources:c,value:t,conditions:Object.assign({},i)},n))}),d(D,u,{originalId:s,sources:c,targetData:n,conditionInfo:i}),D}),e.set("55",(e,a,t)=>{const s="55",{conditionInfo:i,targetData:n,sources:c}=o(e,a,t),F=p(e),l=r({id:F[0],params:F[1],turnDuration:z(F[5])},a,t),u=E(F[3],F[4],D.Hp),U=f(["0,0",F[2],"0,0",...F.slice(5)],0,t),T=B(u),R=[];return l.length>0&&R.push(Object.assign({id:"passive:55:hp condition",originalId:s,sources:c,value:l,conditions:Object.assign(Object.assign({},i),T)},n)),d(R,U,{originalId:s,sources:c,targetData:n,conditionInfo:i}),R})}(ee)),ee}!function(e){e.Active="active",e.Passive="passive",e.ConditionalTimed="conditionalTimed",e.Singleton="singleton",e.Burst="burst",e.Attack="attack",e.Unknown="unknown"}(W||(W={})),function(e){e.BraveBurst="bb",e.SuperBraveBurst="sbb",e.UltimateBraveBurst="ubb",e.DualBraveBurst="dbb",e.BondedBraveBurst="bbb",e.BondedSuperBraveBurst="dsbb",e.SpEnhancement="sp",e.Item="item",e.LeaderSkill="ls",e.ExtraSkill="es",e.OmniParadigm="omniParadigm",e.UnitTypeBonus="unitTypeBonus",e.Quest="quest"}(w||(w={})),function(e){e.Unknown="unknown",e.OmniParadigm="omniParadigm",e.All="all"}(L||(L={})),function(e){e.hp="hp",e.atk="atk",e.def="def",e.rec="rec",e.crit="crit",e.hpRecovery="hpRecovery",e.bbGauge="bbGauge",e.odGauge="odGauge",e.bcDropRate="bcDropRate",e.hcDropRate="hcDropRate",e.itemDropRate="itemDropRate",e.zelDropRate="zelDropRate",e.karmaDropRate="karmaDropRate",e.bcEfficacy="bcEfficacy",e.hcEfficacy="hcEfficacy",e.bcCostReduction="bcCostReduction",e.bbGaugeConsumptionReduction="bbGaugeConsumptionReduction",e.poisonResist="poisonResist",e.weakResist="weakResist",e.sickResist="sickResist",e.injuryResist="injuryResist",e.curseResist="curseResist",e.paralysisResist="paralysisResist",e.poisonInflict="poisonInflict",e.weakInflict="weakInflict",e.sickInflict="sickInflict",e.injuryInflict="injuryInflict",e.curseInflict="curseInflict",e.paralysisInflict="paralysisInflict",e.poisonCounter="poisonCounter",e.weakCounter="weakCounter",e.sickCounter="sickCounter",e.injuryCounter="injuryCounter",e.curseCounter="curseCounter",e.paralysisCounter="paralysisCounter",e.atkDownResist="atkDownResist",e.defDownResist="defDownResist",e.recDownResist="recDownResist",e.atkDownInflict="atkDownInflict",e.defDownInflict="defDownInflict",e.recDownInflict="recDownInflict",e.mitigation="mitigation",e.fireMitigation="fireMitigation",e.waterMitigation="waterMitigation",e.earthMitigation="earthMitigation",e.thunderMitigation="thunderMitigation",e.lightMitigation="lightMitigation",e.darkMitigation="darkMitigation",e.reduceDamageToOne="reduceDamageToOne",e.fireElementalDamage="fireElementalDamage",e.waterElementalDamage="waterElementalDamage",e.earthElementalDamage="earthElementalDamage",e.thunderElementalDamage="thunderElementalDamage",e.lightElementalDamage="lightElementalDamage",e.darkElementalDamage="darkElementalDamage",e.elementalWeaknessDamageMitigation="elementalWeaknessDamageMitigation",e.turnDurationModification="turnDurationModification",e.koResistance="koResistance",e.revive="revive",e.defenseIgnore="defenseIgnore",e.criticalDamage="criticalDamage",e.criticalDamageMitigation="criticalDamageMitigation",e.sparkDamage="sparkDamage",e.bbAtk="bbAtk",e.hitCountModification="hitCountModification",e.damageReflect="damageReflect",e.targetingModification="targetingModification",e.elementModification="elementModification",e.buffStabilityModification="buffStabilityModification",e.extraAction="extraAction",e.damageOverTime="damageOverTime"}(M||(M={})),function(e){e.UNKNOWN="UNKNOWN",e.TURN_DURATION_UP="TURN_DURATION_UP",e.TURN_DURATION_DOWN="TURN_DURATION_DOWN",e.BUFF_HPUP="BUFF_HPUP",e.BUFF_HPDOWN="BUFF_HPDOWN",e.BUFF_ATKUP="BUFF_ATKUP",e.BUFF_ATKDOWN="BUFF_ATKDOWN",e.BUFF_DEFUP="BUFF_DEFUP",e.BUFF_DEFDOWN="BUFF_DEFDOWN",e.BUFF_RECUP="BUFF_RECUP",e.BUFF_RECDOWN="BUFF_RECDOWN",e.BUFF_CRTRATEUP="BUFF_CRTRATEUP",e.BUFF_CRTRATEDOWN="BUFF_CRTRATEDOWN",e.BUFF_HPTHRESHATKUP="BUFF_HPTHRESHATKUP",e.BUFF_HPTHRESHATKDOWN="BUFF_HPTHRESHATKDOWN",e.BUFF_HPTHRESHDEFUP="BUFF_HPTHRESHDEFUP",e.BUFF_HPTHRESHDEFDOWN="BUFF_HPTHRESHDEFDOWN",e.BUFF_HPTHRESHRECUP="BUFF_HPTHRESHRECUP",e.BUFF_HPTHRESHRECDOWN="BUFF_HPTHRESHRECDOWN",e.BUFF_HPTHRESHCRTRATEUP="BUFF_HPTHRESHCRTRATEUP",e.BUFF_HPTHRESHCRTRATEDOWN="BUFF_HPTHRESHCRTRATEDOWN",e.BUFF_BBGAUGETHRESHATKUP="BUFF_BBGAUGETHRESHATKUP",e.BUFF_BBGAUGETHRESHATKDOWN="BUFF_BBGAUGETHRESHATKDOWN",e.BUFF_BBGAUGETHRESHDEFUP="BUFF_BBGAUGETHRESHDEFUP",e.BUFF_BBGAUGETHRESHDEFDOWN="BUFF_BBGAUGETHRESHDEFDOWN",e.BUFF_BBGAUGETHRESHRECUP="BUFF_BBGAUGETHRESHRECUP",e.BUFF_BBGAUGETHRESHRECDOWN="BUFF_BBGAUGETHRESHRECDOWN",e.BUFF_BBGAUGETHRESHCRTRATEUP="BUFF_BBGAUGETHRESHCRTRATEUP",e.BUFF_BBGAUGETHRESHCRTRATEDOWN="BUFF_BBGAUGETHRESHCRTRATEDOWN",e.BUFF_HPREC="BUFF_HPREC",e.BUFF_BBREC="BUFF_BBREC",e.BUFF_DAMAGEBB="BUFF_DAMAGEBB",e.BUFF_BEENATK_HPREC="BUFF_BEENATK_HPREC",e.BUFF_FIREHPUP="BUFF_FIREHPUP",e.BUFF_FIREHPDOWN="BUFF_FIREHPDOWN",e.BUFF_FIREATKUP="BUFF_FIREATKUP",e.BUFF_FIREATKDOWN="BUFF_FIREATKDOWN",e.BUFF_FIREDEFUP="BUFF_FIREDEFUP",e.BUFF_FIREDEFDOWN="BUFF_FIREDEFDOWN",e.BUFF_FIRERECUP="BUFF_FIRERECUP",e.BUFF_FIRERECDOWN="BUFF_FIRERECDOWN",e.BUFF_FIRECRTRATEUP="BUFF_FIRECRTRATEUP",e.BUFF_FIRECRTRATEDOWN="BUFF_FIRECRTRATEDOWN",e.BUFF_WATERHPUP="BUFF_WATERHPUP",e.BUFF_WATERHPDOWN="BUFF_WATERHPDOWN",e.BUFF_WATERATKUP="BUFF_WATERATKUP",e.BUFF_WATERATKDOWN="BUFF_WATERATKDOWN",e.BUFF_WATERDEFUP="BUFF_WATERDEFUP",e.BUFF_WATERDEFDOWN="BUFF_WATERDEFDOWN",e.BUFF_WATERRECUP="BUFF_WATERRECUP",e.BUFF_WATERRECDOWN="BUFF_WATERRECDOWN",e.BUFF_WATERCRTRATEUP="BUFF_WATERCRTRATEUP",e.BUFF_WATERCRTRATEDOWN="BUFF_WATERCRTRATEDOWN",e.BUFF_EARTHHPUP="BUFF_EARTHHPUP",e.BUFF_EARTHHPDOWN="BUFF_EARTHHPDOWN",e.BUFF_EARTHATKUP="BUFF_EARTHATKUP",e.BUFF_EARTHATKDOWN="BUFF_EARTHATKDOWN",e.BUFF_EARTHDEFUP="BUFF_EARTHDEFUP",e.BUFF_EARTHDEFDOWN="BUFF_EARTHDEFDOWN",e.BUFF_EARTHRECUP="BUFF_EARTHRECUP",e.BUFF_EARTHRECDOWN="BUFF_EARTHRECDOWN",e.BUFF_EARTHCRTRATEUP="BUFF_EARTHCRTRATEUP",e.BUFF_EARTHCRTRATEDOWN="BUFF_EARTHCRTRATEDOWN",e.BUFF_THUNDERHPUP="BUFF_THUNDERHPUP",e.BUFF_THUNDERHPDOWN="BUFF_THUNDERHPDOWN",e.BUFF_THUNDERATKUP="BUFF_THUNDERATKUP",e.BUFF_THUNDERATKDOWN="BUFF_THUNDERATKDOWN",e.BUFF_THUNDERDEFUP="BUFF_THUNDERDEFUP",e.BUFF_THUNDERDEFDOWN="BUFF_THUNDERDEFDOWN",e.BUFF_THUNDERRECUP="BUFF_THUNDERRECUP",e.BUFF_THUNDERRECDOWN="BUFF_THUNDERRECDOWN",e.BUFF_THUNDERCRTRATEUP="BUFF_THUNDERCRTRATEUP",e.BUFF_THUNDERCRTRATEDOWN="BUFF_THUNDERCRTRATEDOWN",e.BUFF_LIGHTHPUP="BUFF_LIGHTHPUP",e.BUFF_LIGHTHPDOWN="BUFF_LIGHTHPDOWN",e.BUFF_LIGHTATKUP="BUFF_LIGHTATKUP",e.BUFF_LIGHTATKDOWN="BUFF_LIGHTATKDOWN",e.BUFF_LIGHTDEFUP="BUFF_LIGHTDEFUP",e.BUFF_LIGHTDEFDOWN="BUFF_LIGHTDEFDOWN",e.BUFF_LIGHTRECUP="BUFF_LIGHTRECUP",e.BUFF_LIGHTRECDOWN="BUFF_LIGHTRECDOWN",e.BUFF_LIGHTCRTRATEUP="BUFF_LIGHTCRTRATEUP",e.BUFF_LIGHTCRTRATEDOWN="BUFF_LIGHTCRTRATEDOWN",e.BUFF_DARKHPUP="BUFF_DARKHPUP",e.BUFF_DARKHPDOWN="BUFF_DARKHPDOWN",e.BUFF_DARKATKUP="BUFF_DARKATKUP",e.BUFF_DARKATKDOWN="BUFF_DARKATKDOWN",e.BUFF_DARKDEFUP="BUFF_DARKDEFUP",e.BUFF_DARKDEFDOWN="BUFF_DARKDEFDOWN",e.BUFF_DARKRECUP="BUFF_DARKRECUP",e.BUFF_DARKRECDOWN="BUFF_DARKRECDOWN",e.BUFF_DARKCRTRATEUP="BUFF_DARKCRTRATEUP",e.BUFF_DARKCRTRATEDOWN="BUFF_DARKCRTRATEDOWN",e.BUFF_ELEMENTHPUP="BUFF_ELEMENTHPUP",e.BUFF_ELEMENTHPDOWN="BUFF_ELEMENTHPDOWN",e.BUFF_ELEMENTATKUP="BUFF_ELEMENTATKUP",e.BUFF_ELEMENTATKDOWN="BUFF_ELEMENTATKDOWN",e.BUFF_ELEMENTDEFUP="BUFF_ELEMENTDEFUP",e.BUFF_ELEMENTDEFDOWN="BUFF_ELEMENTDEFDOWN",e.BUFF_ELEMENTRECUP="BUFF_ELEMENTRECUP",e.BUFF_ELEMENTRECDOWN="BUFF_ELEMENTRECDOWN",e.BUFF_ELEMENTCRTRATEUP="BUFF_ELEMENTCRTRATEUP",e.BUFF_ELEMENTCRTRATEDOWN="BUFF_ELEMENTCRTRATEDOWN",e.BUFF_LORDHPUP="BUFF_LORDHPUP",e.BUFF_LORDHPDOWN="BUFF_LORDHPDOWN",e.BUFF_LORDATKUP="BUFF_LORDATKUP",e.BUFF_LORDATKDOWN="BUFF_LORDATKDOWN",e.BUFF_LORDDEFUP="BUFF_LORDDEFUP",e.BUFF_LORDDEFDOWN="BUFF_LORDDEFDOWN",e.BUFF_LORDRECUP="BUFF_LORDRECUP",e.BUFF_LORDRECDOWN="BUFF_LORDRECDOWN",e.BUFF_LORDCRTRATEUP="BUFF_LORDCRTRATEUP",e.BUFF_LORDCRTRATEDOWN="BUFF_LORDCRTRATEDOWN",e.BUFF_ANIMAHPUP="BUFF_ANIMAHPUP",e.BUFF_ANIMAHPDOWN="BUFF_ANIMAHPDOWN",e.BUFF_ANIMAATKUP="BUFF_ANIMAATKUP",e.BUFF_ANIMAATKDOWN="BUFF_ANIMAATKDOWN",e.BUFF_ANIMADEFUP="BUFF_ANIMADEFUP",e.BUFF_ANIMADEFDOWN="BUFF_ANIMADEFDOWN",e.BUFF_ANIMARECUP="BUFF_ANIMARECUP",e.BUFF_ANIMARECDOWN="BUFF_ANIMARECDOWN",e.BUFF_ANIMACRTRATEUP="BUFF_ANIMACRTRATEUP",e.BUFF_ANIMACRTRATEDOWN="BUFF_ANIMACRTRATEDOWN",e.BUFF_BREAKERHPUP="BUFF_BREAKERHPUP",e.BUFF_BREAKERHPDOWN="BUFF_BREAKERHPDOWN",e.BUFF_BREAKERATKUP="BUFF_BREAKERATKUP",e.BUFF_BREAKERATKDOWN="BUFF_BREAKERATKDOWN",e.BUFF_BREAKERDEFUP="BUFF_BREAKERDEFUP",e.BUFF_BREAKERDEFDOWN="BUFF_BREAKERDEFDOWN",e.BUFF_BREAKERRECUP="BUFF_BREAKERRECUP",e.BUFF_BREAKERRECDOWN="BUFF_BREAKERRECDOWN",e.BUFF_BREAKERCRTRATEUP="BUFF_BREAKERCRTRATEUP",e.BUFF_BREAKERCRTRATEDOWN="BUFF_BREAKERCRTRATEDOWN",e.BUFF_GUARDIANHPUP="BUFF_GUARDIANHPUP",e.BUFF_GUARDIANHPDOWN="BUFF_GUARDIANHPDOWN",e.BUFF_GUARDIANATKUP="BUFF_GUARDIANATKUP",e.BUFF_GUARDIANATKDOWN="BUFF_GUARDIANATKDOWN",e.BUFF_GUARDIANDEFUP="BUFF_GUARDIANDEFUP",e.BUFF_GUARDIANDEFDOWN="BUFF_GUARDIANDEFDOWN",e.BUFF_GUARDIANRECUP="BUFF_GUARDIANRECUP",e.BUFF_GUARDIANRECDOWN="BUFF_GUARDIANRECDOWN",e.BUFF_GUARDIANCRTRATEUP="BUFF_GUARDIANCRTRATEUP",e.BUFF_GUARDIANCRTRATEDOWN="BUFF_GUARDIANCRTRATEDOWN",e.BUFF_ORACLEHPUP="BUFF_ORACLEHPUP",e.BUFF_ORACLEHPDOWN="BUFF_ORACLEHPDOWN",e.BUFF_ORACLEATKUP="BUFF_ORACLEATKUP",e.BUFF_ORACLEATKDOWN="BUFF_ORACLEATKDOWN",e.BUFF_ORACLEDEFUP="BUFF_ORACLEDEFUP",e.BUFF_ORACLEDEFDOWN="BUFF_ORACLEDEFDOWN",e.BUFF_ORACLERECUP="BUFF_ORACLERECUP",e.BUFF_ORACLERECDOWN="BUFF_ORACLERECDOWN",e.BUFF_ORACLECRTRATEUP="BUFF_ORACLECRTRATEUP",e.BUFF_ORACLECRTRATEDOWN="BUFF_ORACLECRTRATEDOWN",e.BUFF_REXHPUP="BUFF_REXHPUP",e.BUFF_REXHPDOWN="BUFF_REXHPDOWN",e.BUFF_REXATKUP="BUFF_REXATKUP",e.BUFF_REXATKDOWN="BUFF_REXATKDOWN",e.BUFF_REXDEFUP="BUFF_REXDEFUP",e.BUFF_REXDEFDOWN="BUFF_REXDEFDOWN",e.BUFF_REXRECUP="BUFF_REXRECUP",e.BUFF_REXRECDOWN="BUFF_REXRECDOWN",e.BUFF_REXCRTRATEUP="BUFF_REXCRTRATEUP",e.BUFF_REXCRTRATEDOWN="BUFF_REXCRTRATEDOWN",e.BUFF_UNITTYPEHPUP="BUFF_UNITTYPEHPUP",e.BUFF_UNITTYPEHPDOWN="BUFF_UNITTYPEHPDOWN",e.BUFF_UNITTYPEATKUP="BUFF_UNITTYPEATKUP",e.BUFF_UNITTYPEATKDOWN="BUFF_UNITTYPEATKDOWN",e.BUFF_UNITTYPEDEFUP="BUFF_UNITTYPEDEFUP",e.BUFF_UNITTYPEDEFDOWN="BUFF_UNITTYPEDEFDOWN",e.BUFF_UNITTYPERECUP="BUFF_UNITTYPERECUP",e.BUFF_UNITTYPERECDOWN="BUFF_UNITTYPERECDOWN",e.BUFF_UNITTYPECRTRATEUP="BUFF_UNITTYPECRTRATEUP",e.BUFF_UNITTYPECRTRATEDOWN="BUFF_UNITTYPECRTRATEDOWN",e.BUFF_UNIQUEELEMENTHPUP="BUFF_UNIQUEELEMENTHPUP",e.BUFF_UNIQUEELEMENTHPDOWN="BUFF_UNIQUEELEMENTHPDOWN",e.BUFF_UNIQUEELEMENTATKUP="BUFF_UNIQUEELEMENTATKUP",e.BUFF_UNIQUEELEMENTATKDOWN="BUFF_UNIQUEELEMENTATKDOWN",e.BUFF_UNIQUEELEMENTDEFUP="BUFF_UNIQUEELEMENTDEFUP",e.BUFF_UNIQUEELEMENTDEFDOWN="BUFF_UNIQUEELEMENTDEFDOWN",e.BUFF_UNIQUEELEMENTRECUP="BUFF_UNIQUEELEMENTRECUP",e.BUFF_UNIQUEELEMENTRECDOWN="BUFF_UNIQUEELEMENTRECDOWN",e.BUFF_UNIQUEELEMENTCRTRATEUP="BUFF_UNIQUEELEMENTCRTRATEUP",e.BUFF_UNIQUEELEMENTCRTRATEDOWN="BUFF_UNIQUEELEMENTCRTRATEDOWN",e.BUFF_MALEHPUP="BUFF_MALEHPUP",e.BUFF_MALEHPDOWN="BUFF_MALEHPDOWN",e.BUFF_MALEATKUP="BUFF_MALEATKUP",e.BUFF_MALEATKDOWN="BUFF_MALEATKDOWN",e.BUFF_MALEDEFUP="BUFF_MALEDEFUP",e.BUFF_MALEDEFDOWN="BUFF_MALEDEFDOWN",e.BUFF_MALERECUP="BUFF_MALERECUP",e.BUFF_MALERECDOWN="BUFF_MALERECDOWN",e.BUFF_MALECRTRATEUP="BUFF_MALECRTRATEUP",e.BUFF_MALECRTRATEDOWN="BUFF_MALECRTRATEDOWN",e.BUFF_FEMALEHPUP="BUFF_FEMALEHPUP",e.BUFF_FEMALEHPDOWN="BUFF_FEMALEHPDOWN",e.BUFF_FEMALEATKUP="BUFF_FEMALEATKUP",e.BUFF_FEMALEATKDOWN="BUFF_FEMALEATKDOWN",e.BUFF_FEMALEDEFUP="BUFF_FEMALEDEFUP",e.BUFF_FEMALEDEFDOWN="BUFF_FEMALEDEFDOWN",e.BUFF_FEMALERECUP="BUFF_FEMALERECUP",e.BUFF_FEMALERECDOWN="BUFF_FEMALERECDOWN",e.BUFF_FEMALECRTRATEUP="BUFF_FEMALECRTRATEUP",e.BUFF_FEMALECRTRATEDOWN="BUFF_FEMALECRTRATEDOWN",e.BUFF_OTHERHPUP="BUFF_OTHERHPUP",e.BUFF_OTHERHPDOWN="BUFF_OTHERHPDOWN",e.BUFF_OTHERATKUP="BUFF_OTHERATKUP",e.BUFF_OTHERATKDOWN="BUFF_OTHERATKDOWN",e.BUFF_OTHERDEFUP="BUFF_OTHERDEFUP",e.BUFF_OTHERDEFDOWN="BUFF_OTHERDEFDOWN",e.BUFF_OTHERRECUP="BUFF_OTHERRECUP",e.BUFF_OTHERRECDOWN="BUFF_OTHERRECDOWN",e.BUFF_OTHERCRTRATEUP="BUFF_OTHERCRTRATEUP",e.BUFF_OTHERCRTRATEDOWN="BUFF_OTHERCRTRATEDOWN",e.BUFF_GENDERHPUP="BUFF_GENDERHPUP",e.BUFF_GENDERHPDOWN="BUFF_GENDERHPDOWN",e.BUFF_GENDERATKUP="BUFF_GENDERATKUP",e.BUFF_GENDERATKDOWN="BUFF_GENDERATKDOWN",e.BUFF_GENDERDEFUP="BUFF_GENDERDEFUP",e.BUFF_GENDERDEFDOWN="BUFF_GENDERDEFDOWN",e.BUFF_GENDERRECUP="BUFF_GENDERRECUP",e.BUFF_GENDERRECDOWN="BUFF_GENDERRECDOWN",e.BUFF_GENDERCRTRATEUP="BUFF_GENDERCRTRATEUP",e.BUFF_GENDERCRTRATEDOWN="BUFF_GENDERCRTRATEDOWN",e.BUFF_CONVERTATKUP="BUFF_CONVERTATKUP",e.BUFF_CONVERTATKDOWN="BUFF_CONVERTATKDOWN",e.BUFF_CONVERTDEFUP="BUFF_CONVERTDEFUP",e.BUFF_CONVERTDEFDOWN="BUFF_CONVERTDEFDOWN",e.BUFF_CONVERTRECUP="BUFF_CONVERTRECUP",e.BUFF_CONVERTRECDOWN="BUFF_CONVERTRECDOWN",e.BUFF_HPSCALEDATKUP="BUFF_HPSCALEDATKUP",e.BUFF_HPSCALEDATKDOWN="BUFF_HPSCALEDATKDOWN",e.BUFF_HPSCALEDDEFUP="BUFF_HPSCALEDDEFUP",e.BUFF_HPSCALEDDEFDOWN="BUFF_HPSCALEDDEFDOWN",e.BUFF_HPSCALEDRECUP="BUFF_HPSCALEDRECUP",e.BUFF_HPSCALEDRECDOWN="BUFF_HPSCALEDRECDOWN",e.BUFF_POISONBLK="BUFF_POISONBLK",e.BUFF_WEAKBLK="BUFF_WEAKBLK",e.BUFF_SICKBLK="BUFF_SICKBLK",e.BUFF_INJURYBLK="BUFF_INJURYBLK",e.BUFF_CURSEBLK="BUFF_CURSEBLK",e.BUFF_PARALYSISBLK="BUFF_PARALYSISBLK",e.BUFF_ATKDOWNBLK="BUFF_ATKDOWNBLK",e.BUFF_DEFDOWNBLK="BUFF_DEFDOWNBLK",e.BUFF_RECDOWNBLK="BUFF_RECDOWNBLK",e.BUFF_AILMENTBLK="BUFF_AILMENTBLK",e.DEBUFF_POISON="DEBUFF_POISON",e.DEBUFF_WEAK="DEBUFF_WEAK",e.DEBUFF_SICK="DEBUFF_SICK",e.DEBUFF_INJURY="DEBUFF_INJURY",e.DEBUFF_CURSE="DEBUFF_CURSE",e.DEBUFF_PARALYSIS="DEBUFF_PARALYSIS",e.DEBUFF_AILMENT="DEBUFF_AILMENT",e.BUFF_ADDPOISON="BUFF_ADDPOISON",e.BUFF_ADDWEAK="BUFF_ADDWEAK",e.BUFF_ADDSICK="BUFF_ADDSICK",e.BUFF_ADDINJURY="BUFF_ADDINJURY",e.BUFF_ADDCURSE="BUFF_ADDCURSE",e.BUFF_ADDPARA="BUFF_ADDPARA",e.BUFF_ADDAILMENT="BUFF_ADDAILMENT",e.BUFF_ADDATKDOWN="BUFF_ADDATKDOWN",e.BUFF_ADDDEFDOWN="BUFF_ADDDEFDOWN",e.BUFF_ADDRECDOWN="BUFF_ADDRECDOWN",e.BUFF_POISONCOUNTER="BUFF_POISONCOUNTER",e.BUFF_POISIONCOUNTER="BUFF_POISONCOUNTER",e.BUFF_WEAKCOUNTER="BUFF_WEAKCOUNTER",e.BUFF_SICKCOUNTER="BUFF_SICKCOUNTER",e.BUFF_INJCONTER="BUFF_INJCONTER",e.BUFF_CURSECOUNTER="BUFF_CURSECOUNTER",e.BUFF_PARALYCOUNTER="BUFF_PARALYCOUNTER",e.BUFF_DAMAGECUT="BUFF_DAMAGECUT",e.BUFF_DAMAGECUTTOONE="BUFF_DAMAGECUTTOONE",e.BUFF_FIREDMGDOWN="BUFF_FIREDMGDOWN",e.BUFF_WATERDMGDOWN="BUFF_WATERDMGDOWN",e.BUFF_EARTHDMGDOWN="BUFF_EARTHDMGDOWN",e.BUFF_THUNDERDMGDOWN="BUFF_THUNDERDMGDOWN",e.BUFF_LIGHTDMGDOWN="BUFF_LIGHTDMGDOWN",e.BUFF_DARKDMGDOWN="BUFF_DARKDMGDOWN",e.BUFF_ELEMENTDMGDOWN="BUFF_ELEMENTDMGDOWN",e.BUFF_FIREDMGUP="BUFF_FIREDMGUP",e.BUFF_WATERDMGUP="BUFF_WATERDMGUP",e.BUFF_WATERMDGUP="BUFF_WATERDMGUP",e.BUFF_EARTHDMGUP="BUFF_EARTHDMGUP",e.BUFF_THUNDERDMGUP="BUFF_THUNDERDMGUP",e.BUFF_LIGHTDMGUP="BUFF_LIGHTDMGUP",e.BUFF_DARKDMGUP="BUFF_DARKDMGUP",e.BUFF_ELEMENTDMGUP="BUFF_ELEMENTDMGUP",e.BUFF_HCDROP="BUFF_HCDROP",e.BUFF_HCDOWN="BUFF_HCDOWN",e.BUFF_BCDROP="BUFF_BCDROP",e.BUFF_BCDOWN="BUFF_BCDOWN",e.BUFF_ITEMDROP="BUFF_ITEMDROP",e.BUFF_ITEMDOWN="BUFF_ITEMDOWN",e.BUFF_ZELDROP="BUFF_ZELDROP",e.BUFF_ZELDOWN="BUFF_ZELDOWN",e.BUFF_KARMADROP="BUFF_KARMADROP",e.BUFF_KARMADOWN="BUFF_KARMADOWN",e.BUFF_HPTHRESHHCDROP="BUFF_HPTHRESHHCDROP",e.BUFF_HPTHRESHHCDOWN="BUFF_HPTHRESHHCDOWN",e.BUFF_HPTHRESHBCDROP="BUFF_HPTHRESHBCDROP",e.BUFF_HPTHRESHBCDOWN="BUFF_HPTHRESHBCDOWN",e.BUFF_HPTHRESHITEMDROP="BUFF_HPTHRESHITEMDROP",e.BUFF_HPTHRESHITEMDOWN="BUFF_HPTHRESHITEMDOWN",e.BUFF_HPTHRESHZELDROP="BUFF_HPTHRESHZELDROP",e.BUFF_HPTHRESHZELDOWN="BUFF_HPTHRESHZELDOWN",e.BUFF_HPTHRESHKARMADROP="BUFF_HPTHRESHKARMADROP",e.BUFF_HPTHRESHKARMADOWN="BUFF_HPTHRESHKARMADOWN",e.BUFF_BBFILL="BUFF_BBFILL",e.BUFF_BBFILLDOWN="BUFF_BBFILLDOWN",e.BUFF_HCREC="BUFF_HCREC",e.BUFF_KOBLK="BUFF_KOBLK",e.BUFF_KO="BUFF_KO",e.BUFF_HPABS="BUFF_HPABS",e.BUFF_IGNOREDEF="BUFF_IGNOREDEF",e.BUFF_CRTUP="BUFF_CRTUP",e.BUFF_CRTDOWN="BUFF_CRTDOWN",e.BUFF_ELEMENTDOWN="BUFF_ELEMENTDOWN",e.BUFF_SPARKUP="BUFF_SPARKUP",e.BUFF_SPARKDOWN="BUFF_SPARKDOWN",e.BUFF_SPARKHC="BUFF_SPARKHC",e.BUFF_SPARKBC="BUFF_SPARKBC",e.BUFF_SPARKITEM="BUFF_SPARKITEM",e.BUFF_SPARKZEL="BUFF_SPARKZEL",e.BUFF_SPARKKARMA="BUFF_SPARKKARMA",e.BUFF_SPARKBBUP="BUFF_SPARKBBUP",e.BUFF_HITUP="BUFF_HITUP",e.BUFF_COUNTERDAMAGE="BUFF_COUNTERDAMAGE",e.BUFF_GETENEATT="BUFF_GETENEATT",e.BUFF_REPENEATT="BUFF_REPENEATT",e.BUFF_HPTHRESHGETENEATT="BUFF_HPTHRESHGETENEATT",e.BUFF_HPTHRESHREPENEATT="BUFF_HPTHRESHREPENEATT",e.BUFF_ADDFIRE="BUFF_ADDFIRE",e.BUFF_ADDWATER="BUFF_ADDWATER",e.BUFF_ADDEARTH="BUFF_ADDEARTH",e.BUFF_ADDTHUNDER="BUFF_ADDTHUNDER",e.BUFF_ADDLIGHT="BUFF_ADDLIGHT",e.BUFF_ADDDARK="BUFF_ADDDARK",e.BUFF_ADDELEMENT="BUFF_ADDELEMENT",e.BUFF_SHIFTFIRE="BUFF_SHIFTFIRE",e.BUFF_SHIFTWATER="BUFF_SHIFTWATER",e.BUFF_SHIFTEARTH="BUFF_SHIFTEARTH",e.BUFF_SHIFTTHUNDER="BUFF_SHIFTTHUNDER",e.BUFF_SHIFTLIGHT="BUFF_SHIFTLIGHT",e.BUFF_SHIFTDARK="BUFF_SHIFTDARK",e.BUFF_SHIFTELEMENT="BUFF_SHIFTELEMENT",e.BUFF_REMOVEBUFF="BUFF_REMOVEBUFF",e.BUFF_DISABLELS="BUFF_DISABLELS",e.BUFF_SUMMONUNIT="BUFF_SUMMONUNIT",e.BUFF_DBLSTRIKE="BUFF_DBLSTRIKE",e.BUFF_OVERDRIVEUP="BUFF_OVERDRIVEUP",e.BUFF_TURNDMG="BUFF_TURNDMG",e.BUFF_BBATKUP="BUFF_BBATKUP",e.BUFF_SBBATKUP="BUFF_SBBATKUP",e.BUFF_UBBATKUP="BUFF_UBBATKUP",e.BUFF_BBCOST_REDUCTION="BUFF_BBCOST_REDUCTION",e.ATK_ST="ATK_ST",e.ATK_AOE="ATK_AOE",e.ATK_RT="ATK_RT",e.ATK_ST_HPREC="ATK_ST_HPREC",e.ATK_AOE_HPREC="ATK_AOE_HPREC",e.ATK_ST_PROPORTIONAL="ATK_ST_PROPORTIONAL",e.ATK_AOE_PROPORTIONAL="ATK_AOE_PROPORTIONAL",e.ATK_ST_PIERCING_PROPORTIONAL="ATK_ST_PIERCING_PROPORTIONAL",e.ATK_AOE_PIERCING_PROPORTIONAL="ATK_AOE_PIERCING_PROPORTIONAL",e.ATK_ST_FIXED="ATK_ST_FIXED",e.ATK_AOE_FIXED="ATK_AOE_FIXED",e.ATK_ST_PIERCING_FIXED="ATK_ST_PIERCING_FIXED",e.ATK_AOE_PIERCING_FIXED="ATK_AOE_PIERCING_FIXED",e.ATK_ST_MULTIELEMENT="ATK_ST_MULTIELEMENT",e.ATK_AOE_MULTIELEMENT="ATK_AOE_MULTIELEMENT",e.ATK_ST_SACRIFICIAL="ATK_ST_SACRIFICIAL",e.ATK_AOE_SACRIFICIAL="ATK_AOE_SACRIFICIAL",e.ATK_ST_HPSCALED="ATK_ST_HPSCALED",e.ATK_AOE_HPSCALED="ATK_AOE_HPSCALED"}(j||(j={})),function(e){e.TURN_DURATION_MODIFICATION="TURN_DURATION_MODIFICATION",e.NO_PARAMS_SPECIFIED="NO_PARAMS_SPECIFIED",e.UNKNOWN_PASSIVE_EFFECT_ID="UNKNOWN_PASSIVE_EFFECT_ID",e.UNKNOWN_PASSIVE_BUFF_PARAMS="UNKNOWN_PASSIVE_BUFF_PARAMS",e["passive:1:hp"]="passive:1:hp",e["passive:1:atk"]="passive:1:atk",e["passive:1:def"]="passive:1:def",e["passive:1:rec"]="passive:1:rec",e["passive:1:crit"]="passive:1:crit",e["passive:2:hp"]="passive:2:hp",e["passive:2:atk"]="passive:2:atk",e["passive:2:def"]="passive:2:def",e["passive:2:rec"]="passive:2:rec",e["passive:2:crit"]="passive:2:crit",e["passive:3:hp"]="passive:3:hp",e["passive:3:atk"]="passive:3:atk",e["passive:3:def"]="passive:3:def",e["passive:3:rec"]="passive:3:rec",e["passive:3:crit"]="passive:3:crit",e["passive:4:poison"]="passive:4:poison",e["passive:4:weak"]="passive:4:weak",e["passive:4:sick"]="passive:4:sick",e["passive:4:injury"]="passive:4:injury",e["passive:4:curse"]="passive:4:curse",e["passive:4:paralysis"]="passive:4:paralysis",e["passive:5:fire"]="passive:5:fire",e["passive:5:water"]="passive:5:water",e["passive:5:earth"]="passive:5:earth",e["passive:5:thunder"]="passive:5:thunder",e["passive:5:light"]="passive:5:light",e["passive:5:dark"]="passive:5:dark",e["passive:5:unknown"]="passive:5:unknown",e["passive:8"]="passive:8",e["passive:9"]="passive:9",e["passive:10"]="passive:10",e["passive:11:atk"]="passive:11:atk",e["passive:11:def"]="passive:11:def",e["passive:11:rec"]="passive:11:rec",e["passive:11:crit"]="passive:11:crit",e["passive:12:bc"]="passive:12:bc",e["passive:12:hc"]="passive:12:hc",e["passive:12:item"]="passive:12:item",e["passive:12:zel"]="passive:12:zel",e["passive:12:karma"]="passive:12:karma",e["passive:13"]="passive:13",e["passive:14"]="passive:14",e["passive:15"]="passive:15",e["passive:16"]="passive:16",e["passive:17"]="passive:17",e["passive:19:bc"]="passive:19:bc",e["passive:19:hc"]="passive:19:hc",e["passive:19:item"]="passive:19:item",e["passive:19:zel"]="passive:19:zel",e["passive:19:karma"]="passive:19:karma",e["passive:20:poison"]="passive:20:poison",e["passive:20:weak"]="passive:20:weak",e["passive:20:sick"]="passive:20:sick",e["passive:20:injury"]="passive:20:injury",e["passive:20:curse"]="passive:20:curse",e["passive:20:paralysis"]="passive:20:paralysis",e["passive:20:atk down"]="passive:20:atk down",e["passive:20:def down"]="passive:20:def down",e["passive:20:rec down"]="passive:20:rec down",e["passive:20:unknown"]="passive:20:unknown",e["passive:21:atk"]="passive:21:atk",e["passive:21:def"]="passive:21:def",e["passive:21:rec"]="passive:21:rec",e["passive:21:crit"]="passive:21:crit",e["passive:23"]="passive:23",e["passive:24"]="passive:24",e["passive:25"]="passive:25",e["passive:26"]="passive:26",e["passive:27"]="passive:27",e["passive:28"]="passive:28",e["passive:29"]="passive:29",e["passive:30:atk"]="passive:30:atk",e["passive:30:def"]="passive:30:def",e["passive:30:rec"]="passive:30:rec",e["passive:30:crit"]="passive:30:crit",e["passive:31:damage"]="passive:31:damage",e["passive:31:bc"]="passive:31:bc",e["passive:31:hc"]="passive:31:hc",e["passive:31:item"]="passive:31:item",e["passive:31:zel"]="passive:31:zel",e["passive:31:karma"]="passive:31:karma",e["passive:32"]="passive:32",e["passive:33"]="passive:33",e["passive:34"]="passive:34",e["passive:35"]="passive:35",e["passive:36"]="passive:36",e["passive:37"]="passive:37",e["passive:40:atk"]="passive:40:atk",e["passive:40:def"]="passive:40:def",e["passive:40:rec"]="passive:40:rec",e["passive:41:hp"]="passive:41:hp",e["passive:41:atk"]="passive:41:atk",e["passive:41:def"]="passive:41:def",e["passive:41:rec"]="passive:41:rec",e["passive:41:crit"]="passive:41:crit",e["passive:42:hp"]="passive:42:hp",e["passive:42:atk"]="passive:42:atk",e["passive:42:def"]="passive:42:def",e["passive:42:rec"]="passive:42:rec",e["passive:42:crit"]="passive:42:crit",e["passive:43"]="passive:43",e["passive:44:hp"]="passive:44:hp",e["passive:44:atk"]="passive:44:atk",e["passive:44:def"]="passive:44:def",e["passive:44:rec"]="passive:44:rec",e["passive:44:crit"]="passive:44:crit",e["passive:45:base"]="passive:45:base",e["passive:45:buff"]="passive:45:buff",e["passive:46:atk"]="passive:46:atk",e["passive:46:def"]="passive:46:def",e["passive:46:rec"]="passive:46:rec",e["passive:47"]="passive:47",e["passive:48"]="passive:48",e["passive:49"]="passive:49",e["passive:50:fire"]="passive:50:fire",e["passive:50:water"]="passive:50:water",e["passive:50:earth"]="passive:50:earth",e["passive:50:thunder"]="passive:50:thunder",e["passive:50:light"]="passive:50:light",e["passive:50:dark"]="passive:50:dark",e["passive:50:unknown"]="passive:50:unknown",e["passive:53:critical-damage-base"]="passive:53:critical-damage-base",e["passive:53:critical-damage-buff"]="passive:53:critical-damage-buff",e["passive:53:element-damage-base"]="passive:53:element-damage-base",e["passive:53:element-damage-buff"]="passive:53:element-damage-buff",e["passive:53:critical-rate-base"]="passive:53:critical-rate-base",e["passive:53:critical-rate-buff"]="passive:53:critical-rate-buff",e["passive:55:hp condition"]="passive:55:hp condition",e.UNKNOWN_PROC_EFFECT_ID="UNKNOWN_PROC_EFFECT_ID",e.UNKNOWN_PROC_BUFF_PARAMS="UNKNOWN_PROC_BUFF_PARAMS",e["proc:1"]="proc:1",e["proc:2"]="proc:2",e["proc:3"]="proc:3",e["proc:4:flat"]="proc:4:flat",e["proc:4:percent"]="proc:4:percent",e["proc:5:atk"]="proc:5:atk",e["proc:5:def"]="proc:5:def",e["proc:5:rec"]="proc:5:rec",e["proc:5:crit"]="proc:5:crit",e["proc:6:bc"]="proc:6:bc",e["proc:6:hc"]="proc:6:hc",e["proc:6:item"]="proc:6:item",e["proc:7"]="proc:7",e["proc:8:flat"]="proc:8:flat",e["proc:8:percent"]="proc:8:percent",e["proc:9:atk"]="proc:9:atk",e["proc:9:def"]="proc:9:def",e["proc:9:rec"]="proc:9:rec",e["proc:9:unknown"]="proc:9:unknown",e["proc:10:poison"]="proc:10:poison",e["proc:10:weak"]="proc:10:weak",e["proc:10:sick"]="proc:10:sick",e["proc:10:injury"]="proc:10:injury",e["proc:10:curse"]="proc:10:curse",e["proc:10:paralysis"]="proc:10:paralysis",e["proc:10:atk down"]="proc:10:atk down",e["proc:10:def down"]="proc:10:def down",e["proc:10:rec down"]="proc:10:rec down",e["proc:10:unknown"]="proc:10:unknown",e["proc:11:poison"]="proc:11:poison",e["proc:11:weak"]="proc:11:weak",e["proc:11:sick"]="proc:11:sick",e["proc:11:injury"]="proc:11:injury",e["proc:11:curse"]="proc:11:curse",e["proc:11:paralysis"]="proc:11:paralysis",e["proc:11:atk down"]="proc:11:atk down",e["proc:11:def down"]="proc:11:def down",e["proc:11:rec down"]="proc:11:rec down",e["proc:11:unknown"]="proc:11:unknown",e["proc:12"]="proc:12",e["proc:13"]="proc:13",e["proc:14"]="proc:14",e["proc:16:fire"]="proc:16:fire",e["proc:16:water"]="proc:16:water",e["proc:16:earth"]="proc:16:earth",e["proc:16:thunder"]="proc:16:thunder",e["proc:16:light"]="proc:16:light",e["proc:16:dark"]="proc:16:dark",e["proc:16:all"]="proc:16:all",e["proc:16:unknown"]="proc:16:unknown",e["proc:17:poison"]="proc:17:poison",e["proc:17:weak"]="proc:17:weak",e["proc:17:sick"]="proc:17:sick",e["proc:17:injury"]="proc:17:injury",e["proc:17:curse"]="proc:17:curse",e["proc:17:paralysis"]="proc:17:paralysis",e["proc:18"]="proc:18",e["proc:19"]="proc:19",e["proc:20"]="proc:20",e["proc:22"]="proc:22",e["proc:23"]="proc:23",e["proc:24:atk"]="proc:24:atk",e["proc:24:def"]="proc:24:def",e["proc:24:rec"]="proc:24:rec",e["proc:26"]="proc:26",e["proc:27"]="proc:27",e["proc:28"]="proc:28",e["proc:29"]="proc:29",e["proc:30:fire"]="proc:30:fire",e["proc:30:water"]="proc:30:water",e["proc:30:earth"]="proc:30:earth",e["proc:30:thunder"]="proc:30:thunder",e["proc:30:light"]="proc:30:light",e["proc:30:dark"]="proc:30:dark",e["proc:30:unknown"]="proc:30:unknown",e["proc:31:flat"]="proc:31:flat",e["proc:31:percent"]="proc:31:percent",e["proc:32:fire"]="proc:32:fire",e["proc:32:water"]="proc:32:water",e["proc:32:earth"]="proc:32:earth",e["proc:32:thunder"]="proc:32:thunder",e["proc:32:light"]="proc:32:light",e["proc:32:dark"]="proc:32:dark",e["proc:32:unknown"]="proc:32:unknown",e["proc:33"]="proc:33",e["proc:34:flat"]="proc:34:flat",e["proc:34:percent"]="proc:34:percent",e["proc:36"]="proc:36",e["proc:37"]="proc:37",e["proc:38:poison"]="proc:38:poison",e["proc:38:weak"]="proc:38:weak",e["proc:38:sick"]="proc:38:sick",e["proc:38:injury"]="proc:38:injury",e["proc:38:curse"]="proc:38:curse",e["proc:38:paralysis"]="proc:38:paralysis",e["proc:38:atk down"]="proc:38:atk down",e["proc:38:def down"]="proc:38:def down",e["proc:38:rec down"]="proc:38:rec down",e["proc:38:unknown"]="proc:38:unknown",e["proc:39:fire"]="proc:39:fire",e["proc:39:water"]="proc:39:water",e["proc:39:earth"]="proc:39:earth",e["proc:39:thunder"]="proc:39:thunder",e["proc:39:light"]="proc:39:light",e["proc:39:dark"]="proc:39:dark",e["proc:39:unknown"]="proc:39:unknown",e["proc:40:poison"]="proc:40:poison",e["proc:40:weak"]="proc:40:weak",e["proc:40:sick"]="proc:40:sick",e["proc:40:injury"]="proc:40:injury",e["proc:40:curse"]="proc:40:curse",e["proc:40:paralysis"]="proc:40:paralysis",e["proc:40:atk down"]="proc:40:atk down",e["proc:40:def down"]="proc:40:def down",e["proc:40:rec down"]="proc:40:rec down",e["proc:40:unknown"]="proc:40:unknown",e["proc:42"]="proc:42",e["proc:43"]="proc:43",e["proc:44"]="proc:44",e["proc:45:bb"]="proc:45:bb",e["proc:45:sbb"]="proc:45:sbb",e["proc:45:ubb"]="proc:45:ubb",e["proc:46"]="proc:46",e["proc:47"]="proc:47",e["proc:48:base"]="proc:48:base",e["proc:48:current"]="proc:48:current",e["proc:48:fixed"]="proc:48:fixed",e["proc:48:unknown"]="proc:48:unknown",e["proc:49"]="proc:49",e["proc:50"]="proc:50",e["proc:51:atk down"]="proc:51:atk down",e["proc:51:def down"]="proc:51:def down",e["proc:51:rec down"]="proc:51:rec down",e["proc:52"]="proc:52",e["proc:53:poison"]="proc:53:poison",e["proc:53:weak"]="proc:53:weak",e["proc:53:sick"]="proc:53:sick",e["proc:53:injury"]="proc:53:injury",e["proc:53:curse"]="proc:53:curse",e["proc:53:paralysis"]="proc:53:paralysis",e["proc:54"]="proc:54",e.UNKNOWN_CONDITIONAL_EFFECT_ID="UNKNOWN_CONDITIONAL_EFFECT_ID",e.UNKNOWN_CONDITIONAL_BUFF_PARAMS="UNKNOWN_CONDITIONAL_BUFF_PARAMS",e["buff:12:ko resistance"]="buff:12:ko resistance"}(G||(G={}));const ne=Object.freeze(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({TURN_DURATION_MODIFICATION:{id:G.TURN_DURATION_MODIFICATION,name:"Passive Turn Duration Modification",stat:M.turnDurationModification,stackType:W.Passive,icons:e=>[e&&e.value&&e.value.duration&&e.value.duration<0?j.TURN_DURATION_DOWN:j.TURN_DURATION_UP]},NO_PARAMS_SPECIFIED:{id:G.NO_PARAMS_SPECIFIED,name:"No Parameters Specified",stackType:W.Unknown,icons:()=>[j.UNKNOWN]},UNKNOWN_PASSIVE_EFFECT_ID:{id:G.UNKNOWN_PASSIVE_EFFECT_ID,name:"Unknown Passive Effect",stackType:W.Unknown,icons:()=>[j.UNKNOWN]},UNKNOWN_PASSIVE_BUFF_PARAMS:{id:G.UNKNOWN_PASSIVE_BUFF_PARAMS,name:"Unknown Passive Buff Parameters",stackType:W.Unknown,icons:()=>[j.UNKNOWN]},"passive:1:hp":{id:G["passive:1:hp"],name:"Passive HP Boost",stat:M.hp,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPDOWN:j.BUFF_HPUP]},"passive:1:atk":{id:G["passive:1:atk"],name:"Passive Attack Boost",stat:M.atk,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ATKDOWN:j.BUFF_ATKUP]},"passive:1:def":{id:G["passive:1:def"],name:"Passive Defense Boost",stat:M.def,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_DEFDOWN:j.BUFF_DEFUP]},"passive:1:rec":{id:G["passive:1:rec"],name:"Passive Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_RECDOWN:j.BUFF_RECUP]},"passive:1:crit":{id:G["passive:1:crit"],name:"Passive Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_CRTRATEDOWN:j.BUFF_CRTRATEUP]}},(()=>{const e=e=>a=>{let t="",s="UP";a&&(a.value&&a.value<0&&(s="DOWN"),a.conditions&&a.conditions.targetElements&&(t=a.conditions.targetElements[0])),"string"!=typeof t&&(t="");let i=`BUFF_${t.toUpperCase()}${e}${s}`;return t&&i in j||(i=`BUFF_ELEMENT${e}${s}`),[j[i]]};return{"passive:2:hp":{id:G["passive:2:hp"],name:"Passive Elemental HP Boost",stat:M.hp,stackType:W.Passive,icons:e("HP")},"passive:2:atk":{id:G["passive:2:atk"],name:"Passive Elemental Attack Boost",stat:M.atk,stackType:W.Passive,icons:e("ATK")},"passive:2:def":{id:G["passive:2:def"],name:"Passive Elemental Defense Boost",stat:M.def,stackType:W.Passive,icons:e("DEF")},"passive:2:rec":{id:G["passive:2:rec"],name:"Passive Elemental Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e("REC")},"passive:2:crit":{id:G["passive:2:crit"],name:"Passive Elemental Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e("CRTRATE")}}})()),(()=>{const e=e=>a=>{let t="",s="UP";a&&(a.value&&a.value<0&&(s="DOWN"),a.conditions&&(t=a.conditions.targetUnitType||"")),"string"==typeof t&&t||(t="unknown");let i=`BUFF_${t.toUpperCase()}${e}${s}`;return t&&i in j||(i=`BUFF_UNITTYPE${e}${s}`),[j[i]]};return{"passive:3:hp":{id:G["passive:3:hp"],name:"Passive Type-Based HP Boost",stat:M.hp,stackType:W.Passive,icons:e("HP")},"passive:3:atk":{id:G["passive:3:atk"],name:"Passive Type-Based Attack Boost",stat:M.atk,stackType:W.Passive,icons:e("ATK")},"passive:3:def":{id:G["passive:3:def"],name:"Passive Type-Based Defense Boost",stat:M.def,stackType:W.Passive,icons:e("DEF")},"passive:3:rec":{id:G["passive:3:rec"],name:"Passive Type-Based Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e("REC")},"passive:3:crit":{id:G["passive:3:crit"],name:"Passive Type-Based Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e("CRTRATE")}}})()),{"passive:4:poison":{id:G["passive:4:poison"],name:"Passive Poison Resist",stat:M.poisonResist,stackType:W.Passive,icons:()=>[j.BUFF_POISONBLK]},"passive:4:weak":{id:G["passive:4:weak"],name:"Passive Weak Resist",stat:M.weakResist,stackType:W.Passive,icons:()=>[j.BUFF_WEAKBLK]},"passive:4:sick":{id:G["passive:4:sick"],name:"Passive Sick Resist",stat:M.sickResist,stackType:W.Passive,icons:()=>[j.BUFF_SICKBLK]},"passive:4:injury":{id:G["passive:4:injury"],name:"Passive Injury Resist",stat:M.injuryResist,stackType:W.Passive,icons:()=>[j.BUFF_INJURYBLK]},"passive:4:curse":{id:G["passive:4:curse"],name:"Passive Curse Resist",stat:M.curseResist,stackType:W.Passive,icons:()=>[j.BUFF_CURSEBLK]},"passive:4:paralysis":{id:G["passive:4:paralysis"],name:"Passive Paralysis Resist",stat:M.paralysisResist,stackType:W.Passive,icons:()=>[j.BUFF_PARALYSISBLK]},"passive:5:fire":{id:G["passive:5:fire"],name:"Passive Fire Damage Reduction",stat:M.fireMitigation,stackType:W.Passive,icons:()=>[j.BUFF_FIREDMGDOWN]},"passive:5:water":{id:G["passive:5:water"],name:"Passive Water Damage Reduction",stat:M.waterMitigation,stackType:W.Passive,icons:()=>[j.BUFF_WATERDMGDOWN]},"passive:5:earth":{id:G["passive:5:earth"],name:"Passive Earth Damage Reduction",stat:M.earthMitigation,stackType:W.Passive,icons:()=>[j.BUFF_EARTHDMGDOWN]},"passive:5:thunder":{id:G["passive:5:thunder"],name:"Passive Thunder Damage Reduction",stat:M.thunderMitigation,stackType:W.Passive,icons:()=>[j.BUFF_THUNDERDMGDOWN]},"passive:5:light":{id:G["passive:5:light"],name:"Passive Light Damage Reduction",stat:M.lightMitigation,stackType:W.Passive,icons:()=>[j.BUFF_LIGHTDMGDOWN]},"passive:5:dark":{id:G["passive:5:dark"],name:"Passive Dark Damage Reduction",stat:M.darkMitigation,stackType:W.Passive,icons:()=>[j.BUFF_DARKDMGDOWN]},"passive:5:unknown":{id:G["passive:5:unknown"],name:"Passive Elemental Damage Reduction (Unspecified Element)",stat:M.mitigation,stackType:W.Passive,icons:()=>[j.BUFF_ELEMENTDMGDOWN]},"passive:8":{id:G["passive:8"],name:"Passive Damage Reduction",stat:M.mitigation,stackType:W.Passive,icons:()=>[j.BUFF_DAMAGECUT]},"passive:9":{id:G["passive:9"],name:"Passive Gradual BC Fill",stat:M.bbGauge,stackType:W.Passive,icons:()=>[j.BUFF_BBREC]},"passive:10":{id:G["passive:10"],name:"Passive HC Efficacy",stat:M.hcEfficacy,stackType:W.Passive,icons:()=>[j.BUFF_HCREC]},"passive:11:atk":{id:G["passive:11:atk"],name:"Passive HP-Conditional Attack Boost",stat:M.atk,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHATKDOWN:j.BUFF_HPTHRESHATKUP]},"passive:11:def":{id:G["passive:11:def"],name:"Passive HP-Conditional Defense Boost",stat:M.def,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHDEFDOWN:j.BUFF_HPTHRESHDEFUP]},"passive:11:rec":{id:G["passive:11:rec"],name:"Passive HP-Conditional Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHRECDOWN:j.BUFF_HPTHRESHRECUP]},"passive:11:crit":{id:G["passive:11:crit"],name:"Passive HP-Conditional Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHCRTRATEDOWN:j.BUFF_HPTHRESHCRTRATEUP]},"passive:12:bc":{id:G["passive:12:bc"],name:"Passive HP-Conditional Battle Crystal Drop Rate Boost",stat:M.bcDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHBCDOWN:j.BUFF_HPTHRESHBCDROP]},"passive:12:hc":{id:G["passive:12:hc"],name:"Passive HP-Conditional Heart Crystal Drop Rate Boost",stat:M.hcDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHHCDOWN:j.BUFF_HPTHRESHHCDROP]},"passive:12:item":{id:G["passive:12:item"],name:"Passive HP-Conditional Item Drop Rate Boost",stat:M.itemDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHITEMDOWN:j.BUFF_HPTHRESHITEMDROP]},"passive:12:zel":{id:G["passive:12:zel"],name:"Passive HP-Conditional Zel Drop Rate Boost",stat:M.zelDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHZELDOWN:j.BUFF_HPTHRESHZELDROP]},"passive:12:karma":{id:G["passive:12:karma"],name:"Passive HP-Conditional Karma Drop Rate Boost",stat:M.karmaDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHKARMADOWN:j.BUFF_HPTHRESHKARMADROP]},"passive:13":{id:G["passive:13"],name:"Passive BC Fill on Enemy Defeat",stat:M.bbGauge,stackType:W.Passive,icons:()=>[j.BUFF_BBREC]},"passive:14":{id:G["passive:14"],name:"Passive Damage Reduction (Chance)",stat:M.mitigation,stackType:W.Passive,icons:()=>[j.BUFF_DAMAGECUT]},"passive:15":{id:G["passive:15"],name:"Passive Heal on Enemy Defeat",stat:M.hpRecovery,stackType:W.Passive,icons:()=>[j.BUFF_HPREC]},"passive:16":{id:G["passive:16"],name:"Passive Heal on Battle Win",stat:M.hpRecovery,stackType:W.Passive,icons:()=>[j.BUFF_HPREC]},"passive:17":{id:G["passive:17"],name:"HP Absorption",stat:M.hpRecovery,stackType:W.Passive,icons:()=>[j.BUFF_HPABS]},"passive:19:bc":{id:G["passive:19:bc"],name:"Passive Battle Crystal Drop Rate Boost",stat:M.bcDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_BCDOWN:j.BUFF_BCDROP]},"passive:19:hc":{id:G["passive:19:hc"],name:"Passive Heart Crystal Drop Rate Boost",stat:M.hcDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HCDOWN:j.BUFF_HCDROP]},"passive:19:item":{id:G["passive:19:item"],name:"Passive Item Drop Rate Boost",stat:M.itemDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ITEMDOWN:j.BUFF_ITEMDROP]},"passive:19:zel":{id:G["passive:19:zel"],name:"Passive Zel Drop Rate Boost",stat:M.zelDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ZELDOWN:j.BUFF_ZELDROP]},"passive:19:karma":{id:G["passive:19:karma"],name:"Passive Karma Drop Rate Boost",stat:M.karmaDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_KARMADOWN:j.BUFF_KARMADROP]},"passive:20:poison":{id:G["passive:20:poison"],name:"Passive Poison Infliction",stat:M.poisonInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDPOISON]},"passive:20:weak":{id:G["passive:20:weak"],name:"Passive Weak Infliction",stat:M.weakInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDWEAK]},"passive:20:sick":{id:G["passive:20:sick"],name:"Passive Sick Infliction",stat:M.sickInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDSICK]},"passive:20:injury":{id:G["passive:20:injury"],name:"Passive Injury Infliction",stat:M.injuryInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDINJURY]},"passive:20:curse":{id:G["passive:20:curse"],name:"Passive Curse Infliction",stat:M.curseInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDCURSE]},"passive:20:paralysis":{id:G["passive:20:paralysis"],name:"Passive Paralysis Infliction",stat:M.paralysisInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDPARA]},"passive:20:atk down":{id:G["passive:20:atk down"],name:"Passive Attack Reduction Infliction",stat:M.atkDownInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDATKDOWN]},"passive:20:def down":{id:G["passive:20:def down"],name:"Passive Defense Reduction Infliction",stat:M.defDownInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDDEFDOWN]},"passive:20:rec down":{id:G["passive:20:rec down"],name:"Passive Recovery Reduction Infliction",stat:M.recDownInflict,stackType:W.Passive,icons:()=>[j.BUFF_ADDRECDOWN]},"passive:20:unknown":{id:G["passive:20:unknown"],name:"Passive Unknown Ailment Infliction",stackType:W.Unknown,icons:()=>[j.BUFF_ADDAILMENT]},"passive:21:atk":{id:G["passive:21:atk"],name:"Attack Boost for X Turns",stat:M.atk,stackType:W.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ATKDOWN:j.BUFF_ATKUP]},"passive:21:def":{id:G["passive:21:def"],name:"Defense Boost for X Turns",stat:M.def,stackType:W.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?j.BUFF_DEFDOWN:j.BUFF_DEFUP]},"passive:21:rec":{id:G["passive:21:rec"],name:"Recovery Boost for X Turns",stat:M.rec,stackType:W.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?j.BUFF_RECDOWN:j.BUFF_RECUP]},"passive:21:crit":{id:G["passive:21:crit"],name:"Critical Hit Rate Boost for X Turns",stat:M.crit,stackType:W.ConditionalTimed,icons:e=>[e&&e.value&&e.value<0?j.BUFF_CRTRATEDOWN:j.BUFF_CRTRATEUP]},"passive:23":{id:G["passive:23"],name:"Passive BC Fill on Battle Win",stat:M.bbGauge,stackType:W.Passive,icons:()=>[j.BUFF_BBREC]},"passive:24":{id:G["passive:24"],name:"Passive Heal when Attacked",stat:M.hpRecovery,stackType:W.Passive,icons:()=>[j.BUFF_BEENATK_HPREC]},"passive:25":{id:G["passive:25"],name:"Passive BC Fill when Attacked",stat:M.bbGauge,stackType:W.Passive,icons:()=>[j.BUFF_DAMAGEBB]},"passive:26":{id:G["passive:26"],name:"Passive Damage Counter (Chance)",stat:M.damageReflect,stackType:W.Passive,icons:()=>[j.BUFF_COUNTERDAMAGE]},"passive:27":{id:G["passive:27"],name:"Passive Target Chance Modification",stat:M.targetingModification,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_REPENEATT:j.BUFF_GETENEATT]},"passive:28":{id:G["passive:28"],name:"Passive HP-Conditional Target Chance Modification",stat:M.targetingModification,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPTHRESHREPENEATT:j.BUFF_HPTHRESHGETENEATT]},"passive:29":{id:G["passive:29"],name:"Passive Defense Ignore (Chance)",stat:M.defenseIgnore,stackType:W.Passive,icons:()=>[j.BUFF_IGNOREDEF]},"passive:30:atk":{id:G["passive:30:atk"],name:"Passive BB Gauge Conditional Attack Boost",stat:M.atk,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_BBGAUGETHRESHATKDOWN:j.BUFF_BBGAUGETHRESHATKUP]},"passive:30:def":{id:G["passive:30:def"],name:"Passive BB Gauge Conditional Defense Boost",stat:M.def,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_BBGAUGETHRESHDEFDOWN:j.BUFF_BBGAUGETHRESHDEFUP]},"passive:30:rec":{id:G["passive:30:rec"],name:"Passive BB Gauge Conditional Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_BBGAUGETHRESHRECDOWN:j.BUFF_BBGAUGETHRESHRECUP]},"passive:30:crit":{id:G["passive:30:crit"],name:"Passive BB Gauge Conditional Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_BBGAUGETHRESHCRTRATEDOWN:j.BUFF_BBGAUGETHRESHCRTRATEUP]},"passive:31:damage":{id:G["passive:31:damage"],name:"Passive Spark Damage Boost",stat:M.sparkDamage,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_SPARKDOWN:j.BUFF_SPARKUP]},"passive:31:bc":{id:G["passive:31:bc"],name:"Passive Battle Crystal Drop Rate Boost during Spark",stat:M.bcDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_BCDOWN:j.BUFF_SPARKBC]},"passive:31:hc":{id:G["passive:31:hc"],name:"Passive Heart Crystal Drop Rate Boost during Spark",stat:M.hcDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HCDOWN:j.BUFF_SPARKHC]},"passive:31:item":{id:G["passive:31:item"],name:"Passive Item Drop Rate Boost during Spark",stat:M.itemDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ITEMDOWN:j.BUFF_SPARKITEM]},"passive:31:zel":{id:G["passive:31:zel"],name:"Passive Zel Drop Rate Boost during Spark",stat:M.zelDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ZELDOWN:j.BUFF_SPARKZEL]},"passive:31:karma":{id:G["passive:31:karma"],name:"Passive Karma Drop Rate Boost during Spark",stat:M.karmaDropRate,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_KARMADOWN:j.BUFF_SPARKKARMA]},"passive:32":{id:G["passive:32"],name:"Passive BC Efficacy",stat:M.bcEfficacy,stackType:W.Passive,icons:()=>[j.BUFF_BBFILL]},"passive:33":{id:G["passive:33"],name:"Passive Gradual Heal",stat:M.hpRecovery,stackType:W.Passive,icons:()=>[j.BUFF_HPREC]},"passive:34":{id:G["passive:34"],name:"Passive Critical Damage Boost",stat:M.criticalDamage,stackType:W.Passive,icons:()=>[j.BUFF_CRTUP]},"passive:35":{id:G["passive:35"],name:"Passive BC Fill when Normal Attacking",stat:M.bbGauge,stackType:W.Passive,icons:()=>[j.BUFF_BBREC]},"passive:36":{id:G["passive:36"],name:"Passive Extra Action",stat:M.extraAction,stackType:W.Passive,icons:()=>[j.BUFF_DBLSTRIKE]},"passive:37":{id:G["passive:37"],name:"Passive Hit Count Boost",stat:M.hitCountModification,stackType:W.Passive,icons:()=>[j.BUFF_HITUP]},"passive:40:atk":{id:G["passive:40:atk"],name:"Passive Converted Attack Boost",stat:M.atk,stackType:W.Passive,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?j.BUFF_CONVERTATKDOWN:j.BUFF_CONVERTATKUP]},"passive:40:def":{id:G["passive:40:def"],name:"Passive Converted Defense Boost",stat:M.def,stackType:W.Passive,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?j.BUFF_CONVERTDEFDOWN:j.BUFF_CONVERTDEFUP]},"passive:40:rec":{id:G["passive:40:rec"],name:"Passive Converted Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?j.BUFF_CONVERTRECDOWN:j.BUFF_CONVERTRECUP]},"passive:41:hp":{id:G["passive:41:hp"],name:"Passive Element Squad-based HP Boost",stat:M.hp,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_UNIQUEELEMENTHPDOWN:j.BUFF_UNIQUEELEMENTHPUP]},"passive:41:atk":{id:G["passive:41:atk"],name:"Passive Element Squad-based Attack Boost",stat:M.atk,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_UNIQUEELEMENTATKDOWN:j.BUFF_UNIQUEELEMENTATKUP]},"passive:41:def":{id:G["passive:41:def"],name:"Passive Element Squad-based Defense Boost",stat:M.def,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_UNIQUEELEMENTDEFDOWN:j.BUFF_UNIQUEELEMENTDEFUP]},"passive:41:rec":{id:G["passive:41:rec"],name:"Passive Element Squad-based Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_UNIQUEELEMENTRECDOWN:j.BUFF_UNIQUEELEMENTRECUP]},"passive:41:crit":{id:G["passive:41:crit"],name:"Passive Element Squad-based Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_UNIQUEELEMENTCRTRATEDOWN:j.BUFF_UNIQUEELEMENTCRTRATEUP]}}),(()=>{const e=e=>a=>{let t="",s="UP";a&&(a.value&&a.value<0&&(s="DOWN"),a.conditions&&(t=a.conditions.targetGender||"")),"string"==typeof t&&t||(t="unknown");let i=`BUFF_${t.toUpperCase()}${e}${s}`;return t&&i in j||(i=`BUFF_GENDER${e}${s}`),[j[i]]};return{"passive:42:hp":{id:G["passive:42:hp"],name:"Passive Gender-Based HP Boost",stat:M.hp,stackType:W.Passive,icons:e("HP")},"passive:42:atk":{id:G["passive:42:atk"],name:"Passive Gender-Based Attack Boost",stat:M.atk,stackType:W.Passive,icons:e("ATK")},"passive:42:def":{id:G["passive:42:def"],name:"Passive Gender-Based Defense Boost",stat:M.def,stackType:W.Passive,icons:e("DEF")},"passive:42:rec":{id:G["passive:42:rec"],name:"Passive Gender-Based Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e("REC")},"passive:42:crit":{id:G["passive:42:crit"],name:"Passive Gender-Based Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e("CRTRATE")}}})()),{"passive:43":{id:G["passive:43"],name:"Passive Damage Reduction To One (Chance)",stat:M.reduceDamageToOne,stackType:W.Passive,icons:()=>[j.BUFF_DAMAGECUTTOONE]},"passive:44:hp":{id:G["passive:44:hp"],name:"Passive Flat HP Boost",stat:M.hp,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HPDOWN:j.BUFF_HPUP]},"passive:44:atk":{id:G["passive:44:atk"],name:"Passive Flat Attack Boost",stat:M.atk,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ATKDOWN:j.BUFF_ATKUP]},"passive:44:def":{id:G["passive:44:def"],name:"Passive Flat Defense Boost",stat:M.def,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_DEFDOWN:j.BUFF_DEFUP]},"passive:44:rec":{id:G["passive:44:rec"],name:"Passive Flat Recovery Boost",stat:M.rec,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_RECDOWN:j.BUFF_RECUP]},"passive:44:crit":{id:G["passive:44:crit"],name:"Passive Flat Critical Hit Rate Boost",stat:M.crit,stackType:W.Passive,icons:e=>[e&&e.value&&e.value<0?j.BUFF_CRTRATEDOWN:j.BUFF_CRTRATEUP]},"passive:45:base":{id:G["passive:45:base"],name:"Passive Base Critical Damage Reduction",stat:M.criticalDamageMitigation,stackType:W.Passive,icons:()=>[j.BUFF_CRTDOWN]},"passive:45:buff":{id:G["passive:45:buff"],name:"Passive Buffed Critical Damage Reduction",stat:M.criticalDamageMitigation,stackType:W.Passive,icons:()=>[j.BUFF_CRTDOWN]},"passive:46:atk":{id:G["passive:46:atk"],name:"Passive Attack Boost Relative to HP",stat:M.atk,stackType:W.Passive,icons:e=>[e&&e.value&&e.value.addedValue&&e.value.addedValue<0?j.BUFF_HPSCALEDATKDOWN:j.BUFF_HPSCALEDATKUP]},"passive:46:def":{id:G["passive:46:def"],name:"Passive Defense Boost Relative to HP",stat:M.def,stackType:W.Passive,icons:e=>[e&&e.value&&e.value.addedValue&&e.value.addedValue<0?j.BUFF_HPSCALEDDEFDOWN:j.BUFF_HPSCALEDDEFUP]},"passive:46:rec":{id:G["passive:46:rec"],name:"Passive Recovery Boost Relative to HP",stat:M.rec,stackType:W.Passive,icons:e=>[e&&e.value&&e.value.addedValue&&e.value.addedValue<0?j.BUFF_HPSCALEDRECDOWN:j.BUFF_HPSCALEDRECUP]},"passive:47":{id:G["passive:47"],name:"Passive BC Fill on Spark",stat:M.bbGauge,stackType:W.Passive,icons:()=>[j.BUFF_SPARKBBUP]},"passive:48":{id:G["passive:48"],name:"Passive BC Cost Reduction",stat:M.bcCostReduction,stackType:W.Passive,icons:()=>[j.BUFF_BBCOST_REDUCTION]},"passive:49":{id:G["passive:49"],name:"Passive BB Gauge Consumption Reduction",stat:M.bbGaugeConsumptionReduction,stackType:W.Passive,icons:()=>[j.BUFF_BBREC]},"passive:50:fire":{id:G["passive:50:fire"],name:"Passive Fire Elemental Damage Boost",stat:M.fireElementalDamage,stackType:W.Passive,icons:()=>[j.BUFF_FIREDMGUP]},"passive:50:water":{id:G["passive:50:water"],name:"Passive Water Elemental Damage Boost",stat:M.waterElementalDamage,stackType:W.Passive,icons:()=>[j.BUFF_WATERDMGUP]},"passive:50:earth":{id:G["passive:50:earth"],name:"Passive Earth Elemental Damage Boost",stat:M.earthElementalDamage,stackType:W.Passive,icons:()=>[j.BUFF_EARTHDMGUP]},"passive:50:thunder":{id:G["passive:50:thunder"],name:"Passive Thunder Elemental Damage Boost",stat:M.thunderElementalDamage,stackType:W.Passive,icons:()=>[j.BUFF_THUNDERDMGUP]},"passive:50:light":{id:G["passive:50:light"],name:"Passive Light Elemental Damage Boost",stat:M.lightElementalDamage,stackType:W.Passive,icons:()=>[j.BUFF_LIGHTDMGUP]},"passive:50:dark":{id:G["passive:50:dark"],name:"Passive Dark Elemental Damage Boost",stat:M.darkElementalDamage,stackType:W.Passive,icons:()=>[j.BUFF_DARKDMGUP]},"passive:50:unknown":{id:G["passive:50:unknown"],name:"Passive Elemental Damage Boost (Unspecified Element)",stackType:W.Passive,icons:()=>[j.BUFF_ELEMENTDMGUP]},"passive:53:critical-damage-base":{id:G["passive:53:critical-damage-base"],name:"Passive Base Critical Damage Reduction",stat:M.criticalDamageMitigation,stackType:W.Passive,icons:()=>[j.BUFF_CRTDOWN]},"passive:53:critical-damage-buff":{id:G["passive:53:critical-damage-buff"],name:"Passive Buffed Critical Damage Reduction",stat:M.criticalDamageMitigation,stackType:W.Passive,icons:()=>[j.BUFF_CRTDOWN]},"passive:53:element-damage-base":{id:G["passive:53:element-damage-base"],name:"Passive Base Elemental Weakness Damage Reduction",stat:M.elementalWeaknessDamageMitigation,stackType:W.Passive,icons:()=>[j.BUFF_ELEMENTDOWN]},"passive:53:element-damage-buff":{id:G["passive:53:element-damage-buff"],name:"Passive Buffed Elemental Weakness Damage Reduction",stat:M.elementalWeaknessDamageMitigation,stackType:W.Passive,icons:()=>[j.BUFF_ELEMENTDOWN]},"passive:53:critical-rate-base":{id:G["passive:53:critical-rate-base"],name:"Passive Base Critical Hit Rate Reduction",stat:M.crit,stackType:W.Passive,icons:()=>[j.BUFF_CRTDOWN]},"passive:53:critical-rate-buff":{id:G["passive:53:critical-rate-buff"],name:"Passive Buffed Critical Hit Rate Reduction",stat:M.crit,stackType:W.Passive,icons:()=>[j.BUFF_CRTDOWN]},"passive:55:hp condition":{id:G["passive:55:hp condition"],name:"Passive Conditional Effect based on HP Threshold",stat:M.crit,stackType:W.Passive,icons:()=>[j.BUFF_CRTDOWN]},UNKNOWN_PROC_EFFECT_ID:{id:G.UNKNOWN_PROC_EFFECT_ID,name:"Unknown Proc Effect",stackType:W.Unknown,icons:()=>[j.UNKNOWN]},UNKNOWN_PROC_BUFF_PARAMS:{id:G.UNKNOWN_PROC_BUFF_PARAMS,name:"Unknown Proc Buff Parameters",stackType:W.Unknown,icons:()=>[j.UNKNOWN]},"proc:1":{id:G["proc:1"],name:"Regular Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST:j.ATK_AOE]},"proc:2":{id:G["proc:2"],name:"Burst Heal",stat:M.hpRecovery,stackType:W.Burst,icons:()=>[j.BUFF_HPREC]},"proc:3":{id:G["proc:3"],name:"Active Gradual Heal",stat:M.hpRecovery,stackType:W.Active,icons:()=>[j.BUFF_HPREC]},"proc:4:flat":{id:G["proc:4:flat"],name:"Burst BC Fill (Flat Amount)",stat:M.bbGauge,stackType:W.Burst,icons:()=>[j.BUFF_BBREC]},"proc:4:percent":{id:G["proc:4:percent"],name:"Burst BC Fill (Percentage)",stat:M.bbGauge,stackType:W.Burst,icons:()=>[j.BUFF_BBREC]}}),(()=>{const e=e=>a=>{let t="",s=!1,i="UP";a&&(a.value&&a.value<0&&(i="DOWN"),a.conditions&&a.conditions.targetElements&&(t=a.conditions.targetElements[0],s=!0)),"string"!=typeof t&&(t="");let n=`BUFF_${t.toUpperCase()}${e}${i}`;return t&&n in j||(n=`BUFF_${s?"ELEMENT":""}${e}${i}`),[j[n]]};return{"proc:5:atk":{id:G["proc:5:atk"],name:"Active Regular/Elemental Attack Boost",stat:M.atk,stackType:W.Active,icons:e("ATK")},"proc:5:def":{id:G["proc:5:def"],name:"Active Regular/Elemental Defense Boost",stat:M.def,stackType:W.Active,icons:e("DEF")},"proc:5:rec":{id:G["proc:5:rec"],name:"Active Regular/Elemental Recovery Boost",stat:M.rec,stackType:W.Active,icons:e("REC")},"proc:5:crit":{id:G["proc:5:crit"],name:"Active Regular/Elemental Critical Hit Rate Boost",stat:M.crit,stackType:W.Active,icons:e("CRTRATE")}}})()),{"proc:6:bc":{id:G["proc:6:bc"],name:"Active Battle Crystal Drop Rate Boost",stat:M.bcDropRate,stackType:W.Active,icons:e=>[e&&e.value&&e.value<0?j.BUFF_BCDOWN:j.BUFF_BCDROP]},"proc:6:hc":{id:G["proc:6:hc"],name:"Active Heart Crystal Drop Rate Boost",stat:M.hcDropRate,stackType:W.Active,icons:e=>[e&&e.value&&e.value<0?j.BUFF_HCDOWN:j.BUFF_HCDROP]},"proc:6:item":{id:G["proc:6:item"],name:"Active Item Drop Rate Boost",stat:M.itemDropRate,stackType:W.Active,icons:e=>[e&&e.value&&e.value<0?j.BUFF_ITEMDOWN:j.BUFF_ITEMDROP]},"proc:7":{id:G["proc:7"],name:"Guaranteed KO Resistance",stat:M.koResistance,stackType:W.Singleton,icons:()=>[j.BUFF_KOBLK]},"proc:8:flat":{id:G["proc:8:flat"],name:"Max HP Boost (Flat Amount)",stat:M.hp,stackType:W.Singleton,icons:()=>[j.BUFF_HPUP]},"proc:8:percent":{id:G["proc:8:percent"],name:"Max HP Boost (Percentage)",stat:M.hp,stackType:W.Singleton,icons:()=>[j.BUFF_HPUP]}}),(()=>{const e=e=>a=>{let t="",s=!1,i="DOWN";a&&(a.value&&a.value>0&&(i="UP"),a.conditions&&a.conditions.targetElements&&(t=a.conditions.targetElements[0],s=!0)),"string"!=typeof t&&(t="");let n=`BUFF_${t.toUpperCase()}${e}${i}`;return t&&n in j||(n=`BUFF_${s?"ELEMENT":""}${e}${i}`),[j[n]]};return{"proc:9:atk":{id:G["proc:9:atk"],name:"Active Regular/Elemental Attack Reduction",stat:M.atk,stackType:W.Active,icons:e("ATK")},"proc:9:def":{id:G["proc:9:def"],name:"Active Regular/Elemental Defense Reduction",stat:M.def,stackType:W.Active,icons:e("DEF")},"proc:9:rec":{id:G["proc:9:rec"],name:"Active Regular/Elemental Recovery Reduction",stat:M.rec,stackType:W.Active,icons:e("REC")},"proc:9:unknown":{id:G["proc:9:unknown"],name:"Active Regular/Elemental Unknown Stat Reduction",stackType:W.Active,icons:()=>[j.UNKNOWN]}}})()),{"proc:10:poison":{id:G["proc:10:poison"],name:"Poison Cleanse",stat:M.poisonResist,stackType:W.Burst,icons:()=>[j.BUFF_POISONBLK]},"proc:10:weak":{id:G["proc:10:weak"],name:"Weak Cleanse",stat:M.weakResist,stackType:W.Burst,icons:()=>[j.BUFF_WEAKBLK]},"proc:10:sick":{id:G["proc:10:sick"],name:"Sick Cleanse",stat:M.sickResist,stackType:W.Burst,icons:()=>[j.BUFF_SICKBLK]},"proc:10:injury":{id:G["proc:10:injury"],name:"Injury Cleanse",stat:M.injuryResist,stackType:W.Burst,icons:()=>[j.BUFF_INJURYBLK]},"proc:10:curse":{id:G["proc:10:curse"],name:"Curse Cleanse",stat:M.curseResist,stackType:W.Burst,icons:()=>[j.BUFF_CURSEBLK]},"proc:10:paralysis":{id:G["proc:10:paralysis"],name:"Paralysis Cleanse",stat:M.paralysisResist,stackType:W.Burst,icons:()=>[j.BUFF_PARALYSISBLK]},"proc:10:atk down":{id:G["proc:10:atk down"],name:"Attack Reduction Cleanse",stat:M.atkDownResist,stackType:W.Burst,icons:()=>[j.BUFF_ATKDOWNBLK]},"proc:10:def down":{id:G["proc:10:def down"],name:"Defense Reduction Cleanse",stat:M.defDownResist,stackType:W.Burst,icons:()=>[j.BUFF_DEFDOWNBLK]},"proc:10:rec down":{id:G["proc:10:rec down"],name:"Recovery Reduction Cleanse",stat:M.recDownResist,stackType:W.Burst,icons:()=>[j.BUFF_RECDOWNBLK]},"proc:10:unknown":{id:G["proc:10:unknown"],name:"Unknown Ailment Cleanse",stackType:W.Unknown,icons:()=>[j.BUFF_AILMENTBLK]},"proc:11:poison":{id:G["proc:11:poison"],name:"Poison Infliction",stat:M.poisonInflict,stackType:W.Burst,icons:()=>[j.DEBUFF_POISON]},"proc:11:weak":{id:G["proc:11:weak"],name:"Weak Infliction",stat:M.weakInflict,stackType:W.Burst,icons:()=>[j.DEBUFF_WEAK]},"proc:11:sick":{id:G["proc:11:sick"],name:"Sick Infliction",stat:M.sickInflict,stackType:W.Burst,icons:()=>[j.DEBUFF_SICK]},"proc:11:injury":{id:G["proc:11:injury"],name:"Injury Infliction",stat:M.injuryInflict,stackType:W.Burst,icons:()=>[j.DEBUFF_INJURY]},"proc:11:curse":{id:G["proc:11:curse"],name:"Curse Infliction",stat:M.curseInflict,stackType:W.Burst,icons:()=>[j.DEBUFF_CURSE]},"proc:11:paralysis":{id:G["proc:11:paralysis"],name:"Paralysis Infliction",stat:M.paralysisInflict,stackType:W.Burst,icons:()=>[j.DEBUFF_PARALYSIS]},"proc:11:atk down":{id:G["proc:11:atk down"],name:"Attack Reduction Infliction",stat:M.atkDownInflict,stackType:W.Burst,icons:()=>[j.BUFF_ATKDOWN]},"proc:11:def down":{id:G["proc:11:def down"],name:"Defense Reduction Infliction",stat:M.defDownInflict,stackType:W.Burst,icons:()=>[j.BUFF_DEFDOWN]},"proc:11:rec down":{id:G["proc:11:rec down"],name:"Recovery Reduction Infliction",stat:M.recDownInflict,stackType:W.Burst,icons:()=>[j.BUFF_RECDOWN]},"proc:11:unknown":{id:G["proc:11:unknown"],name:"Unknown Ailment Infliction",stackType:W.Unknown,icons:()=>[j.DEBUFF_AILMENT]},"proc:12":{id:G["proc:12"],name:"Instant Revive (Guaranteed)",stackType:W.Burst,icons:()=>[j.BUFF_KOBLK]},"proc:13":{id:G["proc:13"],name:"Random Target Damage",stackType:W.Attack,icons:()=>[j.ATK_RT]},"proc:14":{id:G["proc:14"],name:"Lifesteal Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_HPREC:j.ATK_AOE_HPREC]},"proc:16:fire":{id:G["proc:16:fire"],name:"Active Fire Damage Reduction",stat:M.fireMitigation,stackType:W.Active,icons:()=>[j.BUFF_FIREDMGDOWN]},"proc:16:water":{id:G["proc:16:water"],name:"Active Water Damage Reduction",stat:M.waterMitigation,stackType:W.Active,icons:()=>[j.BUFF_WATERDMGDOWN]},"proc:16:earth":{id:G["proc:16:earth"],name:"Active Earth Damage Reduction",stat:M.earthMitigation,stackType:W.Active,icons:()=>[j.BUFF_EARTHDMGDOWN]},"proc:16:thunder":{id:G["proc:16:thunder"],name:"Active Thunder Damage Reduction",stat:M.thunderMitigation,stackType:W.Active,icons:()=>[j.BUFF_THUNDERDMGDOWN]},"proc:16:light":{id:G["proc:16:light"],name:"Active Light Damage Reduction",stat:M.lightMitigation,stackType:W.Active,icons:()=>[j.BUFF_LIGHTDMGDOWN]},"proc:16:dark":{id:G["proc:16:dark"],name:"Active Dark Damage Reduction",stat:M.darkMitigation,stackType:W.Active,icons:()=>[j.BUFF_DARKDMGDOWN]},"proc:16:all":{id:G["proc:16:all"],name:"Active Elemental Damage Reduction (All Elements)",stat:M.mitigation,stackType:W.Active,icons:()=>[j.BUFF_ELEMENTDMGDOWN]},"proc:16:unknown":{id:G["proc:16:unknown"],name:"Active Elemental Damage Reduction (Unspecified Element)",stat:M.mitigation,stackType:W.Active,icons:()=>[j.BUFF_ELEMENTDMGDOWN]},"proc:17:poison":{id:G["proc:17:poison"],name:"Active Poison Resist",stat:M.poisonResist,stackType:W.Active,icons:()=>[j.BUFF_POISONBLK]},"proc:17:weak":{id:G["proc:17:weak"],name:"Active Weak Resist",stat:M.weakResist,stackType:W.Active,icons:()=>[j.BUFF_WEAKBLK]},"proc:17:sick":{id:G["proc:17:sick"],name:"Active Sick Resist",stat:M.sickResist,stackType:W.Active,icons:()=>[j.BUFF_SICKBLK]},"proc:17:injury":{id:G["proc:17:injury"],name:"Active Injury Resist",stat:M.injuryResist,stackType:W.Active,icons:()=>[j.BUFF_INJURYBLK]},"proc:17:curse":{id:G["proc:17:curse"],name:"Active Curse Resist",stat:M.curseResist,stackType:W.Active,icons:()=>[j.BUFF_CURSEBLK]},"proc:17:paralysis":{id:G["proc:17:paralysis"],name:"Active Paralysis Resist",stat:M.paralysisResist,stackType:W.Active,icons:()=>[j.BUFF_PARALYSISBLK]},"proc:18":{id:G["proc:18"],name:"Active Damage Reduction",stat:M.mitigation,stackType:W.Active,icons:()=>[j.BUFF_DAMAGECUT]},"proc:19":{id:G["proc:19"],name:"Active Gradual BC Fill",stat:M.bbGauge,stackType:W.Active,icons:()=>[j.BUFF_BBREC]},"proc:20":{id:G["proc:20"],name:"Active BC Fill when attacked",stat:M.bbGauge,stackType:W.Active,icons:()=>[j.BUFF_DAMAGEBB]},"proc:22":{id:G["proc:22"],name:"Active Defense Ignore",stat:M.defenseIgnore,stackType:W.Active,icons:()=>[j.BUFF_IGNOREDEF]},"proc:23":{id:G["proc:23"],name:"Active Spark Damage Boost",stat:M.sparkDamage,stackType:W.Active,icons:e=>[e&&e.value&&e.value<0?j.BUFF_SPARKDOWN:j.BUFF_SPARKUP]},"proc:24:atk":{id:G["proc:24:atk"],name:"Active Converted Attack Boost",stat:M.atk,stackType:W.Active,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?j.BUFF_CONVERTATKDOWN:j.BUFF_CONVERTATKUP]},"proc:24:def":{id:G["proc:24:def"],name:"Active Converted Defense Boost",stat:M.def,stackType:W.Active,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?j.BUFF_CONVERTDEFDOWN:j.BUFF_CONVERTDEFUP]},"proc:24:rec":{id:G["proc:24:rec"],name:"Active Converted Recovery Boost",stat:M.rec,stackType:W.Active,icons:e=>[e&&e.value&&e.value.value&&e.value.value<0?j.BUFF_CONVERTRECDOWN:j.BUFF_CONVERTRECUP]},"proc:26":{id:G["proc:26"],name:"Active Hit Count Boost",stat:M.hitCountModification,stackType:W.Active,icons:()=>[j.BUFF_HITUP]},"proc:27":{id:G["proc:27"],name:"Proportional Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_PROPORTIONAL:j.ATK_AOE_PROPORTIONAL]},"proc:28":{id:G["proc:28"],name:"Fixed Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_FIXED:j.ATK_AOE_FIXED]},"proc:29":{id:G["proc:29"],name:"Multi-Element Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_MULTIELEMENT:j.ATK_AOE_MULTIELEMENT]},"proc:30:fire":{id:G["proc:30:fire"],name:"Active Added Element to Attack (Fire)",stat:M.elementModification,stackType:W.Active,icons:()=>[j.BUFF_ADDFIRE]},"proc:30:water":{id:G["proc:30:water"],name:"Active Added Element to Attack (Water)",stat:M.elementModification,stackType:W.Active,icons:()=>[j.BUFF_ADDWATER]},"proc:30:earth":{id:G["proc:30:earth"],name:"Active Added Element to Attack (Earth)",stat:M.elementModification,stackType:W.Active,icons:()=>[j.BUFF_ADDEARTH]},"proc:30:thunder":{id:G["proc:30:thunder"],name:"Active Added Element to Attack (Thunder)",stat:M.elementModification,stackType:W.Active,icons:()=>[j.BUFF_ADDTHUNDER]},"proc:30:light":{id:G["proc:30:light"],name:"Active Added Element to Attack (Light)",stat:M.elementModification,stackType:W.Active,icons:()=>[j.BUFF_ADDLIGHT]},"proc:30:dark":{id:G["proc:30:dark"],name:"Active Added Element to Attack (Dark)",stat:M.elementModification,stackType:W.Active,icons:()=>[j.BUFF_ADDDARK]},"proc:30:unknown":{id:G["proc:30:unknown"],name:"Active Added Element to Attack (Unspecified Element)",stat:M.elementModification,stackType:W.Active,icons:()=>[j.BUFF_ADDELEMENT]},"proc:31:flat":{id:G["proc:31:flat"],name:"Burst BC Fill (Flat Amount)",stat:M.bbGauge,stackType:W.Burst,icons:()=>[j.BUFF_BBREC]},"proc:31:percent":{id:G["proc:31:percent"],name:"Burst BC Fill (Percentage)",stat:M.bbGauge,stackType:W.Burst,icons:()=>[j.BUFF_BBREC]},"proc:32:fire":{id:G["proc:32:fire"],name:"Element Shift (Fire)",stat:M.elementModification,stackType:W.Singleton,icons:()=>[j.BUFF_SHIFTFIRE]},"proc:32:water":{id:G["proc:32:water"],name:"Element Shift (Water)",stat:M.elementModification,stackType:W.Singleton,icons:()=>[j.BUFF_SHIFTWATER]},"proc:32:earth":{id:G["proc:32:earth"],name:"Element Shift (Earth)",stat:M.elementModification,stackType:W.Singleton,icons:()=>[j.BUFF_SHIFTEARTH]},"proc:32:thunder":{id:G["proc:32:thunder"],name:"Element Shift (Thunder)",stat:M.elementModification,stackType:W.Singleton,icons:()=>[j.BUFF_SHIFTTHUNDER]},"proc:32:light":{id:G["proc:32:light"],name:"Element Shift (Light)",stat:M.elementModification,stackType:W.Singleton,icons:()=>[j.BUFF_SHIFTLIGHT]},"proc:32:dark":{id:G["proc:32:dark"],name:"Element Shift (Dark)",stat:M.elementModification,stackType:W.Singleton,icons:()=>[j.BUFF_SHIFTDARK]},"proc:32:unknown":{id:G["proc:32:unknown"],name:"Element Shift (Unspecified Element)",stat:M.elementModification,stackType:W.Singleton,icons:()=>[j.BUFF_SHIFTELEMENT]},"proc:33":{id:G["proc:33"],name:"Buff Removal",stat:M.buffStabilityModification,stackType:W.Burst,icons:()=>[j.BUFF_REMOVEBUFF]},"proc:34:flat":{id:G["proc:34:flat"],name:"Burst BB Gauge Drain (Flat Amount)",stat:M.bbGauge,stackType:W.Burst,icons:()=>[j.BUFF_BBFILLDOWN]},"proc:34:percent":{id:G["proc:34:percent"],name:"Burst BB Gauge Drain (Percentage)",stat:M.bbGauge,stackType:W.Burst,icons:()=>[j.BUFF_BBFILLDOWN]},"proc:36":{id:G["proc:36"],name:"Active Leader Skill Lock",stat:M.buffStabilityModification,stackType:W.Active,icons:()=>[j.BUFF_DISABLELS]},"proc:37":{id:G["proc:37"],name:"Summon Unit",stackType:W.Burst,icons:()=>[j.BUFF_SUMMONUNIT]},"proc:38:poison":{id:G["proc:38:poison"],name:"Poison Cleanse",stat:M.poisonResist,stackType:W.Burst,icons:()=>[j.BUFF_POISONBLK]},"proc:38:weak":{id:G["proc:38:weak"],name:"Weak Cleanse",stat:M.weakResist,stackType:W.Burst,icons:()=>[j.BUFF_WEAKBLK]},"proc:38:sick":{id:G["proc:38:sick"],name:"Sick Cleanse",stat:M.sickResist,stackType:W.Burst,icons:()=>[j.BUFF_SICKBLK]},"proc:38:injury":{id:G["proc:38:injury"],name:"Injury Cleanse",stat:M.injuryResist,stackType:W.Burst,icons:()=>[j.BUFF_INJURYBLK]},"proc:38:curse":{id:G["proc:38:curse"],name:"Curse Cleanse",stat:M.curseResist,stackType:W.Burst,icons:()=>[j.BUFF_CURSEBLK]},"proc:38:paralysis":{id:G["proc:38:paralysis"],name:"Paralysis Cleanse",stat:M.paralysisResist,stackType:W.Burst,icons:()=>[j.BUFF_PARALYSISBLK]},"proc:38:atk down":{id:G["proc:38:atk down"],name:"Attack Reduction Cleanse",stat:M.atkDownResist,stackType:W.Burst,icons:()=>[j.BUFF_ATKDOWNBLK]},"proc:38:def down":{id:G["proc:38:def down"],name:"Defense Reduction Cleanse",stat:M.defDownResist,stackType:W.Burst,icons:()=>[j.BUFF_DEFDOWNBLK]},"proc:38:rec down":{id:G["proc:38:rec down"],name:"Recovery Reduction Cleanse",stat:M.recDownResist,stackType:W.Burst,icons:()=>[j.BUFF_RECDOWNBLK]},"proc:38:unknown":{id:G["proc:38:unknown"],name:"Unknown Ailment Cleanse",stackType:W.Unknown,icons:()=>[j.BUFF_AILMENTBLK]},"proc:39:fire":{id:G["proc:39:fire"],name:"Active Fire Damage Reduction",stat:M.fireMitigation,stackType:W.Active,icons:()=>[j.BUFF_FIREDMGDOWN]},"proc:39:water":{id:G["proc:39:water"],name:"Active Water Damage Reduction",stat:M.waterMitigation,stackType:W.Active,icons:()=>[j.BUFF_WATERDMGDOWN]},"proc:39:earth":{id:G["proc:39:earth"],name:"Active Earth Damage Reduction",stat:M.earthMitigation,stackType:W.Active,icons:()=>[j.BUFF_EARTHDMGDOWN]},"proc:39:thunder":{id:G["proc:39:thunder"],name:"Active Thunder Damage Reduction",stat:M.thunderMitigation,stackType:W.Active,icons:()=>[j.BUFF_THUNDERDMGDOWN]},"proc:39:light":{id:G["proc:39:light"],name:"Active Light Damage Reduction",stat:M.lightMitigation,stackType:W.Active,icons:()=>[j.BUFF_LIGHTDMGDOWN]},"proc:39:dark":{id:G["proc:39:dark"],name:"Active Dark Damage Reduction",stat:M.darkMitigation,stackType:W.Active,icons:()=>[j.BUFF_DARKDMGDOWN]},"proc:39:unknown":{id:G["proc:39:unknown"],name:"Active Elemental Damage Reduction (Unspecified Element)",stat:M.mitigation,stackType:W.Active,icons:()=>[j.BUFF_ELEMENTDMGDOWN]},"proc:40:poison":{id:G["proc:40:poison"],name:"Active Poison Infliction Added to Attack",stat:M.poisonInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDPOISON]},"proc:40:weak":{id:G["proc:40:weak"],name:"Active Weak Infliction Added to Attack",stat:M.weakInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDWEAK]},"proc:40:sick":{id:G["proc:40:sick"],name:"Active Sick Infliction Added to Attack",stat:M.sickInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDSICK]},"proc:40:injury":{id:G["proc:40:injury"],name:"Active Injury Infliction Added to Attack",stat:M.injuryInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDINJURY]},"proc:40:curse":{id:G["proc:40:curse"],name:"Active Curse Infliction Added to Attack",stat:M.curseInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDCURSE]},"proc:40:paralysis":{id:G["proc:40:paralysis"],name:"Active Paralysis Infliction Added to Attack",stat:M.paralysisInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDPARA]},"proc:40:atk down":{id:G["proc:40:atk down"],name:"Active Attack Reduction Infliction Added to Attack",stat:M.atkDownInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDATKDOWN]},"proc:40:def down":{id:G["proc:40:def down"],name:"Active Defense Reduction Infliction Added to Attack",stat:M.defDownInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDDEFDOWN]},"proc:40:rec down":{id:G["proc:40:rec down"],name:"Active Recovery Reduction Infliction Added to Attack",stat:M.recDownInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDRECDOWN]},"proc:40:unknown":{id:G["proc:40:unknown"],name:"Active Unknown Ailment Infliction Added to Attack",stackType:W.Unknown,icons:()=>[j.BUFF_ADDAILMENT]},"proc:42":{id:G["proc:42"],name:"Sacrificial Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_SACRIFICIAL:j.ATK_AOE_SACRIFICIAL]},"proc:43":{id:G["proc:43"],name:"Burst OD Gauge Fill (Percentage)",stat:M.odGauge,stackType:W.Burst,icons:()=>[j.BUFF_OVERDRIVEUP]},"proc:44":{id:G["proc:44"],name:"Active Damage over Time",stat:M.damageOverTime,stackType:W.Active,icons:()=>[j.BUFF_TURNDMG]},"proc:45:bb":{id:G["proc:45:bb"],name:"Active BB ATK Boost",stat:M.bbAtk,stackType:W.Active,icons:()=>[j.BUFF_BBATKUP]},"proc:45:sbb":{id:G["proc:45:sbb"],name:"Active SBB ATK Boost",stat:M.bbAtk,stackType:W.Active,icons:()=>[j.BUFF_SBBATKUP]},"proc:45:ubb":{id:G["proc:45:ubb"],name:"Active UBB ATK Boost",stat:M.bbAtk,stackType:W.Active,icons:()=>[j.BUFF_UBBATKUP]},"proc:46":{id:G["proc:46"],name:"Non-Lethal Proportional Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_PROPORTIONAL:j.ATK_AOE_PROPORTIONAL]},"proc:47":{id:G["proc:47"],name:"HP Scaled Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_HPSCALED:j.ATK_AOE_HPSCALED]},"proc:48:base":{id:G["proc:48:base"],name:"Piercing Proportional Damage (Base HP)",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_PIERCING_PROPORTIONAL:j.ATK_AOE_PIERCING_PROPORTIONAL]},"proc:48:current":{id:G["proc:48:current"],name:"Piercing Proportional Damage (Current HP)",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_PIERCING_PROPORTIONAL:j.ATK_AOE_PIERCING_PROPORTIONAL]},"proc:48:fixed":{id:G["proc:48:fixed"],name:"Piercing Fixed Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST_PIERCING_FIXED:j.ATK_AOE_PIERCING_FIXED]},"proc:48:unknown":{id:G["proc:48:unknown"],name:"Unknown Damage",stackType:W.Attack,icons:e=>[e&&e.targetArea===D.Single?j.ATK_ST:j.ATK_AOE]},"proc:49":{id:G["proc:49"],name:"Instant Death (Chance)",stackType:W.Burst,icons:()=>[j.BUFF_KO]},"proc:50":{id:G["proc:50"],name:"Active Damage Reflect (Chance)",stat:M.damageReflect,stackType:W.Active,icons:()=>[j.BUFF_COUNTERDAMAGE]},"proc:51:atk down":{id:G["proc:51:atk down"],name:"Active Attack Reduction Infliction Added to Attack",stat:M.atkDownInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDATKDOWN]},"proc:51:def down":{id:G["proc:51:def down"],name:"Active Defense Reduction Infliction Added to Attack",stat:M.defDownInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDDEFDOWN]},"proc:51:rec down":{id:G["proc:51:rec down"],name:"Active Recovery Reduction Infliction Added to Attack",stat:M.recDownInflict,stackType:W.Active,icons:()=>[j.BUFF_ADDRECDOWN]},"proc:52":{id:G["proc:52"],name:"Active BC Efficacy",stat:M.bcEfficacy,stackType:W.Active,icons:()=>[j.BUFF_BBFILL]},"proc:53:poison":{id:G["proc:53:poison"],name:"Active Poison Counter",stat:M.poisonCounter,stackType:W.Active,icons:()=>[j.BUFF_POISONCOUNTER]},"proc:53:weak":{id:G["proc:53:weak"],name:"Active Weak Counter",stat:M.weakCounter,stackType:W.Active,icons:()=>[j.BUFF_WEAKCOUNTER]},"proc:53:sick":{id:G["proc:53:sick"],name:"Active Sick Counter",stat:M.sickCounter,stackType:W.Active,icons:()=>[j.BUFF_SICKCOUNTER]},"proc:53:injury":{id:G["proc:53:injury"],name:"Active Injury Counter",stat:M.injuryCounter,stackType:W.Active,icons:()=>[j.BUFF_INJCONTER]},"proc:53:curse":{id:G["proc:53:curse"],name:"Active Curse Counter",stat:M.curseCounter,stackType:W.Active,icons:()=>[j.BUFF_CURSECOUNTER]},"proc:53:paralysis":{id:G["proc:53:paralysis"],name:"Active Paralysis Counter",stat:M.paralysisCounter,stackType:W.Active,icons:()=>[j.BUFF_PARALYCOUNTER]},"proc:54":{id:G["proc:54"],name:"Active Critical Damage Boost",stat:M.criticalDamage,stackType:W.Active,icons:()=>[j.BUFF_CRTUP]},UNKNOWN_CONDITIONAL_EFFECT_ID:{id:G.UNKNOWN_CONDITIONAL_EFFECT_ID,name:"Unknown Conditional Effect",stackType:W.Unknown,icons:()=>[j.UNKNOWN]},UNKNOWN_CONDITIONAL_BUFF_PARAMS:{id:G.UNKNOWN_CONDITIONAL_BUFF_PARAMS,name:"Unknown Conditional Buff Parameters",stackType:W.Unknown,icons:()=>[j.UNKNOWN]},"buff:12:ko resistance":{id:G["buff:12:ko resistance"],name:"Guaranteed KO Resistance",stat:M.koResistance,stackType:W.Singleton,icons:()=>[j.BUFF_KOBLK]}}));var ce=Object.freeze({__proto__:null,convertProcEffectToBuffs:function(e,a){if(!e||"object"!=typeof e)throw new TypeError("effect parameter should be an object");if(!a||"object"!=typeof a)throw new TypeError("context parameter should be an object");const i=H(e)&&t(e),n=i&&ae(a.reloadMapping).get(i);return"function"==typeof n?n(e,a):function(e,a){const i=H(e)&&t(e)||s.Unknown;return[{id:G.UNKNOWN_PROC_EFFECT_ID,originalId:i,effectDelay:e["effect delay time(ms)/frame"],targetType:e["target type"],targetArea:e["target area"],sources:V(a)}]}(e,a)},convertPassiveEffectToBuffs:function(e,a){if(!e||"object"!=typeof e)throw new TypeError("effect parameter should be an object");if(!a||"object"!=typeof a)throw new TypeError("context parameter should be an object");const s=K(e)&&t(e),n=s&&ie(a.reloadMapping).get(s);return"function"==typeof n?n(e,a):function(e,a){const s=K(e)&&t(e)||i.Unknown;return[{id:G.UNKNOWN_PASSIVE_EFFECT_ID,originalId:s,sources:V(a)}]}(e,a)},convertConditionalEffectToBuffs:se,get BuffSource(){return w},get BuffStackType(){return W},BUFF_METADATA:ne,getMetadataForBuff:function(e,a=ne){return a&&"object"==typeof a&&Object.hasOwnProperty.call(a,e)?a[e]:void 0}}),oe=Object.freeze({__proto__:null,constants:o,parsers:ce,getMetadataForProc:F,getMetadataForPassive:h,isAttackingProcId:l,getNameForProc:b,getNameForPassive:C,isProcEffect:H,isPassiveEffect:K,combineEffectsAndDamageFrames:function(e,a){let t=[];return Array.isArray(e)&&e.length>0&&Array.isArray(a)&&e.length===a.length&&(t=e.map((e,t)=>{const s=a[t];return{delay:e["effect delay time(ms)/frame"],effect:e,frames:s,id:""+(e["proc id"]||e["unknown proc id"]),targetArea:e["random attack"]?D.Random:e["target area"],targetType:e["target type"]}})),t},getEffectId:t,getEffectName:function(e,a={}){let s="";const i=t(e);return K(e)?s=C(i,a&&a.passive):H(e)&&(s=b(i,a&&a.proc)),s},get ProcBuffType(){return c},PASSIVE_METADATA:r,PROC_METADATA:p});var re=Object.freeze({__proto__:null,getEffectsForExtraSkill:function(e){return e&&Array.isArray(e.effects)?e.effects:[]}});var pe=Object.freeze({__proto__:null,getEffectsForItem:function(e){let a=[];if(e&&e.effect)if(Array.isArray(e.effect))a=e.effect;else if(Array.isArray(e.effect.effect)){const{effect:t,target_area:s,target_type:i}=e.effect;a=t.map(e=>{const a=Object.assign({},e);return a["target area"]=s,a["target type"]=i,a})}return a},getItemImageUrl:function(e,a){return`${e||""}/item/${a||""}`}});var Fe=Object.freeze({__proto__:null,getEffectsForLeaderSkill:function(e){return e&&Array.isArray(e.effects)?e.effects:[]}});var le=Object.freeze({__proto__:null,getUnitImageFileNames:function(e,a=""){const t=`${e||""}${a||""}.png`;return{spritesheet:"unit_anime_"+t,battleAvatar:"unit_ills_battle_"+t,guideAvatar:"unit_ills_thum_"+t,fullIllustration:"unit_ills_full_"+t}},getUnitImageUrl:function(e,a){return`${e||""}/unit/img/${a||""}`}});const ue="A".charCodeAt(0),de="a".charCodeAt(0),fe="0".charCodeAt(0);function De(e){return"string"==typeof e&&e.split("@")[1]||e}var Ee=Object.freeze({__proto__:null,getEffectsForSpEnhancement:function(e){const a=[];if(e&&e.skill&&Array.isArray(e.skill.effects)){e.skill.effects.forEach(e=>{Object.keys(e).forEach(t=>{const s=e[t],i=Object.assign(Object.assign({},s),{sp_type:t});a.push(i)})})}return a},getSpCategoryName:function(e){let a;switch(+e){case 1:a=g["Parameter Boost"];break;case 2:a=g.Spark;break;case 3:a=g["Critical Hits"];break;case 4:a=g["Attack Boost"];break;case 5:a=g["BB Gauge"];break;case 6:a=g["HP Recovery"];break;case 7:a=g.Drops;break;case 8:a=g["Ailment Resistance"];break;case 9:a=g["Ailment Infliction"];break;case 10:a=g["Damage Reduction"];break;case 11:a=g.Special;break;default:a=g.Unknown}return a},spIndexToCode:function(e){let a="",t=-1;return Number.isInteger(e)&&(e>=0&&e<=25?t=e+ue:e>=26&&e<=51?t=e-26+de:e>=52&&e<=61&&(t=e-52+fe)),-1!==t&&(a=String.fromCharCode(t)),a},spCodeToIndex:function(e){let a=-1,t=-1;return e&&"string"==typeof e&&1===e.length&&(e>="A"&&e<="Z"?t=ue:e>="a"&&e<="z"?t=de-26:e>="0"&&e<="9"&&(t=fe-52)),-1!==t&&(a=e.charCodeAt(0)-t),a},getSpEntryId:De,getSpEntryWithId:function(e,a){const t=De(e);return e&&Array.isArray(a)&&a.find(e=>De(e&&e.id)===t)||void 0},getAllDependenciesForSpEntry:function e(a,t,s=new Set){let i=[];if(a&&a.dependency&&Array.isArray(t)&&t.length>0){const n=De(a.dependency),c=t.find(e=>De(e&&e.id)===n);if(c&&!s.has(c)){s.add(c);const a=e(c,t,s);i=[c].concat(a)}}return i},getAllEntriesThatDependOnSpEntry:function e(a,t,s=new Set){let i=[];if(a&&a.id&&Array.isArray(t)&&t.length>0){const n=a.id;i=t.filter(e=>e.dependency&&e.dependency.includes(n)&&!s.has(e)),i.forEach(a=>{s.add(a);const n=e(a,t,s);i=i.concat(n)})}return i}});return e.buffs=oe,e.bursts=y,e.datamineTypes=x,e.extraSkills=re,e.items=pe,e.leaderSkills=Fe,e.spEnhancements=Ee,e.units=le,e.version="0.7.0",e}({});
//# sourceMappingURL=index.browser.min.js.map
